{"ast":null,"code":"import { Builder, builder, Subscription, BehaviorSubject } from \"@builder.io/sdk\";\nexport { Builder, builder, builder as default } from \"@builder.io/sdk\";\nimport { jsx, ClassNames, css } from \"@emotion/core\";\nimport * as React from \"react\";\nimport React__default, { useContext } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport hash from \"hash-sum\";\nvar version = \"1.1.54\",\n  _a;\n\"undefined\" != typeof window && (null === (_a = window.parent) || void 0 === _a || _a.postMessage({\n  type: \"builder.isReactSdk\",\n  data: {\n    value: !0,\n    supportsPatchUpdates: \"v3\",\n    priorVersion: version\n  }\n}, \"*\"))\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */;\nvar extendStatics = function (e, t) {\n  return (extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (e, t) {\n    e.__proto__ = t;\n  } || function (e, t) {\n    for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n  })(e, t);\n};\nfunction __extends(e, t) {\n  if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n  function n() {\n    this.constructor = e;\n  }\n  extendStatics(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n}\nvar __assign = function () {\n  return (__assign = Object.assign || function (e) {\n    for (var t, n = 1, i = arguments.length; n < i; n++) for (var r in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n    return e;\n  }).apply(this, arguments);\n};\nfunction __decorate(e, t, n, i) {\n  var r,\n    o = arguments.length,\n    a = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;\n  if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, i);else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (o < 3 ? r(a) : o > 3 ? r(t, n, a) : r(t, n)) || a);\n  return o > 3 && a && Object.defineProperty(t, n, a), a;\n}\nfunction __metadata(e, t) {\n  if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.metadata) return Reflect.metadata(e, t);\n}\nfunction __awaiter(e, t, n, i) {\n  return new (n || (n = Promise))(function (r, o) {\n    function a(e) {\n      try {\n        l(i.next(e));\n      } catch (e) {\n        o(e);\n      }\n    }\n    function s(e) {\n      try {\n        l(i.throw(e));\n      } catch (e) {\n        o(e);\n      }\n    }\n    function l(e) {\n      var t;\n      e.done ? r(e.value) : (t = e.value, t instanceof n ? t : new n(function (e) {\n        e(t);\n      })).then(a, s);\n    }\n    l((i = i.apply(e, t || [])).next());\n  });\n}\nfunction __generator(e, t) {\n  var n,\n    i,\n    r,\n    o,\n    a = {\n      label: 0,\n      sent: function () {\n        if (1 & r[0]) throw r[1];\n        return r[1];\n      },\n      trys: [],\n      ops: []\n    };\n  return o = {\n    next: s(0),\n    throw: s(1),\n    return: s(2)\n  }, \"function\" == typeof Symbol && (o[Symbol.iterator] = function () {\n    return this;\n  }), o;\n  function s(o) {\n    return function (s) {\n      return function (o) {\n        if (n) throw new TypeError(\"Generator is already executing.\");\n        for (; a;) try {\n          if (n = 1, i && (r = 2 & o[0] ? i.return : o[0] ? i.throw || ((r = i.return) && r.call(i), 0) : i.next) && !(r = r.call(i, o[1])).done) return r;\n          switch (i = 0, r && (o = [2 & o[0], r.value]), o[0]) {\n            case 0:\n            case 1:\n              r = o;\n              break;\n            case 4:\n              return a.label++, {\n                value: o[1],\n                done: !1\n              };\n            case 5:\n              a.label++, i = o[1], o = [0];\n              continue;\n            case 7:\n              o = a.ops.pop(), a.trys.pop();\n              continue;\n            default:\n              if (!(r = a.trys, (r = r.length > 0 && r[r.length - 1]) || 6 !== o[0] && 2 !== o[0])) {\n                a = 0;\n                continue;\n              }\n              if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {\n                a.label = o[1];\n                break;\n              }\n              if (6 === o[0] && a.label < r[1]) {\n                a.label = r[1], r = o;\n                break;\n              }\n              if (r && a.label < r[2]) {\n                a.label = r[2], a.ops.push(o);\n                break;\n              }\n              r[2] && a.ops.pop(), a.trys.pop();\n              continue;\n          }\n          o = t.call(e, a);\n        } catch (e) {\n          o = [6, e], i = 0;\n        } finally {\n          n = r = 0;\n        }\n        if (5 & o[0]) throw o[1];\n        return {\n          value: o[0] ? o[1] : void 0,\n          done: !0\n        };\n      }([o, s]);\n    };\n  }\n}\nfunction __spreadArray(e, t) {\n  for (var n = 0, i = t.length, r = e.length; n < i; n++, r++) e[r] = t[n];\n  return e;\n}\nvar sizeNames = [\"xsmall\", \"small\", \"medium\", \"large\"],\n  sizes = {\n    xsmall: {\n      min: 0,\n      default: 0,\n      max: 0\n    },\n    small: {\n      min: 320,\n      default: 321,\n      max: 640\n    },\n    medium: {\n      min: 641,\n      default: 642,\n      max: 991\n    },\n    large: {\n      min: 990,\n      default: 991,\n      max: 1200\n    },\n    getWidthForSize: function (e) {\n      return this[e].default;\n    },\n    getSizeForWidth: function (e) {\n      for (var t = 0, n = sizeNames; t < n.length; t++) {\n        var i = n[t];\n        if (e <= this[i].max) return i;\n      }\n      return \"large\";\n    }\n  },\n  set = function (e, t, n) {\n    if (Object(e) !== e) return e;\n    var i = Array.isArray(t) ? t : t.toString().match(/[^.[\\]]+/g);\n    return i.slice(0, -1).reduce(function (e, t, n) {\n      return Object(e[t]) === e[t] ? e[t] : e[t] = Math.abs(Number(i[n + 1])) >> 0 == +i[n + 1] ? [] : {};\n    }, e)[i[i.length - 1]] = n, e;\n  },\n  safeDynamicRequire = Builder.isServer ? eval(\"require\") : function () {\n    return null;\n  },\n  fnCache = {},\n  api = function (e) {\n    return builder;\n  };\nfunction stringToFunction(e, t, n, i) {\n  if (void 0 === t && (t = !0), !e || !e.trim()) return function () {};\n  var r = e + \":\" + t;\n  if (fnCache[r]) return fnCache[r];\n  var o = t && !(e.includes(\";\") || e.includes(\" return \") || e.trim().startsWith(\"return \")) || e.trim().startsWith(\"builder.run\"),\n    a = function () {};\n  try {\n    Builder.isBrowser && (a = new Function(\"state\", \"event\", \"block\", \"builder\", \"Device\", \"update\", \"Builder\", \"context\", \"\\n          var names = [\\n            'state',\\n            'event',\\n            'block',\\n            'builder',\\n            'Device',\\n            'update',\\n            'Builder',\\n            'context'\\n          ];\\n          var rootState = state;\\n          if (typeof Proxy !== 'undefined') {\\n            rootState = new Proxy(rootState, {\\n              set: function () {\\n                return false;\\n              },\\n              get: function (target, key) {\\n                if (names.includes(key)) {\\n                  return undefined;\\n                }\\n                return target[key];\\n              }\\n            });\\n          }\\n          /* Alias */\\n          var ctx = context;\\n          with (rootState) {\\n            \".concat(o ? \"return (\".concat(e, \");\") : e, \";\\n          }\\n        \")));\n  } catch (t) {\n    n && n.push(t);\n    var s = t && t.message;\n    s && \"string\" == typeof s && i && -1 === i.indexOf(s) && i.push(s), Builder.isBrowser && console.warn(\"Function compile error in \".concat(e), t);\n  }\n  var l = function () {\n    for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];\n    try {\n      if (Builder.isBrowser) return a.apply(void 0, t);\n      var r = safeDynamicRequire(\"vm2\").VM,\n        o = t[0],\n        s = t[1];\n      return new r({\n        timeout: 100,\n        sandbox: __assign(__assign(__assign(__assign({}, o), {\n          state: o\n        }), {\n          builder: api\n        }), {\n          event: s\n        })\n      }).run(e.replace(/(^|;)return /, \"$1\"));\n    } catch (t) {\n      Builder.isBrowser ? console.warn(\"Builder custom code error:\", t.message || t, \"in\", e, t.stack || t) : process.env.DEBUG && console.debug(\"Builder custom code error:\", t.message || t, \"in\", e, t.stack || t), n && n.push(t);\n    }\n  };\n  return Builder.isBrowser && (fnCache[r] = l), l;\n}\nvar isPromise = function (e) {\n    return \"function\" == typeof e.then;\n  },\n  isRequestInfo = function (e) {\n    return !isPromise(e);\n  },\n  BuilderAsyncRequestsContext = React__default.createContext({\n    requests: [],\n    errors: [],\n    logs: []\n  }),\n  BuilderStoreContext = React__default.createContext({\n    state: {},\n    rootState: {},\n    content: {},\n    context: {},\n    update: function (e) {\n      return null;\n    }\n  }),\n  applyPatchWithMinimalMutationChain = function (e, t, n) {\n    if (void 0 === n && (n = !0), Object(e) !== e) return e;\n    var i = t.path,\n      r = t.op,\n      o = t.value,\n      a = i.split(/\\//);\n    \"\" === a[0] && a.shift();\n    for (var s = n ? e : __assign({}, e), l = s, u = 0; u < a.length; u++) {\n      var d = u === a.length - 1,\n        c = a[u];\n      if (d) {\n        if (\"replace\" === r) l[c] = o;else if (\"add\" === r) {\n          var p = Number(c);\n          Array.isArray(l) ? \"-\" === c ? l.push(o) : l.splice(p, 0, o) : l[c] = o;\n        } else if (\"remove\" === r) {\n          p = Number(c);\n          Array.isArray(l) ? l.splice(p, 1) : delete l[c];\n        }\n      } else {\n        var f = a[u + 1],\n          m = Object(l[c]) === l[c] ? l[c] : String(Number(f)) === f ? [] : {};\n        l = l[c] = Array.isArray(m) ? __spreadArray([], m) : __assign({}, m);\n      }\n    }\n    return s;\n  },\n  htmlEscape = function (e) {\n    return e.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\");\n  },\n  blockToHtmlString = function (e) {\n    var t;\n    return \"<\".concat(htmlEscape(e.tagName || \"div\"), ' \\n    class=\"builder-block ').concat(e.id, \" \").concat(e.class || \"\", '\"\\n    builder-id=\"').concat(e.id, '\"\\n  ').concat(Object.keys(e.properties || {}).map(function (t) {\n      return \"\".concat(htmlEscape(t), '=\"').concat(htmlEscape(e.properties[t]), '\"');\n    }).join(\" \"), \"\\n  >\").concat(\"Text\" === (null === (t = null == e ? void 0 : e.component) || void 0 === t ? void 0 : t.name) ? e.component.options.text : e.children ? e.children.map(function (e) {\n      return blockToHtmlString(e);\n    }).join(\"\") : \"\", \"</\").concat(e.tagName || \"div\", \">\").replace(/\\s+/g, \" \");\n  },\n  Link = function (e) {\n    return React__default.createElement(BuilderStoreContext.Consumer, null, function (t) {\n      return t.renderLink ? t.renderLink(e) : React__default.createElement(\"a\", __assign({}, e));\n    });\n  },\n  camelCaseToKebabCase = function (e) {\n    return e ? e.replace(/([A-Z])/g, function (e) {\n      return \"-\".concat(e[0].toLowerCase());\n    }) : \"\";\n  },\n  kebabCaseToCamelCase = function (e) {\n    return void 0 === e && (e = \"\"), e.replace(/-([a-z])/g, function (e) {\n      return e[1].toUpperCase();\n    });\n  },\n  Device = {\n    desktop: 0,\n    tablet: 1,\n    mobile: 2\n  },\n  blocksMap = {},\n  voidElements = new Set([\"area\", \"base\", \"br\", \"col\", \"embed\", \"hr\", \"img\", \"input\", \"link\", \"meta\", \"param\", \"source\", \"track\", \"wbr\", \"textarea\"]),\n  last = function (e) {\n    return e[e.length - 1];\n  };\nfunction omit$1(e, t) {\n  for (var n = Object.assign({}, e), i = 0, r = t; i < r.length; i++) {\n    delete n[r[i]];\n  }\n  return n;\n}\nvar cssCase = function (e) {\n    if (!e) return e;\n    var t = camelCaseToKebabCase(e);\n    return e[0] === e[0].toUpperCase() && (t = \"-\" + t), t;\n  },\n  fastClone = function (e) {\n    return JSON.parse(JSON.stringify(e));\n  };\nfunction capitalize(e) {\n  if (e) return e[0].toUpperCase() + e.slice(1);\n}\nvar BuilderBlock$1 = function (e) {\n    function t() {\n      var t = null !== e && e.apply(this, arguments) || this;\n      return t.state = {\n        hasError: !1,\n        updates: 0\n      }, t.privateState = {\n        state: {},\n        rootState: {},\n        context: {},\n        update: function () {}\n      }, t.onWindowMessage = function (e) {\n        var n = e.data;\n        if (n) switch (n.type) {\n          case \"builder.selectionChange\":\n            if (!(o = n.data)) break;\n            var i = o.selection,\n              r = t.block && t.block.id;\n            r && Array.isArray(i) && i.indexOf(r) > -1 && setTimeout(function () {\n              window.$block = t, window.$blocks || (window.$blocks = []), window.$blocks.push(t);\n            });\n            break;\n          case \"builder.patchUpdates\":\n            var o;\n            if (!(o = n.data) || !o.data) break;\n            var a = o.data[t.block.id];\n            if (!a) return;\n            location.href.includes(\"builder.debug=true\") && t.eval(\"debugger\");\n            for (var s = __assign({}, t.block), l = 0, u = a; l < u.length; l++) {\n              var d = u[l];\n              applyPatchWithMinimalMutationChain(s, d);\n            }\n            blocksMap[t.props.block.id] = s, t.setState({\n              updates: t.state.updates + 1\n            });\n        }\n      }, t;\n    }\n    return __extends(t, e), Object.defineProperty(t.prototype, \"store\", {\n      get: function () {\n        return this.privateState;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.getDerivedStateFromError = function (e) {\n      return {\n        hasError: !0\n      };\n    }, t.prototype.componentDidCatch = function (e, t) {\n      console.error(\"Builder block error:\", e, t);\n    }, t.prototype.stringToFunction = function (e, t) {\n      return void 0 === t && (t = !0), stringToFunction(e, t, this._errors, this._logs);\n    }, Object.defineProperty(t.prototype, \"block\", {\n      get: function () {\n        return blocksMap[this.props.block.id] || this.props.block;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"emotionCss\", {\n      get: function () {\n        var e,\n          t,\n          n,\n          i = this.block;\n        if (Builder.isServer) {\n          var r = i.animations && i.animations[0];\n          if (r && \"hover\" !== r.trigger) {\n            var o = r && r.steps && r.steps[0],\n              a = o && o.styles;\n            a && (n = a);\n          }\n        }\n        var s = sizeNames.slice().reverse(),\n          l = this.block,\n          u = {};\n        if (l.responsiveStyles) for (var d = 0, c = s; d < c.length; d++) {\n          var p = c[d];\n          \"large\" === p ? this.props.emailMode || (u[\"&.builder-block\"] = Object.assign({}, l.responsiveStyles[p], n)) : u[\"@media only screen and (max-width: \".concat(sizes[p].max, \"px)\")] = {\n            \"&.builder-block\": l.responsiveStyles[p]\n          };\n        }\n        var f = i.animations && i.animations.find(function (e) {\n          return \"hover\" === e.trigger;\n        });\n        return f && (u[\":hover\"] = (null === (t = null === (e = f.steps) || void 0 === e ? void 0 : e[1]) || void 0 === t ? void 0 : t.styles) || {}, u.transition = \"all \".concat(f.duration, \"s \").concat(camelCaseToKebabCase(f.easing)), f.delay && (u.transitionDelay = f.delay + \"s\")), u;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.eval = function (e) {\n      return this.stringToFunction(e)(this.privateState.state, void 0, this.block, builder, Device, this.privateState.update, Builder, this.privateState.context);\n    }, t.prototype.componentWillUnmount = function () {\n      Builder.isEditing && removeEventListener(\"message\", this.onWindowMessage);\n    }, t.prototype.componentDidMount = function () {\n      var e,\n        t = this,\n        n = this.block,\n        i = n && n.animations;\n      if (Builder.isEditing && addEventListener(\"message\", this.onWindowMessage), i) {\n        var r = {\n          animations: fastClone(i)\n        };\n        if (n.bindings) for (var o in n.bindings) if ((null === (e = o.trim) || void 0 === e ? void 0 : e.call(o)) && o.startsWith(\"animations.\")) {\n          var a = this.stringToFunction(n.bindings[o]);\n          void 0 !== a && set(r, o, a(this.privateState.state, null, n, builder, null, null, Builder, this.privateState.context));\n        }\n        Builder.animator.bindAnimations(r.animations.filter(function (e) {\n          return \"hover\" !== e.trigger;\n        }).map(function (e) {\n          return __assign(__assign({}, e), {\n            elementId: t.block.id\n          });\n        }));\n      }\n    }, t.prototype.getElement = function (e, n) {\n      var i,\n        r,\n        o,\n        a,\n        s,\n        l = this;\n      void 0 === e && (e = 0), void 0 === n && (n = this.privateState.state);\n      var u = this.props;\n      u.child, u.fieldName;\n      var d,\n        c = this.block,\n        p = (c.tagName || \"div\").toLowerCase();\n      if (\"template\" === p) {\n        var f = c.children ? c.children.map(function (e) {\n          return blockToHtmlString(e);\n        }).join(\" \") : \"\";\n        return console.debug(\"template html\", f), jsx(\"template\", __assign({}, c.properties, {\n          dangerouslySetInnerHTML: {\n            __html: f\n          }\n        }));\n      }\n      var m = c.component && (c.component.name || c.component.component),\n        h = null;\n      c.component && !c.component.class && (c.component && c.component.tag ? d = c.component.tag : (h = Builder.components.find(function (e) {\n        return e.name === m;\n      }) || null) && h.class ? d = h.class : h && h.tag ? d = h.tag : (null == m ? void 0 : m.startsWith(\"Builder:\")) ? console.warn(\"Missing @builder.io/widgets installation, please install and import @builder.io/widgets to use \".concat(m.split(\":\")[1], \" in your content, more info here: https://github.com/BuilderIO/builder/tree/main/packages/widgets\")) : m && console.warn(\"Missing registration for \".concat(m, \", have you included the registration in your bundle?\")));\n      var g = __assign(__assign({}, c.properties), {\n        style: {}\n      });\n      if (g = __assign(__assign({}, g.properties), g), c.component && (g.component = fastClone(c.component)), c.bindings) for (var v in c.bindings) if (null === (r = v.trim) || void 0 === r ? void 0 : r.call(v)) {\n        var b = this.stringToFunction(c.bindings[v]);\n        set(g, v, b(n, null, c, api(), Device, null, Builder, this.privateState.context));\n      }\n      if (g.hide) return null;\n      if (delete g.hide, (\"show\" in g || c.bindings && c.bindings.show) && !g.show) return null;\n      if (delete g.show, c.actions) {\n        var y = function (e) {\n          if (!(null === (o = e.trim) || void 0 === o ? void 0 : o.call(e))) return \"continue\";\n          var t = c.actions[e];\n          g[\"on\" + capitalize(e)] = function (e) {\n            var i = n;\n            return \"undefined\" != typeof Proxy && (i = new Proxy(n, {\n              set: function (e, t, n) {\n                return e[t] = n, l.privateState.rootState[t] = n, !0;\n              }\n            })), l.stringToFunction(t, !1)(i, e, l.block, builder, Device, l.privateState.update, Builder, l.privateState.context);\n          };\n        };\n        for (var v in c.actions) y(v);\n      }\n      var _ = (g.component || g.options) && __assign(__assign({}, g.options), g.component.options || g.component.data),\n        x = voidElements.has(p),\n        S = h && (h.fragment || h.noWrap),\n        k = (null === (a = g.attr) || void 0 === a ? void 0 : a.style) || (\"string\" == typeof g.style ? g.style : \"\") || \"\";\n      if (\"string\" == typeof k) {\n        \"object\" != typeof g.style && (g.style = {});\n        for (var w = 0, C = k.split(\";\"); w < C.length; w++) {\n          var B = C[w].split(\":\");\n          if (!B.length) return;\n          v = B[0], b = B[1];\n          B.length > 2 && (b = B.slice(1).join(\":\")), g.style[kebabCaseToCamelCase(v)] = b;\n        }\n      }\n      var R = __assign(__assign(__assign({}, omit$1(g, [\"class\", \"component\", \"attr\"])), ((i = {})[\"string\" != typeof p || p.includes(\"-\") ? \"class\" : \"className\"] = \"builder-block \".concat(this.id).concat(c.class ? \" \".concat(c.class) : \"\").concat(!c.component || [\"Image\", \"Video\", \"Banner\"].indexOf(m) > -1 ? \"\" : \" builder-has-component\") + (g.class ? \" \" + g.class : \"\") + (Builder.isEditing && (null === (s = this.privateState.state._spacer) || void 0 === s ? void 0 : s.parent) === c.id ? \" builder-spacer-parent\" : \"\"), i.key = this.id + e, i[\"builder-id\"] = this.id, i)), 0 !== e && {\n        \"builder-index\": e\n      });\n      Builder.isEditing && (R[\"builder-inline-styles\"] = g.attr && g.attr.style ? Object.keys(g.style).reduce(function (e, t) {\n        return (e ? \"\".concat(e, \";\") : \"\") + \"\".concat(cssCase(t), \":\").concat(g.style[t], \";\");\n      }, \"\") : \"\"), (R.properties && R.properties.href || R.href) && \"div\" === p && (p = \"a\"), \"a\" === p && (p = Link);\n      var E = c.children || R.children || [];\n      return jsx(React__default.Fragment, null, jsx(ClassNames, null, function (e) {\n        var n = e.css;\n        if (e.cx, !l.props.emailMode) {\n          var i = \" \" + n(l.emotionCss);\n          R.class && (R.class += i), R.className && (R.className += i);\n        }\n        return jsx(BuilderAsyncRequestsContext.Consumer, null, function (e) {\n          return l._asyncRequests = e && e.requests, l._errors = e && e.errors, l._logs = e && e.logs, x ? jsx(p, __assign({}, R)) : d && (S || l.props.emailMode) ? jsx(d, __assign({}, _, {\n            attributes: R,\n            builderBlock: c,\n            builderState: l.privateState\n          })) : jsx(p, __assign({}, R), d && jsx(d, __assign({\n            builderState: l.privateState,\n            builderBlock: c\n          }, _)), c.text || g.text ? g.text : !d && E && Array.isArray(E) && E.length ? E.map(function (e, n) {\n            return jsx(t, {\n              key: (l.id || \"\") + n,\n              block: e,\n              index: n,\n              size: l.props.size,\n              fieldName: l.props.fieldName,\n              child: l.props.child,\n              emailMode: l.props.emailMode\n            });\n          }) : null);\n        });\n      }));\n    }, Object.defineProperty(t.prototype, \"id\", {\n      get: function () {\n        var e = this.block;\n        return e.id.startsWith(\"builder\") ? e.id : \"builder-\" + e.id;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.contents = function (e) {\n      var t = this,\n        n = this.block;\n      if (this.privateState = e, n.repeat && n.repeat.collection) {\n        var i = n.repeat.collection,\n          r = last((i || \"\").trim().split(\"(\")[0].trim().split(\".\")),\n          o = n.repeat.itemName || (r ? r + \"Item\" : \"item\"),\n          a = this.stringToFunction(i)(e.state, null, n, api(), Device, null, Builder, this.privateState.context);\n        return Array.isArray(a) ? a.map(function (n, i) {\n          var r,\n            a = __assign(__assign({}, e.state), ((r = {\n              $index: i,\n              $item: n\n            })[o] = n, r[\"$\".concat(o, \"Index\")] = i, r));\n          return jsx(BuilderStoreContext.Provider, {\n            key: i,\n            value: __assign(__assign({}, e), {\n              state: a\n            })\n          }, t.getElement(i, a));\n        }) : null;\n      }\n      return this.getElement();\n    }, t.prototype.render = function () {\n      var e = this;\n      return this.state.hasError ? jsx(\"span\", {\n        css: {\n          display: \"inline-block\",\n          padding: 5,\n          color: \"#999\",\n          fontSize: 11,\n          fontStyle: \"italic\"\n        }\n      }, \"Builder block error :( Check console for details\") : jsx(BuilderStoreContext.Consumer, null, function (t) {\n        return e.contents(t);\n      });\n    }, t;\n  }(React__default.Component),\n  BuilderBlocks = function (e) {\n    function t() {\n      var t = null !== e && e.apply(this, arguments) || this;\n      return t.onClickEmptyBlocks = function () {\n        var e;\n        Builder.isIframe && t.noBlocks && (null === (e = window.parent) || void 0 === e || e.postMessage({\n          type: \"builder.clickEmptyBlocks\",\n          data: {\n            parentElementId: t.parentId,\n            dataPath: t.path\n          }\n        }, \"*\"));\n      }, t.onHoverEmptyBlocks = function () {\n        var e;\n        Builder.isEditing && t.noBlocks && (null === (e = window.parent) || void 0 === e || e.postMessage({\n          type: \"builder.hoverEmptyBlocks\",\n          data: {\n            parentElementId: t.parentId,\n            dataPath: t.path\n          }\n        }, \"*\"));\n      }, t;\n    }\n    return __extends(t, e), Object.defineProperty(t.prototype, \"isRoot\", {\n      get: function () {\n        return !this.props.child;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"noBlocks\", {\n      get: function () {\n        var e = this.props.blocks;\n        return !(e && e.length);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"path\", {\n      get: function () {\n        var e = this.props.dataPath || \"\";\n        return e.trim() && (e.startsWith(\"this.\") ? e = e.replace(\"this.\", \"\") : e.startsWith(\"component.options.\") || (e = \"component.options.\" + e)), e;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"parentId\", {\n      get: function () {\n        return this.props.parentElementId ? this.props.parentElementId : this.props.parent && this.props.parent.id;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.render = function () {\n      var e = this,\n        t = this.props.blocks,\n        n = this.props.emailMode ? \"span\" : \"div\";\n      return jsx(n, __assign({\n        className: \"builder-blocks\" + (this.noBlocks ? \" no-blocks\" : \"\") + (this.props.child ? \" builder-blocks-child\" : \"\") + (this.props.className ? \" \" + this.props.className : \"\"),\n        \"builder-type\": \"blocks\",\n        \"builder-path\": Builder.isIframe ? this.path : void 0,\n        \"builder-parent-id\": this.parentId,\n        css: __assign(__assign({}, !this.props.emailMode && {\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"stretch\"\n        }), this.props.style),\n        onClick: function () {\n          e.noBlocks && e.onClickEmptyBlocks();\n        }\n      }, Builder.isEditing && {\n        onMouseEnter: function () {\n          return e.onHoverEmptyBlocks();\n        }\n      }), t && Array.isArray(t) && t.map(function (t, n) {\n        return t && \"@builder.io/sdk:Element\" === t[\"@type\"] ? jsx(BuilderBlock$1, {\n          key: t.id,\n          block: t,\n          index: n,\n          fieldName: e.props.fieldName,\n          child: e.props.child,\n          emailMode: e.props.emailMode\n        }) : t;\n      }) || t);\n    }, t.renderInto = function (e, n, i) {\n      if (void 0 === n && (n = {}), e) {\n        var r = null;\n        return \"string\" == typeof e ? r = document.querySelector(e) : e instanceof Element && (r = e), ReactDOM.render(jsx(BuilderStoreContext.Provider, {\n          value: i\n        }, jsx(t, __assign({}, n))), r);\n      }\n    }, t;\n  }(React__default.Component),\n  NoWrap = function (e) {\n    return e.children;\n  };\nfunction getData(e) {\n  if (void 0 !== (null == e ? void 0 : e.data)) {\n    var t = e.data,\n      n = t.blocks,\n      i = t.blocksString,\n      r = Array.isArray(n) || \"string\" == typeof i,\n      o = __assign(__assign({}, e.data), r && {\n        blocks: n || JSON.parse(i)\n      });\n    return delete o.blocksString, o;\n  }\n}\nvar variantsScript = function (e, t) {\n    return \"\\n(function() {\\n  if (window.builderNoTrack) {\\n    return;\\n  }\\n\\n  var variants = \".concat(e, ';\\n  function removeVariants() {\\n    variants.forEach(function (template) {\\n      document.querySelector(\\'template[data-template-variant-id=\"\\' + template.id + \\'\"]\\').remove();\\n    });\\n  }\\n\\n  if (typeof document.createElement(\"template\").content === \\'undefined\\') {\\n    removeVariants();\\n    return ;\\n  }\\n\\n  function setCookie(name,value,days) {\\n    var expires = \"\";\\n    if (days) {\\n        var date = new Date();\\n        date.setTime(date.getTime() + (days*24*60*60*1000));\\n        expires = \"; expires=\" + date.toUTCString();\\n    }\\n    document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/\" + \"; Secure; SameSite=None\";\\n  }\\n\\n  function getCookie(name) {\\n    var nameEQ = name + \"=\";\\n    var ca = document.cookie.split(\\';\\');\\n    for(var i=0;i < ca.length;i++) {\\n        var c = ca[i];\\n        while (c.charAt(0)==\\' \\') c = c.substring(1,c.length);\\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\\n    }\\n    return null;\\n  }\\n  var cookieName = \\'builder.tests.').concat(t, \"';\\n  var variantInCookie = getCookie(cookieName);\\n  var availableIDs = variants.map(function(vr) { return vr.id }).concat('\").concat(t, \"');\\n  var variantId;\\n  if (availableIDs.indexOf(variantInCookie) > -1) {\\n    variantId = variantInCookie;\\n  }\\n  if (!variantId) {\\n    var n = 0;\\n    var random = Math.random();\\n    for (var i = 0; i < variants.length; i++) {\\n      var variant = variants[i];\\n      var testRatio = variant.testRatio;\\n      n += testRatio;\\n      if (random < n) {\\n        setCookie(cookieName, variant.id);\\n        variantId = variant.id;\\n        break;\\n      }\\n    }\\n    if (!variantId) {\\n      variantId = \\\"\").concat(t, '\";\\n      setCookie(cookieName, \"').concat(t, '\");\\n    }\\n  }\\n  if (variantId && variantId !== \"').concat(t, \"\\\") {\\n    var winningTemplate = document.querySelector('template[data-template-variant-id=\\\"' + variantId + '\\\"]');\\n    if (winningTemplate) {\\n      var parentNode = winningTemplate.parentNode;\\n      var newParent = parentNode.cloneNode(false);\\n      newParent.appendChild(winningTemplate.content.firstChild);\\n      parentNode.parentNode.replaceChild(newParent, parentNode);\\n    }\\n  } else if (variants.length > 0) {\\n    removeVariants();\\n  }\\n})()\").replace(/\\s+/g, \" \");\n  },\n  VariantsProvider = function (e) {\n    var t = e.initialContent,\n      n = e.children;\n    if (Builder.isBrowser && !builder.canTrack) return n([t]);\n    if (!Boolean(Object.keys((null == t ? void 0 : t.variations) || {}).length)) return n([t]);\n    var i = Object.keys(t.variations).map(function (e) {\n        return __assign(__assign({\n          id: e\n        }, t.variations[e]), {\n          data: getData(t.variations[e])\n        });\n      }),\n      r = __spreadArray(__spreadArray([], i, !0), [t]);\n    if (Builder.isServer) {\n      var o = JSON.stringify(Object.keys(t.variations || {}).map(function (e) {\n        return {\n          id: e,\n          testRatio: t.variations[e].testRatio\n        };\n      }));\n      return React.createElement(React.Fragment, null, n(r, function () {\n        return React.createElement(\"script\", {\n          dangerouslySetInnerHTML: {\n            __html: variantsScript(o, t.id)\n          }\n        });\n      }));\n    }\n    var a = \"builder.tests.\".concat(t.id),\n      s = builder.getCookie(a);\n    if (!s && Builder.isBrowser) for (var l = 0, u = Math.random(), d = 0; d < i.length; d++) {\n      var c = i[d];\n      if (u < (l += c.testRatio)) {\n        builder.setCookie(a, c.id), s = c.id;\n        break;\n      }\n    }\n    return s || (s = t.id, builder.setCookie(a, s)), n([r.find(function (e) {\n      return e.id === s;\n    })]);\n  },\n  BuilderContent = function (_super) {\n    function BuilderContent() {\n      var _this = null !== _super && _super.apply(this, arguments) || this;\n      return _this.ref = null, _this.state = {\n        loading: !_this.props.content,\n        data: getContentWithInfo(_this.props.content),\n        updates: 1\n      }, _this.onWindowMessage = function (event) {\n        var _a,\n          _b,\n          _c,\n          message = event.data;\n        if (message) switch (message.type) {\n          case \"builder.patchUpdates\":\n            if (null === (_a = _this.props.options) || void 0 === _a ? void 0 : _a.noEditorUpdates) return;\n            var data = message.data;\n            if (!data || !data.data) break;\n            var patches = data.data[null === (_b = _this.state.data) || void 0 === _b ? void 0 : _b.id];\n            if (!patches || !patches.length) return;\n            location.href.includes(\"builder.debug=true\") && eval(\"debugger\");\n            for (var _i = 0, patches_1 = patches; _i < patches_1.length; _i++) {\n              var patch = patches_1[_i];\n              applyPatchWithMinimalMutationChain(_this.state.data, patch);\n            }\n            _this.setState({\n              updates: _this.state.updates + 1,\n              data: _this.state.data ? __assign({}, _this.state.data) : _this.state.data\n            }), _this.props.contentLoaded && _this.props.contentLoaded(null === (_c = _this.state.data) || void 0 === _c ? void 0 : _c.data, _this.state.data);\n        }\n      }, _this.subscriptions = new Subscription(), _this.firstLoad = !0, _this.clicked = !1, _this.trackedImpression = !1, _this.intersectionObserver = null, _this.onClick = function (e) {\n        var t = e.nativeEvent,\n          n = _this.data;\n        n && (builder.autoTrack && _this.builder.trackInteraction(n.id, _this.renderedVariantId, _this.clicked, t, {\n          content: n\n        }), _this.clicked || (_this.clicked = !0));\n      }, _this;\n    }\n    return __extends(BuilderContent, _super), Object.defineProperty(BuilderContent.prototype, \"builder\", {\n      get: function () {\n        return this.props.builder || builder;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(BuilderContent.prototype, \"name\", {\n      get: function () {\n        var e = this.props;\n        return \"model\" in e ? e.model : e.modelName;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(BuilderContent.prototype, \"renderedVariantId\", {\n      get: function () {\n        var e,\n          t,\n          n = this.props.isStatic ? this.builder.getCookie(\"builder.tests.\".concat(null === (e = this.data) || void 0 === e ? void 0 : e.id)) : null === (t = this.data) || void 0 === t ? void 0 : t.variationId;\n        if (null !== n) return n;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(BuilderContent.prototype, \"options\", {\n      get: function () {\n        var e,\n          t,\n          n = __assign({}, this.props.options || {});\n        return !n.key && (null === (e = this.props.content) || void 0 === e ? void 0 : e.id) && (n.key = this.props.content.id), this.props.content && !(null === (t = n.initialContent) || void 0 === t ? void 0 : t.length) && (n.initialContent = [this.props.content]), n;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(BuilderContent.prototype, \"data\", {\n      get: function () {\n        var e = (this.props.inline || !Builder.isBrowser || this.firstLoad) && this.options.initialContent && this.options.initialContent[0] || this.state.data;\n        return getContentWithInfo(e);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), BuilderContent.prototype.componentDidMount = function () {\n      var e, t;\n      if (!this.props.inline || Builder.isEditing) this.subscribeToContent();else if (this.props.inline && (null === (t = null === (e = this.options) || void 0 === e ? void 0 : e.initialContent) || void 0 === t ? void 0 : t.length)) {\n        var n = this.options.initialContent[0];\n        (null == n ? void 0 : n.id) && this.builder.trackImpression(n.id, this.renderedVariantId, void 0, {\n          content: n\n        });\n      }\n      Builder.isEditing && addEventListener(\"message\", this.onWindowMessage);\n    }, BuilderContent.prototype.subscribeToContent = function () {\n      var e = this;\n      \"_inline\" !== this.name && this.subscriptions.add(builder.queueGetContent(this.name, this.options).subscribe(function (t) {\n        var n = t && t[0];\n        if (e.setState({\n          data: n,\n          loading: !1\n        }), n && e.firstLoad && (e.firstLoad = !1, builder.autoTrack && !Builder.isEditing)) {\n          var i = !1;\n          if (\"function\" == typeof IntersectionObserver && e.ref) try {\n            (e.intersectionObserver = new IntersectionObserver(function (t, i) {\n              t.forEach(function (t) {\n                t.intersectionRatio > 0 && !e.trackedImpression && (e.builder.trackImpression(n.id, e.renderedVariantId, void 0, {\n                  content: e.data\n                }), e.data, e.trackedImpression = !0, e.ref && i.unobserve(e.ref));\n              });\n            })).observe(e.ref), i = !0;\n          } catch (e) {\n            console.warn(\"Could not bind intersection observer\");\n          }\n          i || (e.trackedImpression = !0, e.builder.trackImpression(n.id, e.renderedVariantId, void 0, {\n            content: n\n          }));\n        }\n        e.props.contentLoaded && e.props.contentLoaded(n && n.data, n);\n      }, function (t) {\n        e.props.contentError && (e.props.contentError(t), e.setState({\n          loading: !1\n        }));\n      }));\n    }, BuilderContent.prototype.componentWillUnmount = function () {\n      Builder.isEditing && removeEventListener(\"message\", this.onWindowMessage), this.subscriptions.unsubscribe(), this.intersectionObserver && this.ref && this.intersectionObserver.unobserve(this.ref);\n    }, BuilderContent.prototype.render = function () {\n      var e = this;\n      if (this.props.dataOnly) return null;\n      var t = this.state.loading,\n        n = this.data,\n        i = this.props.dataOnly ? NoWrap : \"div\";\n      return React__default.createElement(VariantsProvider, {\n        initialContent: n\n      }, function (r, o) {\n        return React__default.createElement(React__default.Fragment, null, r.map(function (a, s) {\n          var l = s === r.length - 1 ? React__default.Fragment : \"template\";\n          return React__default.createElement(React__default.Fragment, {\n            key: String((null == a ? void 0 : a.id) + s)\n          }, \"template\" !== l && (null == o ? void 0 : o()), React__default.createElement(l, __assign({\n            key: String((null == a ? void 0 : a.id) + s)\n          }, \"template\" === l && {\n            \"data-template-variant-id\": null == a ? void 0 : a.id\n          }), React__default.createElement(i, __assign({}, 0 === s && !e.props.dataOnly && {\n            ref: function (t) {\n              return e.ref = t;\n            }\n          }, {\n            className: \"builder-content\",\n            onClick: e.onClick,\n            \"builder-content-id\": null == a ? void 0 : a.id,\n            \"builder-model\": e.name\n          }), e.props.children(null == a ? void 0 : a.data, !e.props.inline && t, n))));\n        }));\n      });\n    }, BuilderContent;\n  }(React__default.Component),\n  getContentWithInfo = function (e) {\n    var t;\n    if (e) {\n      var n = builder.getCookie(\"builder.tests.\".concat(e.id)),\n        i = n === e.id ? e : null === (t = e.variations) || void 0 === t ? void 0 : t[n],\n        r = (null == i ? void 0 : i.name) || ((null == i ? void 0 : i.id) === e.id ? \"Default variation\" : \"\");\n      return __assign(__assign({}, e), {\n        variationId: n,\n        testVariationId: n,\n        testVariationName: r\n      });\n    }\n    return null;\n  };\nfunction unwrapExports(e) {\n  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, \"default\") ? e.default : e;\n}\nfunction createCommonjsModule(e, t) {\n  return e(t = {\n    exports: {}\n  }, t.exports), t.exports;\n}\nvar onChange_1 = createCommonjsModule(function (e, t) {\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var n = Symbol(\"target\"),\n      i = Symbol(\"unsubscribe\"),\n      r = function (e, t) {\n        return t && t.toString && (e && (e += \".\"), e += t.toString()), e;\n      },\n      o = function (e) {\n        return Array.isArray(e) ? e.slice() : Object.assign({}, e);\n      },\n      a = function (e, t, a) {\n        if (\"undefined\" == typeof Proxy) return e;\n        void 0 === a && (a = {});\n        var s,\n          l,\n          u = Symbol(\"ProxyTarget\"),\n          d = !1,\n          c = !1,\n          p = !1,\n          f = a.equals || Object.is,\n          m = new WeakMap(),\n          h = new WeakMap(),\n          g = new WeakMap(),\n          v = function (e, n, i, a) {\n            if (!p) if (d) {\n              if (d && l && void 0 !== i && void 0 !== a && \"length\" !== n) {\n                var u = l;\n                e !== s && function (e, t) {\n                  for (var n; e;) -1 === (n = e.indexOf(\".\")) && (n = e.length), t(e.slice(0, n)), e = e.slice(n + 1);\n                }(e = e.replace(s, \"\").slice(1), function (e) {\n                  u[e] = o(u[e]), u = u[e];\n                }), u[n] = i;\n              }\n              c = !0;\n            } else t(r(e, n), a, i);\n          },\n          b = function (e, t) {\n            var n = m ? m.get(e) : void 0;\n            n && n.delete(t);\n          },\n          y = function (e, t) {\n            if (p) return e;\n            h.set(e, t);\n            var n = g.get(e);\n            return void 0 === n && (n = new Proxy(e, x), g.set(e, n)), n;\n          },\n          _ = function (e) {\n            return p || !0 === a.ignoreSymbols && \"symbol\" == typeof e;\n          },\n          x = {\n            get: function (e, t, o) {\n              if (t === u || t === n) return e;\n              if (t === i && \"\" === h.get(e)) return function (e) {\n                return p = !0, m = null, h = null, g = null, e;\n              }(e);\n              var s = Reflect.get(e, t, o);\n              if (function (e) {\n                return null === e || \"object\" != typeof e && \"function\" != typeof e;\n              }(s) || function (e) {\n                return e instanceof RegExp || e instanceof Number;\n              }(s) || \"constructor\" === t || !0 === a.isShallow) return s;\n              var l = function (e, t) {\n                var n = m ? m.get(e) : void 0;\n                if (n) return n;\n                n = new Map(), m.set(e, n);\n                var i = n.get(t);\n                return i || (i = Reflect.getOwnPropertyDescriptor(e, t), n.set(t, i)), i;\n              }(e, t);\n              if (l && !l.configurable) {\n                if (l.set && !l.get) return;\n                if (!1 === l.writable) return s;\n              }\n              return y(s, r(h.get(e), t));\n            },\n            set: function (e, t, n, i) {\n              n && void 0 !== n[u] && (n = n[u]);\n              var r = _(t),\n                o = r ? null : Reflect.get(e, t, i),\n                a = Reflect.set(e[u] || e, t, n);\n              return r || f(o, n) || v(h.get(e), t, o, n), a;\n            },\n            defineProperty: function (e, t, n) {\n              var i = Reflect.defineProperty(e, t, n);\n              return _(t) || (b(e, t), v(h.get(e), t, void 0, n.value)), i;\n            },\n            deleteProperty: function (e, t) {\n              if (!Reflect.has(e, t)) return !0;\n              var n = _(t),\n                i = n ? null : Reflect.get(e, t),\n                r = Reflect.deleteProperty(e, t);\n              return n || (b(e, t), v(h.get(e), t, i)), r;\n            },\n            apply: function (e, t, n) {\n              var i = t instanceof Date;\n              if (i && (t = t[u]), !d) {\n                d = !0, i && (l = t.valueOf()), (Array.isArray(t) || \"[object Object]\" === toString.call(t)) && (l = o(t[u])), s = (s = h.get(e)).slice(0, Math.max(s.lastIndexOf(\".\"), 0));\n                var r = Reflect.apply(e, t, n);\n                return d = !1, (c || i && !f(l, t.valueOf())) && (v(s, \"\", l, t[u] || t), l = null, c = !1), r;\n              }\n              return Reflect.apply(e, t, n);\n            }\n          },\n          S = y(e, \"\");\n        return t = t.bind(S), S;\n      };\n    a.target = function (e) {\n      return e[n] || e;\n    }, a.unsubscribe = function (e) {\n      return e[i] || e;\n    }, e.exports = a, t.default = a;\n  }),\n  onChange = unwrapExports(onChange_1),\n  nextTick = Builder.nextTick;\nfunction debounceNextTick(e, t, n) {\n  return void 0 === t && \"function\" == typeof e ? debounceNextTickImpl(e) : {\n    configurable: !0,\n    enumerable: n.enumerable,\n    get: function () {\n      return Object.defineProperty(this, t, {\n        configurable: !0,\n        enumerable: n.enumerable,\n        value: debounceNextTickImpl(n.value)\n      }), this[t];\n    }\n  };\n}\nfunction debounceNextTickImpl(e) {\n  var t = null,\n    n = null;\n  return function () {\n    var e = t;\n    if (t = [].slice.call(arguments), n = this, null !== e) return;\n    nextTick(i);\n  };\n  function i() {\n    e.apply(n, t), t = null, n = null;\n  }\n}\nfunction throttle(e, t, n) {\n  var i, r, o;\n  void 0 === n && (n = {});\n  var a = null,\n    s = 0,\n    l = function () {\n      s = !1 === n.leading ? 0 : Date.now(), a = null, o = e.apply(i, r), a || (i = r = null);\n    };\n  return function () {\n    var u = Date.now();\n    s || !1 !== n.leading || (s = u);\n    var d = t - (u - s);\n    return i = this, r = arguments, d <= 0 || d > t ? (a && (clearTimeout(a), a = null), s = u, o = e.apply(i, r), a || (i = r = null)) : a || !1 === n.trailing || (a = setTimeout(l, d)), o;\n  };\n}\nvar BuilderMetaContext = React__default.createContext({\n  emailMode: !1,\n  ampMode: !1,\n  isServer: !1\n});\nfunction pick(e) {\n  for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];\n  var i = {};\n  return t.forEach(function (t) {\n    i[t] = e[t];\n  }), i;\n}\nfunction omit(e) {\n  for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];\n  var i = __assign({}, e);\n  return t.forEach(function (e) {\n    delete i[e];\n  }), i;\n}\nvar wrapComponent = function (e) {\n    return function (t) {\n      var n,\n        i = t.builderTag || \"div\",\n        r = [\"children\"].concat((null === (n = e.inputs) || void 0 === n ? void 0 : n.map(function (e) {\n          return e.name;\n        })) || []),\n        o = omit.apply(void 0, __spreadArray(__spreadArray([t], r, !1), [\"attributes\"])),\n        a = t;\n      return e.noWrap ? React__default.createElement(e.class, __assign({\n        attributes: o\n      }, a)) : React__default.createElement(i, __assign({}, o), React__default.createElement(e.class, __assign({}, a)));\n    };\n  },\n  size$1 = function (e) {\n    return Object.keys(e).length;\n  };\nfunction debounce(e, t, n) {\n  var i;\n  return void 0 === n && (n = !1), function () {\n    var r = this,\n      o = arguments;\n    clearTimeout(i), i = setTimeout(function () {\n      i = null, n || e.apply(r, o);\n    }, t), n && !i && e.apply(r, o);\n  };\n}\nvar fontsLoaded = new Set(),\n  fetch$1 = Builder.isBrowser ? window.fetch : require(\"node-fetch\"),\n  sizeMap = {\n    desktop: \"large\",\n    tablet: \"medium\",\n    mobile: \"small\"\n  },\n  fetchCache = {},\n  tryEval = function (e, t, n) {\n    void 0 === t && (t = {});\n    var i = e;\n    if (\"string\" == typeof i && i.trim()) {\n      var r = !(i.includes(\";\") || i.includes(\" return \")),\n        o = function () {};\n      try {\n        Builder.isBrowser && (o = new Function(\"state\", \"var rootState = state;\\n        if (typeof Proxy !== 'undefined') {\\n          rootState = new Proxy(rootState, {\\n            set: function () {\\n              return false;\\n            },\\n            get: function (target, key) {\\n              if (key === 'state') {\\n                return state;\\n              }\\n              return target[key]\\n            }\\n          });\\n        }\\n        with (rootState) {\\n          \".concat(r ? \"return (\".concat(e, \");\") : e, \";\\n        }\")));\n      } catch (e) {\n        Builder.isBrowser && console.warn(\"Could not compile javascript\", e);\n      }\n      try {\n        return Builder.isBrowser ? o(t || {}) : new (0, safeDynamicRequire(\"vm2\").VM)({\n          sandbox: __assign(__assign({}, t), {\n            state: t\n          })\n        }).run(i.replace(/(^|;)return /, \"$1\"));\n      } catch (t) {\n        n && n.push(t), Builder.isBrowser ? console.warn(\"Builder custom code error:\", t.message, \"in\", e, t.stack) : process.env.DEBUG && console.debug(\"Builder custom code error:\", t.message, \"in\", e, t.stack);\n      }\n    }\n  };\nfunction searchToObject$1(e) {\n  var t = (e.search || \"\").substring(1).split(\"&\"),\n    n = {};\n  for (var i in t) if (t[i] && \"string\" == typeof t[i]) {\n    var r = t[i].split(\"=\");\n    n[decodeURIComponent(r[0])] = decodeURIComponent(r[1]);\n  }\n  return n;\n}\nvar BuilderComponent = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    if (n.subscriptions = new Subscription(), n.onStateChange = new BehaviorSubject(null), n.asServer = Builder.isServer, n.contentRef = null, n.styleRef = null, n.rootState = Builder.isServer ? {} : onChange({}, function () {\n      return n.updateState();\n    }), n.lastJsCode = \"\", n.lastHttpRequests = {}, n.httpSubscriptionPerKey = {}, n.firstLoad = !0, n.ref = null, n.messageListener = function (e) {\n      var t = e.data;\n      switch (t.type) {\n        case \"builder.updateSpacer\":\n          var i = t.data;\n          n.rootState._spacer, n.updateState(function (e) {\n            e._spacer = i;\n          });\n          break;\n        case \"builder.resetState\":\n          var r = t.data,\n            o = r.state;\n          if (r.model === n.name) {\n            for (var a in n.rootState) \"function\" != typeof n.rootState[a] && delete n.rootState[a];\n            Object.assign(n.rootState, o), n.setState(__assign(__assign({}, n.state), {\n              state: n.rootState,\n              updates: (n.state && n.state.updates || 0) + 1\n            }));\n          }\n          break;\n        case \"builder.resetSymbolState\":\n          var s = t.data.state,\n            l = (o = s.state, s.model, s.id);\n          if (n.props.builderBlock && n.props.builderBlock === l) {\n            for (var a in n.rootState) delete n.rootState[a];\n            Object.assign(n.rootState, o), n.setState(__assign(__assign({}, n.state), {\n              state: n.rootState,\n              updates: (n.state && n.state.updates || 0) + 1\n            }));\n          }\n      }\n    }, n.resizeFn = function () {\n      var e = n.deviceSizeState;\n      e !== n.state.state.deviceSize && n.setState(__assign(__assign({}, n.state), {\n        updates: (n.state && n.state.updates || 0) + 1,\n        state: Object.assign(n.rootState, __assign(__assign({}, n.state.state), {\n          deviceSize: e\n        }))\n      }));\n    }, n.resizeListener = Builder.isEditing ? throttle(n.resizeFn, 200) : debounce(n.resizeFn, 400), n.mounted = !1, n.updateState = function (e) {\n      var t = n.rootState;\n      e && e(t), n.mounted ? n.setState({\n        update: n.updateState,\n        state: t,\n        updates: (n.state && n.state.updates || 0) + 1\n      }) : n.state = __assign(__assign({}, n.state), {\n        update: n.updateState,\n        state: t,\n        updates: (n.state && n.state.updates || 0) + 1\n      }), n.notifyStateChange();\n    }, n.onContentLoaded = function (e, t) {\n      if (\"page\" === n.name && Builder.isBrowser && e) {\n        var i = e.title,\n          r = e.pageTitle,\n          o = e.description,\n          a = e.pageDescription;\n        if ((i || r) && (document.title = i || r), o || a) {\n          var s = document.querySelector('meta[name=\"description\"]');\n          s || ((s = document.createElement(\"meta\")).setAttribute(\"name\", \"description\"), document.head.appendChild(s)), s.setAttribute(\"content\", o || a);\n        }\n      }\n      if (Builder.isEditing && n.notifyStateChange(), n.props.contentLoaded && n.props.contentLoaded(e, t), e && e.inputs && Array.isArray(e.inputs) && e.inputs.length && (e.state || (e.state = {}), e.inputs.forEach(function (t) {\n        t && t.name && void 0 !== t.defaultValue && void 0 === e.state[t.name] && (e.state[t.name] = t.defaultValue);\n      })), e && e.state) {\n        var l = __assign(__assign({}, n.state), {\n          updates: (n.state && n.state.updates || 0) + 1,\n          state: Object.assign(n.rootState, __assign(__assign(__assign(__assign({}, n.state.state), {\n            location: n.locationState,\n            deviceSize: n.deviceSizeState,\n            device: n.device\n          }), e.state), n.props.data))\n        });\n        n.mounted ? n.setState(l) : n.state = l;\n      }\n      if (e && e.jsCode && Builder.isBrowser && !n.options.codegen) {\n        var u = !1;\n        if (Builder.isEditing && (n.lastJsCode === e.jsCode ? u = !0 : n.lastJsCode = e.jsCode), !u) {\n          var d = n.state.state;\n          try {\n            new Function(\"data\", \"ref\", \"state\", \"update\", \"element\", \"Builder\", \"builder\", \"context\", e.jsCode)(e, n, d, n.state.update, n.ref, Builder, builder, n.state.context);\n          } catch (t) {\n            Builder.isBrowser ? console.warn(\"Builder custom code error:\", t.message, \"in\", e.jsCode, t.stack) : process.env.DEBUG && console.debug(\"Builder custom code error:\", t.message, \"in\", e.jsCode, t.stack);\n          }\n        }\n      }\n      if (e && e.httpRequests && !n.props.noAsync && !(u = !1)) {\n        var c = function (t) {\n          var i = e.httpRequests[t];\n          if (i && (!n.data[t] || Builder.isEditing)) if (Builder.isBrowser) {\n            var r = n.evalExpression(i);\n            if (Builder.isEditing && n.lastHttpRequests[t] === r) return \"continue\";\n            n.lastHttpRequests[t] = r;\n            var o = i.match(/builder\\.io\\/api\\/v2\\/([^\\/\\?]+)/i);\n            o && o[1], n.handleRequest(t, r);\n            var a = n.httpSubscriptionPerKey[t];\n            a && a.unsubscribe();\n            var s = n.httpSubscriptionPerKey[t] = n.onStateChange.subscribe(function () {\n              var e = n.evalExpression(i);\n              e !== r && (n.handleRequest(t, e), n.lastHttpRequests[t] = e);\n            });\n            n.subscriptions.add(s);\n          } else n.handleRequest(t, n.evalExpression(i));\n        };\n        for (var p in e.httpRequests) c(p);\n      }\n    }, n.state = {\n      context: __assign(__assign({}, t.context), {\n        apiKey: builder.apiKey || n.props.apiKey\n      }),\n      state: Object.assign(n.rootState, __assign(__assign(__assign(__assign({}, n.inlinedContent && n.inlinedContent.data && n.inlinedContent.data.state), {\n        isBrowser: Builder.isBrowser,\n        isServer: !Builder.isBrowser,\n        _hydrate: t.hydrate,\n        location: n.locationState,\n        deviceSize: n.deviceSizeState,\n        device: n.device\n      }), n.getHtmlData()), t.data)),\n      updates: 0,\n      key: 0,\n      update: n.updateState\n    }, Builder.isBrowser) {\n      var i = n.props.apiKey;\n      if (i && i !== n.builder.apiKey && (n.builder.apiKey = i), n.inlinedContent) {\n        var r = n.inlinedContent.content || n.inlinedContent;\n        n.onContentLoaded(null == r ? void 0 : r.data, getContentWithInfo(r));\n      }\n    }\n    return n;\n  }\n  return __extends(t, e), Object.defineProperty(t.prototype, \"options\", {\n    get: function () {\n      return __assign(__assign({}, t.defaults), this.props);\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"name\", {\n    get: function () {\n      return this.props.model || this.props.modelName || this.props.name;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"element\", {\n    get: function () {\n      return this.ref;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"inlinedContent\", {\n    get: function () {\n      if (!this.isPreviewing || this.props.inlineContent) return this.props.content;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"builder\", {\n    get: function () {\n      return this.props.builder || builder;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype.getHtmlData = function () {\n    var e = this.inlinedContent && this.inlinedContent.id || this.props.entry,\n      t = e && Builder.isBrowser && document.querySelector('script[data-builder-json=\"'.concat(e, '\"],script[data-builder-state=\"').concat(e, '\"]'));\n    if (t) try {\n      return JSON.parse(t.innerText);\n    } catch (e) {\n      console.warn(\"Could not parse Builder.io HTML data transfer\", e, t.innerText);\n    }\n    return {};\n  }, Object.defineProperty(t.prototype, \"device\", {\n    get: function () {\n      return this.builder.getUserAttributes().device || \"desktop\";\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"locationState\", {\n    get: function () {\n      return __assign(__assign({}, pick(this.location, \"pathname\", \"hostname\", \"search\", \"host\")), {\n        path: this.location.pathname && this.location.pathname.split(\"/\").slice(1) || \"\",\n        query: searchToObject$1(this.location)\n      });\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"deviceSizeState\", {\n    get: function () {\n      return Builder.isBrowser ? sizes.getSizeForWidth(window.innerWidth) : sizeMap[this.device] || \"large\";\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.renderInto = function (e, n, i, r) {\n    if (void 0 === n && (n = {}), void 0 === i && (i = !0), void 0 === r && (r = !1), console.debug(\"BuilderPage.renderInto\", e, n, i, this), e) {\n      var o = null;\n      if (\"string\" == typeof e ? o = document.querySelector(e) : e instanceof Element && (o = e), o) {\n        var a = o.classList.contains(\"builder-hydrated\");\n        if (!a || r) {\n          o.classList.add(\"builder-hydrated\");\n          var s = i && o.innerHTML.includes(\"builder-block\");\n          if (!o.classList.contains(\"builder-component\")) {\n            var l = o.querySelector(\".builder-api-styles\") || (o.previousElementSibling && o.previousElementSibling.matches(\".builder-api-styles\") ? o.previousElementSibling : null),\n              u = \"\";\n            if (l) l.innerHTML.replace(/\\/\\*start:([^\\*]+?)\\*\\/([\\s\\S]*?)\\/\\*end:([^\\*]+?)\\*\\//g, function (e, t, n) {\n              var i = null;\n              try {\n                i = document.querySelector('[data-emotion-css=\"'.concat(t, '\"]'));\n              } catch (e) {\n                console.warn(e);\n              }\n              return i ? i.innerHTML = n : Builder.isEditing || (u += e), e;\n            }), Builder.nextTick(function () {\n              l.innerHTML = u;\n            });\n            var d = o.querySelector(\".builder-component\");\n            d ? o = d : s = !1;\n          }\n          location.search.includes(\"builder.debug=true\") && console.debug(\"hydrate\", s, o);\n          var c = o;\n          if (!a) {\n            var p = document.createElement(\"div\");\n            o.insertAdjacentElement(\"beforebegin\", p), p.appendChild(o), c = p;\n          }\n          if ((Builder.isEditing || Builder.isBrowser && location.search.includes(\"builder.preview=\")) && (s = !1), s && o) {\n            var f = ReactDOM.render(React__default.createElement(t, __assign({}, n)), c, c.builderRootRef);\n            return c.builderRootRef = f, f;\n          }\n          var m = ReactDOM.render(React__default.createElement(t, __assign({}, n)), c, c.builderRootRef);\n          return c.builderRootRef = m, m;\n        }\n        console.debug(\"Tried to hydrate multiple times\");\n      }\n    }\n  }, t.prototype.componentDidMount = function () {\n    var e,\n      t = this;\n    this.mounted = !0, this.asServer && (this.asServer = !1, this.updateState(function (e) {\n      e.isBrowser = !0, e.isServer = !1;\n    })), Builder.isIframe && (null === (e = window.parent) || void 0 === e || e.postMessage({\n      type: \"builder.sdkInjected\",\n      data: {\n        modelName: this.name\n      }\n    }, \"*\")), Builder.isBrowser && (window.addEventListener(\"resize\", this.resizeListener), Builder.isEditing && window.addEventListener(\"message\", this.messageListener), (Builder.isEditing || Builder.isPreviewing) && Builder.nextTick(function () {\n      t.firstLoad = !1, t.reload();\n    }), setTimeout(function () {\n      window.dispatchEvent(new CustomEvent(\"builder:component:load\", {\n        detail: {\n          ref: t\n        }\n      }));\n    }));\n  }, Object.defineProperty(t.prototype, \"isPreviewing\", {\n    get: function () {\n      return (Builder.isServer || Builder.isBrowser && Builder.isPreviewing && !this.firstLoad) && builder.previewingModel === this.name;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype.notifyStateChange = function () {\n    if (!Builder.isServer && this && this.state) {\n      var e = this.state.state;\n      this.props.onStateChange && this.props.onStateChange(e), Builder.isBrowser && window.dispatchEvent(new CustomEvent(\"builder:component:stateChange\", {\n        detail: {\n          state: e,\n          ref: this\n        }\n      })), this.onStateChange.next(e);\n    }\n  }, t.prototype.processStateFromApi = function (e) {\n    return e;\n  }, Object.defineProperty(t.prototype, \"location\", {\n    get: function () {\n      return this.props.location || (Builder.isBrowser ? location : {});\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype.getCssFromFont = function (e, t) {\n    var n = e.family + (e.kind && !e.kind.includes(\"#\") ? \", \" + e.kind : \"\"),\n      i = n.split(\",\")[0],\n      r = e.fileUrl ? e.fileUrl : e.files && e.files.regular,\n      o = \"\";\n    if (r && n && i && (o += '\\n@font-face {\\n  font-family: \"'.concat(n, '\";\\n  src: local(\"').concat(i, \"\\\"), url('\").concat(r, \"') format('woff2');\\n  font-display: fallback;\\n  font-weight: 400;\\n}\\n        \").trim()), e.files) for (var a in e.files) {\n      if (String(Number(a)) === a) {\n        var s = e.files[a];\n        s && s !== r && (o += '\\n@font-face {\\n  font-family: \"'.concat(n, \"\\\";\\n  src: url('\").concat(s, \"') format('woff2');\\n  font-display: fallback;\\n  font-weight: \").concat(a, \";\\n}\\n          \").trim());\n      }\n    }\n    return o;\n  }, t.prototype.componentWillUnmount = function () {\n    this.unsubscribe(), Builder.isBrowser && (window.removeEventListener(\"resize\", this.resizeListener), window.removeEventListener(\"message\", this.messageListener));\n  }, t.prototype.getFontCss = function (e) {\n    var t = this;\n    return this.builder.allowCustomFonts && (null == e ? void 0 : e.customFonts) && e.customFonts.length && e.customFonts.map(function (n) {\n      return t.getCssFromFont(n, e);\n    }).join(\" \") || \"\";\n  }, t.prototype.ensureFontsLoaded = function (e) {\n    if (this.builder.allowCustomFonts && (null == e ? void 0 : e.customFonts) && Array.isArray(e.customFonts)) for (var t = 0, n = e.customFonts; t < n.length; t++) {\n      var i = n[t],\n        r = i.fileUrl ? i.fileUrl : i.files && i.files.regular;\n      if (!fontsLoaded.has(r)) {\n        var o = this.getCssFromFont(i, e);\n        if (fontsLoaded.add(r), !o) continue;\n        var a = document.createElement(\"style\");\n        a.className = \"builder-custom-font\", a.setAttribute(\"data-builder-custom-font\", r), a.innerHTML = o, document.head.appendChild(a);\n      }\n    }\n  }, t.prototype.getCss = function (e) {\n    var t,\n      n = null === (t = this.useContent) || void 0 === t ? void 0 : t.id,\n      i = (null == e ? void 0 : e.cssCode) || \"\";\n    return n && (i = i.replace(/&/g, \".builder-component-\".concat(n))), i + this.getFontCss(e);\n  }, Object.defineProperty(t.prototype, \"data\", {\n    get: function () {\n      var e,\n        t = __assign(__assign(__assign({}, this.inlinedContent && (null === (e = this.inlinedContent.data) || void 0 === e ? void 0 : e.state)), this.props.data), this.state.state);\n      return Object.assign(this.rootState, t), t;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype.componentDidUpdate = function (e) {\n    var t = this;\n    this.props.data && e.data !== this.props.data && this.state.update(function (e) {\n      Object.assign(e, t.props.data);\n    }), Builder.isEditing && this.inlinedContent && e.content !== this.inlinedContent && this.onContentLoaded(this.inlinedContent.data, this.inlinedContent);\n  }, t.prototype.checkStyles = function (e) {\n    if (this.styleRef) {\n      var t = this.getCss(e);\n      this.styleRef.innerHTML !== t && (this.styleRef.innerHTML = t);\n    }\n  }, t.prototype.reload = function () {\n    this.setState({\n      key: this.state.key + 1\n    });\n  }, Object.defineProperty(t.prototype, \"content\", {\n    get: function () {\n      var e = this.inlinedContent;\n      return e && e.content && (e = __assign(__assign({}, e), {\n        data: e.content\n      })), e;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"useContent\", {\n    get: function () {\n      return this.content || this.state.context.builderContent;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype.render = function () {\n    var e,\n      t = this,\n      n = this.content,\n      i = Builder.isBrowser && this.props.data && size$1(this.props.data) && hash(this.props.data),\n      r = Builder.isEditing ? this.name : this.props.entry;\n    r && !Builder.isEditing && i && i.length < 300 && (r += \":\" + i);\n    var o = this.props.dataOnly ? React__default.Fragment : \"div\",\n      a = null === (e = this.useContent) || void 0 === e ? void 0 : e.id;\n    return React__default.createElement(o, {\n      onClick: function (e) {\n        !Builder.isEditing || t.props.isChild || t.props.stopClickPropagationWhenEditing || e.stopPropagation();\n      },\n      className: \"builder-component \".concat(a ? \"builder-component-\".concat(a) : \"\"),\n      \"data-name\": this.name,\n      \"data-source\": \"Rendered by Builder.io\",\n      key: this.state.key,\n      ref: function (e) {\n        return t.ref = e;\n      }\n    }, React__default.createElement(BuilderMetaContext.Consumer, null, function (e) {\n      return React__default.createElement(BuilderMetaContext.Provider, {\n        value: \"boolean\" == typeof t.props.ampMode ? __assign(__assign({}, e), {\n          ampMode: t.props.ampMode\n        }) : e\n      }, React__default.createElement(BuilderAsyncRequestsContext.Consumer, null, function (e) {\n        var i;\n        return t._asyncRequests = e && e.requests, t._errors = e && e.errors, t._logs = e && e.logs, React__default.createElement(BuilderContent, {\n          isStatic: t.props.isStatic || Builder.isStatic,\n          key: (null === (i = t.inlinedContent) || void 0 === i ? void 0 : i.id) || (\"content\" in t.props && !t.isPreviewing ? \"null-content-prop\" : \"no-content-prop\"),\n          builder: t.builder,\n          ref: function (e) {\n            return t.contentRef = e;\n          },\n          contentLoaded: function (e, n) {\n            return t.onContentLoaded(e, n);\n          },\n          options: __assign(__assign(__assign(__assign(__assign({\n            key: r,\n            entry: t.props.entry\n          }, n && {\n            initialContent: [n]\n          }), !n && \"content\" in t.props && !t.isPreviewing && {\n            initialContent: []\n          }), t.props.url && {\n            url: t.props.url\n          }), t.props.options), t.options.codegen && {\n            format: \"react\"\n          }),\n          inline: t.props.inlineContent || !t.isPreviewing && \"content\" in t.props,\n          contentError: t.props.contentError,\n          modelName: t.name || \"page\"\n        }, function (e, n, i) {\n          var r;\n          if (t.props.dataOnly) return null;\n          i && i.id && (t.state.context.builderContent = i), Builder.isBrowser && Builder.nextTick(function () {\n            t.checkStyles(e);\n          });\n          var o = t.options.codegen;\n          if (o && !t.Component && (null == e ? void 0 : e.blocksJs)) {\n            var a = Array.from(new Set(Builder.components.map(function (e) {\n                return e.name;\n              }))),\n              s = Builder.components.slice().reverse(),\n              l = a.map(function (e) {\n                return s.find(function (t) {\n                  return t.class && t.name === e;\n                });\n              }),\n              u = a.map(function (e) {\n                return (e || \"\").replace(/[^\\w]+/gi, \"\");\n              }),\n              d = l.map(function (e) {\n                return wrapComponent(e);\n              });\n            t.Component = new (Function.bind.apply(Function, __spreadArray(__spreadArray([void 0, \"jsx\", \"_css\", \"Builder\", \"builder\", \"React\", \"useBuilderState\"], u, !1), [e.blocksJs])))().apply(void 0, __spreadArray([jsx, css, Builder, builder, React__default, function (e) {\n              var t = React__default.useState(0)[1];\n              return React__default.useState(function () {\n                return onChange(e, function () {\n                  t(function (e) {\n                    return e + 1;\n                  });\n                });\n              })[0];\n            }], d));\n          }\n          return e ? React__default.createElement(\"div\", {\n            \"data-builder-component\": t.name,\n            \"data-builder-content-id\": i.id,\n            \"data-builder-variation-id\": i.testVariationId || i.variationId || i.id\n          }, !o && t.getCss(e) && React__default.createElement(\"style\", {\n            ref: function (e) {\n              return t.styleRef = e;\n            },\n            className: \"builder-custom-styles\",\n            dangerouslySetInnerHTML: {\n              __html: t.getCss(e)\n            }\n          }), React__default.createElement(BuilderStoreContext.Provider, {\n            value: __assign(__assign({}, t.state), {\n              rootState: t.rootState,\n              state: t.data,\n              content: i,\n              renderLink: t.props.renderLink\n            })\n          }, o && t.Component ? React__default.createElement(t.Component, {\n            data: t.data,\n            context: t.state.context\n          }) : React__default.createElement(BuilderBlocks, {\n            key: String(!!(null === (r = null == e ? void 0 : e.blocks) || void 0 === r ? void 0 : r.length)),\n            emailMode: t.props.emailMode,\n            fieldName: \"blocks\",\n            blocks: e.blocks\n          }))) : n ? React__default.createElement(\"div\", {\n            \"data-builder-component\": t.name,\n            className: \"builder-loading\"\n          }, t.props.children) : React__default.createElement(\"div\", {\n            \"data-builder-component\": t.name,\n            className: \"builder-no-content\"\n          });\n        });\n      }));\n    }));\n  }, t.prototype.evalExpression = function (e) {\n    var t = this,\n      n = this.data;\n    return e.replace(/{{([^}]+)}}/g, function (e, i) {\n      return tryEval(i, n, t._errors);\n    });\n  }, t.prototype.handleRequest = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n,\n        i,\n        r,\n        o,\n        a = this;\n      return __generator(this, function (s) {\n        return Builder.isIframe && fetchCache[t] ? (this.updateState(function (n) {\n          n[e] = fetchCache[t];\n        }), [2, fetchCache[t]]) : (n = function () {\n          return __awaiter(a, void 0, void 0, function () {\n            var n, i, r;\n            return __generator(this, function (o) {\n              switch (o.label) {\n                case 0:\n                  n = Date.now(), Builder.isBrowser || console.time(\"Fetch \" + t), o.label = 1;\n                case 1:\n                  return o.trys.push([1, 4, 5, 6]), [4, fetch$1(t)];\n                case 2:\n                  return [4, o.sent().json()];\n                case 3:\n                  return i = o.sent(), [3, 6];\n                case 4:\n                  return r = o.sent(), this._errors && this._errors.push(r), this._logs && this._logs.push(\"Fetch to \".concat(t, \" errored in \").concat(Date.now() - n, \"ms\")), [2];\n                case 5:\n                  return Builder.isBrowser || (console.timeEnd(\"Fetch \" + t), this._logs && this._logs.push(\"Fetched \".concat(t, \" in \").concat(Date.now() - n, \"ms\"))), [7];\n                case 6:\n                  return i && (Builder.isIframe && (fetchCache[t] = i), this.updateState(function (t) {\n                    t[e] = i;\n                  })), [2, i];\n              }\n            });\n          });\n        }, (i = this._asyncRequests && this._asyncRequests.find(function (e) {\n          return isRequestInfo(e) && e.url === t;\n        })) ? ((r = i.promise).then(function (t) {\n          t && a.updateState(function (n) {\n            n[e] = t;\n          });\n        }), [2, r]) : (o = n(), Builder.nextTick(function () {\n          a._asyncRequests && a._asyncRequests.push(o);\n        }), [2, o]));\n      });\n    });\n  }, t.prototype.unsubscribe = function () {\n    this.subscriptions && (this.subscriptions.unsubscribe(), this.subscriptions = new Subscription());\n  }, t.prototype.handleBuilderRequest = function (e, t) {\n    var n = this,\n      i = tryEval(t, this.data, this._errors);\n    this.subscriptions && this.unsubscribe(), i && this.subscriptions.add(this.builder.queueGetContent(i.model, i).subscribe(function (t) {\n      t && n.updateState(function (n) {\n        n[e] = t;\n      });\n    }));\n  }, t.defaults = {\n    codegen: Boolean(Builder.isBrowser && location.href.includes(\"builder.codegen=true\"))\n  }, __decorate([debounceNextTick, __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], t.prototype, \"notifyStateChange\", null), t;\n}(React__default.Component);\nfunction BuilderBlock(e) {\n  return e.type = \"react\", Builder.Component(e);\n}\nfunction updateMetadata(e, t) {\n  var n = Builder.components.find(function (t) {\n      return \"string\" == typeof e ? t.name === e : t.class === t;\n    }) || null,\n    i = t(n);\n  n && i ? Builder.registerComponent(i.class || n.class, i) : n && !i || !n && i && Builder.registerComponent(i.class, i);\n}\nfunction withBuilder(e, t) {\n  return BuilderBlock(t)(e), e;\n}\nvar withChildren = function (e) {\n    var t = React__default.forwardRef(function (t, n) {\n      var i = t.children || t.builderBlock && t.builderBlock.children && t.builderBlock.children.map(function (e) {\n        return React__default.createElement(BuilderBlock$1, {\n          key: e.id,\n          block: e\n        });\n      });\n      return React__default.createElement(e, __assign({}, t, {\n        ref: n\n      }), i);\n    });\n    return t.builderOptions = {\n      canHaveChildren: !0\n    }, t;\n  },\n  noWrap = function (e) {\n    var t = React__default.forwardRef(function (t, n) {\n      var i = __assign(__assign({}, t), t.attributes);\n      return React__default.createElement(e, __assign({}, i, {\n        ref: n\n      }));\n    });\n    return t.builderOptions = {\n      noWrap: !0\n    }, t;\n  },\n  iconUrl = \"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-text_fields-24px%20(1).svg?alt=media&token=12177b73-0ee3-42ca-98c6-0dd003de1929\",\n  TextComponent = function (e) {\n    function t() {\n      var t = null !== e && e.apply(this, arguments) || this;\n      return t.textRef = null, t;\n    }\n    return __extends(t, e), t.prototype.componentDidUpdate = function (e) {\n      this.allowTextEdit && (!this.textRef || \"true\" === this.textRef.contentEditable && this.textRef === document.activeElement || this.props.text !== e.text && (this.textRef.innerHTML = this.props.text));\n    }, t.prototype.componentDidMount = function () {\n      this.textRef && (this.textRef.innerHTML = this.props.text);\n    }, Object.defineProperty(t.prototype, \"allowTextEdit\", {\n      get: function () {\n        return Builder.isBrowser && Builder.isEditing && location.search.includes(\"builder.allowTextEdit=true\") && !(this.props.builderBlock && this.props.builderBlock.bindings && (this.props.builderBlock.bindings[\"component.options.text\"] || this.props.builderBlock.bindings[\"options.text\"] || this.props.builderBlock.bindings.text));\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.render = function () {\n      var e = this,\n        t = this.allowTextEdit,\n        n = {\n          outline: \"none\",\n          \"& p:first-of-type, & .builder-paragraph:first-of-type\": {\n            margin: 0\n          },\n          \"& > p, & .builder-paragraph\": {\n            color: \"inherit\",\n            lineHeight: \"inherit\",\n            letterSpacing: \"inherit\",\n            fontWeight: \"inherit\",\n            fontSize: \"inherit\",\n            textAlign: \"inherit\",\n            fontFamily: \"inherit\"\n          }\n        };\n      return jsx(BuilderStoreContext.Consumer, null, function (i) {\n        var r;\n        return (null === (r = i.content.meta) || void 0 === r ? void 0 : r.rtlMode) && (n.direction = \"rtl\"), jsx(React__default.Fragment, null, jsx(\"span\", __assign({\n          ref: function (t) {\n            e.textRef = t;\n          },\n          contentEditable: t || void 0,\n          onInput: function (n) {\n            var i;\n            t && (null === (i = window.parent) || void 0 === i || i.postMessage({\n              type: \"builder.textEdited\",\n              data: {\n                id: e.props.builderBlock && e.props.builderBlock.id,\n                value: n.currentTarget.innerHTML\n              }\n            }, \"*\"));\n          },\n          onKeyDown: function (n) {\n            t && e.textRef && 27 === n.which && document.activeElement === e.textRef && e.textRef.blur();\n          },\n          onFocus: function (n) {\n            var i;\n            t && (null === (i = window.parent) || void 0 === i || i.postMessage({\n              type: \"builder.textFocused\",\n              data: {\n                id: e.props.builderBlock && e.props.builderBlock.id\n              }\n            }, \"*\"));\n          },\n          onBlur: function (n) {\n            var i;\n            t && (null === (i = window.parent) || void 0 === i || i.postMessage({\n              type: \"builder.textBlurred\",\n              data: {\n                id: e.props.builderBlock && e.props.builderBlock.id\n              }\n            }, \"*\"));\n          },\n          css: n,\n          className: \"builder-text\"\n        }, !t && {\n          dangerouslySetInnerHTML: {\n            __html: e.props.text || e.props.content || \"\"\n          }\n        })));\n      });\n    }, t;\n  }(React__default.Component),\n  Text = withBuilder(TextComponent, {\n    name: \"Text\",\n    static: !0,\n    image: iconUrl,\n    inputs: [{\n      name: \"text\",\n      type: \"html\",\n      required: !0,\n      autoFocus: !0,\n      bubble: !0,\n      defaultValue: \"Enter some text...\"\n    }],\n    defaultStyles: {\n      lineHeight: \"normal\",\n      height: \"auto\",\n      textAlign: \"center\"\n    }\n  });\nfunction Slot(e) {\n  var t = e.name,\n    n = useContext(BuilderStoreContext),\n    i = !n.context.symbolId;\n  return jsx(\"div\", __assign({\n    css: {\n      pointerEvents: \"auto\"\n    }\n  }, i && {\n    \"builder-slot\": t\n  }), jsx(BuilderBlocks, {\n    child: !0,\n    parentElementId: n.context.symbolId,\n    dataPath: \"symbol.data.\".concat(t),\n    blocks: n.state[t] || []\n  }));\n}\nBuilder.registerComponent(Slot, {\n  name: \"Slot\",\n  description: \"Allow child blocks to be inserted into this content when used as a Symbol\",\n  docsLink: \"https://www.builder.io/c/docs/symbols-with-blocks\",\n  image: \"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F3aad6de36eae43b59b52c85190fdef56\",\n  inputs: [{\n    name: \"name\",\n    type: \"string\",\n    required: !0,\n    defaultValue: \"children\"\n  }]\n});\nvar FragmentComponent = function (e) {\n    function t() {\n      return null !== e && e.apply(this, arguments) || this;\n    }\n    return __extends(t, e), t.prototype.render = function () {\n      return this.props.builderBlock && this.props.builderBlock.children && this.props.builderBlock.children.map(function (e, t) {\n        return React__default.createElement(BuilderBlock$1, {\n          block: e,\n          key: e.id,\n          index: t\n        });\n      });\n    }, t;\n  }(React__default.Component),\n  Fragment = withBuilder(FragmentComponent, {\n    name: \"Core:Fragment\",\n    canHaveChildren: !0,\n    noWrap: !0,\n    static: !0,\n    hideFromInsertMenu: !0\n  }),\n  DEFAULT_ASPECT_RATIO$2 = .7004048582995948,\n  defaultBlocks = [{\n    \"@type\": \"@builder.io/sdk:Element\",\n    responsiveStyles: {\n      large: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"stretch\",\n        flexShrink: \"0\",\n        position: \"relative\",\n        marginTop: \"30px\",\n        textAlign: \"center\",\n        lineHeight: \"normal\",\n        height: \"auto\",\n        minHeight: \"20px\",\n        minWidth: \"20px\",\n        overflow: \"hidden\"\n      }\n    },\n    component: {\n      name: \"Image\",\n      options: {\n        image: \"https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d\",\n        backgroundPosition: \"center\",\n        backgroundSize: \"cover\",\n        aspectRatio: DEFAULT_ASPECT_RATIO$2\n      }\n    }\n  }, {\n    \"@type\": \"@builder.io/sdk:Element\",\n    responsiveStyles: {\n      large: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"stretch\",\n        flexShrink: \"0\",\n        position: \"relative\",\n        marginTop: \"30px\",\n        textAlign: \"center\",\n        lineHeight: \"normal\",\n        height: \"auto\"\n      }\n    },\n    component: {\n      name: \"Text\",\n      options: {\n        text: \"<p>Enter some text...</p>\"\n      }\n    }\n  }],\n  ColumnsComponent = function (e) {\n    function t() {\n      return null !== e && e.apply(this, arguments) || this;\n    }\n    return __extends(t, e), Object.defineProperty(t.prototype, \"columns\", {\n      get: function () {\n        return this.props.columns || [];\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"gutterSize\", {\n      get: function () {\n        return \"number\" == typeof this.props.space ? this.props.space || 0 : 20;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.getWidth = function (e) {\n      return this.columns[e] && this.columns[e].width || 100 / this.columns.length;\n    }, t.prototype.getColumnWidth = function (e) {\n      var t = this.columns,\n        n = this.gutterSize * (t.length - 1) / t.length;\n      return \"calc(\".concat(this.getWidth(e), \"% - \").concat(n, \"px)\");\n    }, t.prototype.render = function () {\n      var e,\n        t = this,\n        n = this.columns,\n        i = this.gutterSize;\n      return jsx(React__default.Fragment, null, jsx(\"div\", {\n        className: \"builder-columns\",\n        css: __assign({\n          display: \"flex\"\n        }, \"never\" !== this.props.stackColumnsAt && (e = {}, e[\"@media (max-width: \".concat(\"tablet\" !== this.props.stackColumnsAt ? 639 : 999, \"px)\")] = {\n          flexDirection: this.props.reverseColumnsWhenStacked ? \"column-reverse\" : \"column\",\n          alignItems: \"stretch\"\n        }, e))\n      }, n.map(function (e, n) {\n        var r,\n          o,\n          a = e.link ? Link : \"div\";\n        return jsx(React__default.Fragment, {\n          key: n\n        }, jsx(a, __assign({\n          className: \"builder-column\"\n        }, e.link ? {\n          href: e.link\n        } : null, {\n          css: __assign((r = {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"stretch\",\n            lineHeight: \"normal\"\n          }, r[\"& > .builder-blocks\"] = {\n            flexGrow: 1\n          }, r.width = t.getColumnWidth(n), r.marginLeft = 0 === n ? 0 : i, r), \"never\" !== t.props.stackColumnsAt && (o = {}, o[\"@media (max-width: \".concat(\"tablet\" !== t.props.stackColumnsAt ? 639 : 999, \"px)\")] = {\n            width: \"100%\",\n            marginLeft: 0\n          }, o))\n        }), jsx(BuilderBlocks, {\n          key: n,\n          child: !0,\n          parentElementId: t.props.builderBlock && t.props.builderBlock.id,\n          blocks: e.blocks,\n          dataPath: \"component.options.columns.\".concat(n, \".blocks\")\n        })));\n      })));\n    }, t;\n  }(React__default.Component),\n  Columns = withBuilder(ColumnsComponent, {\n    name: \"Columns\",\n    static: !0,\n    inputs: [{\n      name: \"columns\",\n      type: \"array\",\n      broadcast: !0,\n      subFields: [{\n        name: \"blocks\",\n        type: \"array\",\n        hideFromUI: !0,\n        defaultValue: defaultBlocks\n      }, {\n        name: \"width\",\n        type: \"number\",\n        hideFromUI: !0,\n        helperText: \"Width %, e.g. set to 50 to fill half of the space\"\n      }, {\n        name: \"link\",\n        type: \"url\",\n        helperText: \"Optionally set a url that clicking this column will link to\"\n      }],\n      defaultValue: [{\n        blocks: defaultBlocks\n      }, {\n        blocks: defaultBlocks\n      }],\n      onChange: function (e) {\n        function t() {\n          n.forEach(function (e) {\n            e.delete(\"width\");\n          });\n        }\n        var n = e.get(\"columns\");\n        Array.isArray(n) && (!n.find(function (e) {\n          return e.get(\"width\");\n        }) || (n.find(function (e) {\n          return !e.get(\"width\");\n        }) || 100 !== n.reduce(function (e, t) {\n          return e + t.get(\"width\");\n        }, 0)) && t());\n      }\n    }, {\n      name: \"space\",\n      type: \"number\",\n      defaultValue: 20,\n      helperText: \"Size of gap between columns\",\n      advanced: !0\n    }, {\n      name: \"stackColumnsAt\",\n      type: \"string\",\n      defaultValue: \"tablet\",\n      helperText: \"Convert horizontal columns to vertical at what device size\",\n      enum: [\"tablet\", \"mobile\", \"never\"],\n      advanced: !0\n    }, {\n      name: \"reverseColumnsWhenStacked\",\n      type: \"boolean\",\n      defaultValue: !1,\n      helperText: \"When stacking columns for mobile devices, reverse the ordering\",\n      advanced: !0\n    }]\n  }),\n  EmbedComponent = function (e) {\n    function t() {\n      var t = null !== e && e.apply(this, arguments) || this;\n      return t.elementRef = null, t.scriptsInserted = new Set(), t.scriptsRun = new Set(), t;\n    }\n    return __extends(t, e), t.prototype.componentDidUpdate = function (e) {\n      this.props.content !== e.content && this.findAndRunScripts();\n    }, t.prototype.componentDidMount = function () {\n      this.findAndRunScripts();\n    }, t.prototype.findAndRunScripts = function () {\n      if (this.elementRef && \"undefined\" != typeof window) for (var e = this.elementRef.getElementsByTagName(\"script\"), t = 0; t < e.length; t++) {\n        var n = e[t];\n        if (n.src) {\n          if (this.scriptsInserted.has(n.src)) continue;\n          this.scriptsInserted.add(n.src);\n          var i = document.createElement(\"script\");\n          i.async = !0, i.src = n.src, document.head.appendChild(i);\n        } else {\n          if (this.scriptsRun.has(n.innerText)) continue;\n          this.scriptsRun.add(n.innerText);\n          try {\n            new Function(n.innerText)();\n          } catch (e) {\n            console.warn(\"Builder custom code component error:\", e);\n          }\n        }\n      }\n    }, Object.defineProperty(t.prototype, \"content\", {\n      get: function () {\n        return Builder.isServer ? (this.props.content || \"\").replace(/<script[\\s\\S]*?<\\/script>/g, \"\") : this.props.content;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.render = function () {\n      var e = this;\n      return React__default.createElement(\"div\", {\n        ref: function (t) {\n          return e.elementRef = t;\n        },\n        className: \"builder-embed\",\n        dangerouslySetInnerHTML: {\n          __html: this.content\n        }\n      });\n    }, t;\n  }(React__default.Component),\n  Embed = withBuilder(EmbedComponent, {\n    name: \"Embed\",\n    static: !0,\n    inputs: [{\n      name: \"url\",\n      type: \"url\",\n      required: !0,\n      defaultValue: \"\",\n      helperText: \"e.g. enter a youtube url, google map, etc\",\n      onChange: function (e) {\n        var t = e.get(\"url\");\n        if (t) {\n          e.set(\"content\", \"Loading...\");\n          return fetch(\"https://iframe.ly/api/iframely?url=\".concat(t, \"&api_key=\").concat(\"ae0e60e78201a3f2b0de4b\")).then(function (e) {\n            return e.json();\n          }).then(function (n) {\n            e.get(\"url\") === t && (n.html ? e.set(\"content\", n.html) : e.set(\"content\", \"Invalid url, please try another\"));\n          }).catch(function (t) {\n            e.set(\"content\", \"There was an error embedding this URL, please try again or another URL\");\n          });\n        }\n        e.delete(\"content\");\n      }\n    }, {\n      name: \"content\",\n      type: \"html\",\n      defaultValue: '<div style=\"padding: 20px; text-align: center\">(Choose an embed URL)<div>',\n      hideFromUI: !0\n    }]\n  }),\n  globalReplaceNodes = {} || null,\n  isShopify$1 = Builder.isBrowser && \"Shopify\" in window;\nif (Builder.isBrowser && globalReplaceNodes) {\n  var customCodeQuerySelector_1 = \".builder-custom-code\";\n  try {\n    var allCustomCodeElements_1 = Array.from(document.querySelectorAll(customCodeQuerySelector_1)),\n      builderTemplates = document.querySelectorAll(\"template[data-template-variant-id]\");\n    builderTemplates.length && Array.from(builderTemplates).forEach(function (e) {\n      var t = e.content.querySelectorAll(customCodeQuerySelector_1);\n      t.length && (allCustomCodeElements_1 = allCustomCodeElements_1.concat(Array.from(t)));\n    }), allCustomCodeElements_1.forEach(function (e) {\n      var t = e.parentElement,\n        n = t && t.getAttribute(\"builder-id\");\n      n && (globalReplaceNodes[n] = globalReplaceNodes[n] || [], globalReplaceNodes[n].push(isShopify$1 ? e : e.cloneNode(!0)));\n    });\n  } catch (e) {\n    console.error(\"Builder replace nodes error:\", e);\n  }\n}\nvar CustomCodeComponent = function (e) {\n    function t(t) {\n      var n,\n        i = this;\n      if ((i = e.call(this, t) || this).elementRef = null, i.originalRef = null, i.scriptsInserted = new Set(), i.scriptsRun = new Set(), i.firstLoad = !0, i.replaceNodes = !1, i.state = {\n        hydrated: !1\n      }, Builder.isBrowser) {\n        var r = null === (n = i.props.builderBlock) || void 0 === n ? void 0 : n.id;\n        if (i.replaceNodes = Boolean(Builder.isBrowser && (t.replaceNodes || isShopify$1) && r && (null == globalReplaceNodes ? void 0 : globalReplaceNodes[r])), i.firstLoad && i.props.builderBlock) if (r && (null == globalReplaceNodes ? void 0 : globalReplaceNodes[r])) {\n          var o = globalReplaceNodes[r].shift() || null;\n          i.originalRef = o, 0 === globalReplaceNodes[r].length && delete globalReplaceNodes[r];\n        } else if (i.replaceNodes) {\n          var a = document.querySelectorAll(\".\".concat(i.props.builderBlock.id, \" .builder-custom-code\"));\n          if (1 === a.length) {\n            var s = a[0];\n            i.originalRef = s, i.originalRef.remove();\n          }\n        }\n      }\n      return i;\n    }\n    return __extends(t, e), Object.defineProperty(t.prototype, \"noReactRender\", {\n      get: function () {\n        var e;\n        return Boolean(isShopify$1 && (null === (e = this.props.code) || void 0 === e ? void 0 : e.match(/{[{%]/g)));\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"isHydrating\", {\n      get: function () {\n        return !isShopify$1 && this.originalRef;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.componentDidUpdate = function (e) {\n      this.props.code !== e.code && this.findAndRunScripts();\n    }, t.prototype.componentDidMount = function () {\n      var e = this;\n      this.firstLoad = !1, this.replaceNodes || (this.isHydrating ? (this.setState({\n        hydrated: !0\n      }), Builder.nextTick(function () {\n        return e.findAndRunScripts();\n      })) : this.findAndRunScripts()), Builder.isBrowser && this.replaceNodes && this.originalRef && this.elementRef && this.elementRef.appendChild(this.originalRef);\n    }, t.prototype.findAndRunScripts = function () {\n      if (this.elementRef && \"undefined\" != typeof window) for (var e = this.elementRef.getElementsByTagName(\"script\"), t = 0; t < e.length; t++) {\n        var n = e[t];\n        if (n.src) {\n          if (this.scriptsInserted.has(n.src)) continue;\n          this.scriptsInserted.add(n.src);\n          var i = document.createElement(\"script\");\n          i.async = !0, i.src = n.src, document.head.appendChild(i);\n        } else if (!n.type || [\"text/javascript\", \"application/javascript\", \"application/ecmascript\"].includes(n.type)) {\n          if (this.scriptsRun.has(n.innerText)) continue;\n          try {\n            this.scriptsRun.add(n.innerText), new Function(n.innerText)();\n          } catch (e) {\n            console.warn(\"Builder custom code component error:\", e);\n          }\n        }\n      }\n    }, Object.defineProperty(t.prototype, \"code\", {\n      get: function () {\n        return (Builder.isServer || this.isHydrating && this.firstLoad) && this.props.scriptsClientOnly ? (this.props.code || \"\").replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, \"\") : this.props.code;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.render = function () {\n      var e = this;\n      return React__default.createElement(\"div\", __assign({\n        ref: function (t) {\n          return e.elementRef = t;\n        },\n        className: \"builder-custom-code\"\n      }, !this.replaceNodes && !this.noReactRender && {\n        dangerouslySetInnerHTML: {\n          __html: this.code\n        }\n      }));\n    }, t;\n  }(React__default.Component),\n  CustomCode = withBuilder(CustomCodeComponent, {\n    name: \"Custom Code\",\n    static: !0,\n    requiredPermissions: [\"editCode\"],\n    inputs: [{\n      name: \"code\",\n      type: \"html\",\n      required: !0,\n      defaultValue: \"<p>Hello there, I am custom HTML code!</p>\",\n      code: !0\n    }, __assign({\n      name: \"replaceNodes\",\n      type: \"boolean\",\n      helperText: \"Preserve server rendered dom nodes\",\n      advanced: !0\n    }, isShopify$1 && {\n      defaultValue: !0\n    }), __assign({\n      name: \"scriptsClientOnly\",\n      type: \"boolean\",\n      helperText: \"Only print and run scripts on the client. Important when scripts influence DOM that could be replaced when client loads\",\n      advanced: !0\n    }, !isShopify$1 && {\n      defaultValue: !0\n    })]\n  });\nfunction removeProtocol(e) {\n  return e.replace(/http(s)?:/, \"\");\n}\nfunction isElementInViewport(e) {\n  var t = e.getBoundingClientRect();\n  return t.top >= 0 && t.left >= 0 && t.bottom <= (window.innerHeight || document.documentElement.clientHeight) && t.right <= (window.innerWidth || document.documentElement.clientWidth);\n}\nfunction getShopifyImageUrl(e, t) {\n  if (!e || !(null == e ? void 0 : e.match(/cdn\\.shopify\\.com/)) || !t) return e;\n  if (\"master\" === t) return removeProtocol(e);\n  var n = e.match(/(_\\d+x(\\d+)?)?(\\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\\?v=\\d+)?)/i);\n  if (n) {\n    var i = e.split(n[0]),\n      r = n[3],\n      o = t.match(\"x\") ? t : \"\".concat(t, \"x\");\n    return removeProtocol(\"\".concat(i[0], \"_\").concat(o).concat(r));\n  }\n  return null;\n}\nvar DEFAULT_ASPECT_RATIO$1 = .7041;\nfunction updateQueryParam(e, t, n) {\n  void 0 === e && (e = \"\");\n  var i = new RegExp(\"([?&])\" + t + \"=.*?(&|$)\", \"i\"),\n    r = -1 !== e.indexOf(\"?\") ? \"&\" : \"?\";\n  return e.match(i) ? e.replace(i, \"$1\" + t + \"=\" + encodeURIComponent(n) + \"$2\") : e + r + t + \"=\" + encodeURIComponent(n);\n}\nfunction getSrcSet(e) {\n  if (!e) return e;\n  var t = [100, 200, 400, 800, 1200, 1600, 2e3];\n  if (e.match(/builder\\.io/)) {\n    var n = e,\n      i = Number(e.split(\"?width=\")[1]);\n    return isNaN(i) || (n = \"\".concat(n, \" \").concat(i, \"w\")), t.filter(function (e) {\n      return e !== i;\n    }).map(function (t) {\n      return \"\".concat(updateQueryParam(e, \"width\", t), \" \").concat(t, \"w\");\n    }).concat([n]).join(\", \");\n  }\n  return e.match(/cdn\\.shopify\\.com/) ? t.map(function (t) {\n    return [getShopifyImageUrl(e, \"\".concat(t, \"x\").concat(t)), t];\n  }).filter(function (e) {\n    return !!e[0];\n  }).map(function (e) {\n    var t = e[0],\n      n = e[1];\n    return \"\".concat(t, \" \").concat(n, \"w\");\n  }).concat([e]).join(\", \") : e;\n}\nvar getSizes = function (e, t) {\n    var n,\n      i,\n      r,\n      o,\n      a,\n      s,\n      l,\n      u,\n      d = \"\";\n    if (e) {\n      var c = e.split(\",\"),\n        p = c.length;\n      d = c.map(function (e, t) {\n        return p === t + 1 ? e.replace(/\\([\\s\\S]*?\\)/g, \"\").trim() : e;\n      }).join(\", \");\n    } else if (t && t.responsiveStyles) {\n      var f = [],\n        m = !1,\n        h = /^\\d+/;\n      if (null === (r = null === (i = null === (n = t.responsiveStyles) || void 0 === n ? void 0 : n.small) || void 0 === i ? void 0 : i.width) || void 0 === r ? void 0 : r.match(h)) {\n        m = !0;\n        var g = \"\".concat(\"(max-width: 639px)\", \" \").concat(t.responsiveStyles.small.width.replace(\"%\", \"vw\"));\n        f.push(g);\n      }\n      if (null === (s = null === (a = null === (o = t.responsiveStyles) || void 0 === o ? void 0 : o.medium) || void 0 === a ? void 0 : a.width) || void 0 === s ? void 0 : s.match(h)) {\n        m = !0;\n        g = \"\".concat(\"(max-width: 999px)\", \" \").concat(t.responsiveStyles.medium.width.replace(\"%\", \"vw\"));\n        f.push(g);\n      }\n      if (null === (u = null === (l = t.responsiveStyles) || void 0 === l ? void 0 : l.large) || void 0 === u ? void 0 : u.width) {\n        var v = t.responsiveStyles.large.width.replace(\"%\", \"vw\");\n        f.push(v);\n      } else m && f.push(\"100vw\");\n      f.length && (d = f.join(\", \"));\n    }\n    return d;\n  },\n  ImageComponent = function (e) {\n    function t() {\n      var t = null !== e && e.apply(this, arguments) || this;\n      return t.state = {\n        imageLoaded: !t.useLazyLoading,\n        load: !t.useLazyLoading\n      }, t.pictureRef = null, t.scrollListener = null, t.intersectionObserver = null, t;\n    }\n    return __extends(t, e), Object.defineProperty(t.prototype, \"useLazyLoading\", {\n      get: function () {\n        return (!Builder.isBrowser || !location.search.includes(\"builder.lazyLoadImages=false\")) && (!(!Builder.isBrowser || !location.href.includes(\"builder.lazyLoadImages=true\")) || this.props.lazy);\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.componentWillUnmount = function () {\n      Builder.isBrowser && (this.scrollListener && (window.removeEventListener(\"scroll\", this.scrollListener), this.scrollListener = null), this.intersectionObserver && this.pictureRef && this.intersectionObserver.unobserve(this.pictureRef));\n    }, t.prototype.componentDidMount = function () {\n      var e = this;\n      if (this.props.lazy && Builder.isBrowser) if (this.pictureRef && isElementInViewport(this.pictureRef)) this.setState({\n        load: !0\n      });else if (\"function\" == typeof IntersectionObserver && this.pictureRef) {\n        (this.intersectionObserver = new IntersectionObserver(function (t, n) {\n          t.forEach(function (t) {\n            t.intersectionRatio > 0 && (e.setState({\n              load: !0\n            }), e.pictureRef && n.unobserve(e.pictureRef));\n          });\n        })).observe(this.pictureRef);\n      } else {\n        var t = throttle(function (n) {\n          if (e.pictureRef) {\n            var i = e.pictureRef.getBoundingClientRect(),\n              r = window.innerHeight / 2;\n            i.top < window.innerHeight + r && (e.setState(__assign(__assign({}, e.state), {\n              load: !0\n            })), window.removeEventListener(\"scroll\", t), e.scrollListener = null);\n          }\n        }, 400, {\n          leading: !1,\n          trailing: !0\n        });\n        this.scrollListener = t, window.addEventListener(\"scroll\", t, {\n          capture: !0,\n          passive: !0\n        }), t();\n      }\n    }, Object.defineProperty(t.prototype, \"image\", {\n      get: function () {\n        return this.props.image || this.props.src;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.getSrcSet = function () {\n      var e = this.image;\n      if (e && (e.match(/builder\\.io/) || e.match(/cdn\\.shopify\\.com/))) return getSrcSet(e);\n    }, t.prototype.render = function () {\n      var e,\n        t = this,\n        n = this.props,\n        i = n.aspectRatio,\n        r = n.lazy,\n        o = this.props.builderBlock && this.props.builderBlock.children,\n        a = this.props.srcset,\n        s = getSizes(this.props.sizes, this.props.builderBlock),\n        l = this.image;\n      a && l && l.includes(\"builder.io/api/v1/image\") ? a.includes(l.split(\"?\")[0]) || (console.debug(\"Removed given srcset\"), a = this.getSrcSet()) : l && !a && (a = this.getSrcSet());\n      var u = null === (e = this.props.builderBlock) || void 0 === e ? void 0 : e.id.startsWith(\"builder-pixel-\"),\n        d = this.props.fitContent;\n      return jsx(BuilderMetaContext.Consumer, null, function (e) {\n        var n,\n          l = e.ampMode,\n          c = l ? \"amp-img\" : \"img\",\n          p = (!r || t.state.load || l) && jsx(c, __assign({}, l ? {\n            layout: \"responsive\",\n            height: t.props.height || (i ? Math.round(1e3 * i) : void 0),\n            width: t.props.width || (i ? Math.round(1e3 / i) : void 0)\n          } : null, {\n            alt: t.props.altText,\n            key: Builder.isEditing && \"string\" == typeof t.image && t.image.split(\"?\")[0] || void 0,\n            role: t.props.altText ? void 0 : \"presentation\",\n            css: __assign(__assign({\n              opacity: l ? 1 : t.useLazyLoading && !t.state.imageLoaded ? 0 : 1,\n              transition: \"opacity 0.2s ease-in-out\",\n              objectFit: t.props.backgroundSize || \"cover\",\n              objectPosition: t.props.backgroundPosition || \"center\"\n            }, i && !l && {\n              position: \"absolute\",\n              height: \"100%\",\n              width: \"100%\",\n              left: 0,\n              top: 0\n            }), l && (n = {}, n[\"& img\"] = {\n              objectFit: t.props.backgroundSize,\n              objectPosition: t.props.backgroundPosition\n            }, n)),\n            loading: u ? \"eager\" : \"lazy\",\n            className: \"builder-image\" + (t.props.className ? \" \" + t.props.className : \"\"),\n            src: t.image\n          }, !l && {\n            onLoad: function () {\n              return t.setState({\n                imageLoaded: !0\n              });\n            }\n          }, {\n            srcSet: a,\n            sizes: !l && s ? s : void 0\n          }));\n        return jsx(React__default.Fragment, null, l ? p : jsx(\"picture\", {\n          ref: function (e) {\n            return t.pictureRef = e;\n          }\n        }, a && a.match(/builder\\.io/) && !t.props.noWebp && jsx(\"source\", {\n          srcSet: a.replace(/\\?/g, \"?format=webp&\"),\n          type: \"image/webp\"\n        }), p), !i || l || d && o && o.length ? null : jsx(\"div\", {\n          className: \"builder-image-sizer\",\n          css: {\n            width: \"100%\",\n            paddingTop: 100 * i + \"%\",\n            pointerEvents: \"none\",\n            fontSize: 0\n          }\n        }, \" \"), o && o.length ? d ? o.map(function (e, t) {\n          return jsx(BuilderBlock$1, {\n            key: e.id,\n            block: e\n          });\n        }) : jsx(\"div\", {\n          css: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"stretch\",\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            width: \"100%\",\n            height: \"100%\"\n          }\n        }, o.map(function (e, t) {\n          return jsx(BuilderBlock$1, {\n            key: e.id,\n            block: e\n          });\n        })) : null);\n      });\n    }, t;\n  }(React__default.Component),\n  Image = withBuilder(ImageComponent, {\n    name: \"Image\",\n    static: !0,\n    image: \"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4\",\n    defaultStyles: {\n      position: \"relative\",\n      minHeight: \"20px\",\n      minWidth: \"20px\",\n      overflow: \"hidden\"\n    },\n    canHaveChildren: !0,\n    inputs: [{\n      name: \"image\",\n      type: \"file\",\n      bubble: !0,\n      allowedFileTypes: [\"jpeg\", \"jpg\", \"png\", \"svg\"],\n      required: !0,\n      defaultValue: \"https://cdn.builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d\",\n      onChange: function (e) {\n        e.delete(\"srcset\"), e.delete(\"noWebp\");\n        var t,\n          n,\n          i = e.get(\"image\"),\n          r = e.get(\"aspectRatio\");\n        if (fetch(i).then(function (e) {\n          return e.blob();\n        }).then(function (t) {\n          t.type.includes(\"svg\") && e.set(\"noWebp\", !0);\n        }), i && (!r || .7041 === r)) return (t = i, void 0 === n && (n = 6e4), new Promise(function (e, i) {\n          var r = document.createElement(\"img\"),\n            o = !1;\n          r.onload = function () {\n            o = !0, e(r);\n          }, r.addEventListener(\"error\", function (e) {\n            console.warn(\"Image load failed\", e.error), i(e.error);\n          }), r.src = t, setTimeout(function () {\n            o || i(new Error(\"Image load timed out\"));\n          }, n);\n        })).then(function (t) {\n          var n,\n            r = e.get(\"aspectRatio\");\n          e.get(\"image\") !== i || r && .7041 !== r || t.width && t.height && (e.set(\"aspectRatio\", (n = t.height / t.width, Math.round(1e3 * n) / 1e3)), e.set(\"height\", t.height), e.set(\"width\", t.width));\n        });\n      }\n    }, {\n      name: \"backgroundSize\",\n      type: \"text\",\n      defaultValue: \"cover\",\n      enum: [{\n        label: \"contain\",\n        value: \"contain\",\n        helperText: \"The image should never get cropped\"\n      }, {\n        label: \"cover\",\n        value: \"cover\",\n        helperText: \"The image should fill its box, cropping when needed\"\n      }]\n    }, {\n      name: \"backgroundPosition\",\n      type: \"text\",\n      defaultValue: \"center\",\n      enum: [\"center\", \"top\", \"left\", \"right\", \"bottom\", \"top left\", \"top right\", \"bottom left\", \"bottom right\"]\n    }, {\n      name: \"altText\",\n      type: \"string\",\n      helperText: \"Text to display when the user has images off\"\n    }, {\n      name: \"height\",\n      type: \"number\",\n      hideFromUI: !0\n    }, {\n      name: \"width\",\n      type: \"number\",\n      hideFromUI: !0\n    }, {\n      name: \"sizes\",\n      type: \"string\",\n      hideFromUI: !0\n    }, {\n      name: \"srcset\",\n      type: \"string\",\n      hideFromUI: !0\n    }, {\n      name: \"lazy\",\n      type: \"boolean\",\n      defaultValue: !0,\n      hideFromUI: !0\n    }, {\n      name: \"fitContent\",\n      type: \"boolean\",\n      helperText: \"When child blocks are provided, fit to them instead of using the image's aspect ratio\",\n      defaultValue: !0\n    }, {\n      name: \"aspectRatio\",\n      type: \"number\",\n      helperText: \"This is the ratio of height/width, e.g. set to 1.5 for a 300px wide and 200px tall photo. Set to 0 to not force the image to maintain it's aspect ratio\",\n      advanced: !0,\n      defaultValue: DEFAULT_ASPECT_RATIO$1\n    }]\n  }),\n  DEFAULT_ASPECT_RATIO = .7004048582995948,\n  VideoComponent = function (e) {\n    function t() {\n      var t = null !== e && e.apply(this, arguments) || this;\n      return t.video = null, t.containerRef = null, t.scrollListener = null, t.state = {\n        load: !t.lazyLoad\n      }, t;\n    }\n    return __extends(t, e), Object.defineProperty(t.prototype, \"lazyLoad\", {\n      get: function () {\n        return !1 !== this.props.lazyLoad;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.updateVideo = function () {\n      var e = this,\n        t = this.video;\n      if (t) {\n        [\"muted\", \"playsInline\", \"autoPlay\"].forEach(function (n) {\n          var i = n.toLowerCase();\n          e.props[n] ? t.setAttribute(i, i) : t.removeAttribute(i);\n        });\n      }\n    }, t.prototype.componentDidUpdate = function () {\n      this.updateVideo();\n    }, t.prototype.componentDidMount = function () {\n      var e = this;\n      if (this.updateVideo(), this.lazyLoad && Builder.isBrowser) {\n        var t = throttle(function (n) {\n          if (e.containerRef) {\n            var i = e.containerRef.getBoundingClientRect(),\n              r = window.innerHeight / 2;\n            i.top < window.innerHeight + r && (e.setState(function (e) {\n              return __assign(__assign({}, e), {\n                load: !0\n              });\n            }), window.removeEventListener(\"scroll\", t), e.scrollListener = null);\n          }\n        }, 400, {\n          leading: !1,\n          trailing: !0\n        });\n        this.scrollListener = t, window.addEventListener(\"scroll\", t, {\n          capture: !0,\n          passive: !0\n        }), t();\n      }\n    }, t.prototype.componentWillUnmount = function () {\n      Builder.isBrowser && this.scrollListener && (window.removeEventListener(\"scroll\", this.scrollListener), this.scrollListener = null);\n    }, t.prototype.render = function () {\n      var e = this,\n        t = this.props,\n        n = t.aspectRatio,\n        i = t.children;\n      return jsx(\"div\", {\n        ref: function (t) {\n          return e.containerRef = t;\n        },\n        css: {\n          position: \"relative\"\n        }\n      }, jsx(\"video\", {\n        key: this.props.video || \"no-src\",\n        poster: this.props.posterImage,\n        ref: function (t) {\n          return e.video = t;\n        },\n        autoPlay: this.props.autoPlay,\n        muted: this.props.muted,\n        controls: this.props.controls,\n        loop: this.props.loop,\n        className: \"builder-video\",\n        css: __assign({\n          width: \"100%\",\n          height: \"100%\",\n          objectFit: this.props.fit,\n          objectPosition: this.props.position,\n          zIndex: 2,\n          borderRadius: 1\n        }, n ? {\n          position: \"absolute\"\n        } : null)\n      }, (!this.lazyLoad || this.state.load) && jsx(\"source\", {\n        type: \"video/mp4\",\n        src: this.props.video\n      })), !n || this.props.fitContent && i ? null : jsx(\"div\", {\n        css: {\n          width: \"100%\",\n          paddingTop: 100 * n + \"%\",\n          pointerEvents: \"none\",\n          fontSize: 0\n        }\n      }), i && this.props.fitContent ? jsx(\"div\", {\n        css: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"stretch\"\n        }\n      }, i) : i ? jsx(\"div\", {\n        css: {\n          pointerEvents: \"none\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"stretch\",\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          width: \"100%\",\n          height: \"100%\"\n        }\n      }, i) : null);\n    }, t;\n  }(React__default.Component),\n  Video = Builder.registerComponent(withChildren(VideoComponent), {\n    name: \"Video\",\n    canHaveChildren: !0,\n    defaultStyles: {\n      minHeight: \"20px\",\n      minWidth: \"20px\"\n    },\n    image: \"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-videocam-24px%20(1).svg?alt=media&token=49a84e4a-b20e-4977-a650-047f986874bb\",\n    inputs: [{\n      name: \"video\",\n      type: \"file\",\n      allowedFileTypes: [\"mp4\"],\n      bubble: !0,\n      defaultValue: \"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/assets%2FKQlEmWDxA0coC3PK6UvkrjwkIGI2%2F28cb070609f546cdbe5efa20e931aa4b?alt=media&token=912e9551-7a7c-4dfb-86b6-3da1537d1a7f\",\n      required: !0\n    }, {\n      name: \"posterImage\",\n      type: \"file\",\n      allowedFileTypes: [\"jpeg\", \"png\"],\n      helperText: \"Image to show before the video plays\"\n    }, {\n      name: \"autoPlay\",\n      type: \"boolean\",\n      defaultValue: !0\n    }, {\n      name: \"controls\",\n      type: \"boolean\",\n      defaultValue: !1\n    }, {\n      name: \"muted\",\n      type: \"boolean\",\n      defaultValue: !0\n    }, {\n      name: \"loop\",\n      type: \"boolean\",\n      defaultValue: !0\n    }, {\n      name: \"playsInline\",\n      type: \"boolean\",\n      defaultValue: !0\n    }, {\n      name: \"fit\",\n      type: \"text\",\n      defaultValue: \"cover\",\n      enum: [\"contain\", \"cover\", \"fill\", \"auto\"]\n    }, {\n      name: \"fitContent\",\n      type: \"boolean\",\n      helperText: \"When child blocks are provided, fit to them instead of using the aspect ratio\",\n      defaultValue: !0,\n      advanced: !0\n    }, {\n      name: \"position\",\n      type: \"text\",\n      defaultValue: \"center\",\n      enum: [\"center\", \"top\", \"left\", \"right\", \"bottom\", \"top left\", \"top right\", \"bottom left\", \"bottom right\"]\n    }, {\n      name: \"height\",\n      type: \"number\",\n      advanced: !0\n    }, {\n      name: \"width\",\n      type: \"number\",\n      advanced: !0\n    }, {\n      name: \"aspectRatio\",\n      type: \"number\",\n      advanced: !0,\n      defaultValue: DEFAULT_ASPECT_RATIO\n    }, {\n      name: \"lazyLoad\",\n      type: \"boolean\",\n      helperText: 'Load this video \"lazily\" - as in only when a user scrolls near the video. Recommended for optmized performance and bandwidth consumption',\n      defaultValue: !0,\n      advanced: !0\n    }]\n  }),\n  size = function (e) {\n    return Object.keys(e).length;\n  },\n  isShopify = Builder.isBrowser && \"Shopify\" in window,\n  refs = {};\nif (Builder.isBrowser) try {\n  Array.from(document.querySelectorAll(\"[builder-static-symbol]\")).forEach(function (e) {\n    var t = e.getAttribute(\"builder-static-symbol\");\n    t && (refs[t] = e);\n  });\n} catch (e) {\n  console.error(\"Builder replace nodes error:\", e);\n}\nvar SymbolComponent = function (e) {\n    function t() {\n      var t = null !== e && e.apply(this, arguments) || this;\n      return t.ref = null, t.staticRef = null, t;\n    }\n    return __extends(t, e), Object.defineProperty(t.prototype, \"placeholder\", {\n      get: function () {\n        return jsx(\"div\", {\n          css: {\n            padding: 10\n          }\n        }, \"Symbols let you reuse dynamic elements across your content. Please choose a model and entry for this symbol.\");\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.componentDidMount = function () {\n      var e, t, n;\n      this.useStatic && this.staticRef && refs[null === (e = this.props.builderBlock) || void 0 === e ? void 0 : e.id] && (null === (t = this.staticRef.parentNode) || void 0 === t || t.replaceChild(refs[null === (n = this.props.builderBlock) || void 0 === n ? void 0 : n.id], this.staticRef));\n    }, Object.defineProperty(t.prototype, \"useStatic\", {\n      get: function () {\n        var e;\n        return Boolean(Builder.isBrowser && refs[null === (e = this.props.builderBlock) || void 0 === e ? void 0 : e.id] && !(Builder.isEditing || Builder.isPreviewing));\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.render = function () {\n      var e,\n        t = this;\n      if (this.useStatic) return jsx(\"div\", {\n        ref: function (e) {\n          return t.staticRef = e;\n        }\n      });\n      var n = this.props.symbol,\n        i = !1;\n      n || (i = !0);\n      var r = this.props.dataOnly ? NoWrap : this.props.builderBlock && this.props.builderBlock.tagName || \"div\",\n        o = n || {},\n        a = o.model,\n        s = o.entry,\n        l = o.data,\n        u = o.content,\n        d = o.inline,\n        c = (null == n ? void 0 : n.dynamic) || this.props.dynamic;\n      a && (s || c) || (null === (e = null == u ? void 0 : u.data) || void 0 === e ? void 0 : e.blocksJs) || d || (i = !0);\n      var p = c ? void 0 : [a, s].join(\":\"),\n        f = Builder.isEditing ? null : l && size(l) && hash(l);\n      p && f && f.length < 300 && (p += \":\" + f);\n      var m = this.props.attributes || {};\n      return jsx(BuilderStoreContext.Consumer, {\n        key: (a || \"no model\") + \":\" + (s || \"no entry\")\n      }, function (e) {\n        var o, d, c, f, h, g, v, b, y;\n        return jsx(r, __assign({\n          \"data-model\": a\n        }, m, {\n          className: (m.class || m.className || \"\") + \" builder-symbol\" + ((null == n ? void 0 : n.inline) ? \" builder-inline-symbol\" : \"\") + ((null == n ? void 0 : n.dynamic) || t.props.dynamic ? \" builder-dynamic-symbol\" : \"\")\n        }), i ? t.placeholder : jsx(BuilderComponent, __assign({\n          isChild: !0,\n          ref: function (e) {\n            return t.ref = e;\n          },\n          context: __assign(__assign({}, e.context), {\n            symbolId: null === (o = t.props.builderBlock) || void 0 === o ? void 0 : o.id\n          }),\n          modelName: a,\n          entry: s,\n          data: __assign(__assign(__assign({}, l), !!t.props.inheritState && e.state), null === (v = null === (g = null === (h = null === (f = null === (c = null === (d = t.props.builderBlock) || void 0 === d ? void 0 : d.component) || void 0 === c ? void 0 : c.options) || void 0 === f ? void 0 : f.symbol) || void 0 === h ? void 0 : h.content) || void 0 === g ? void 0 : g.data) || void 0 === v ? void 0 : v.state),\n          renderLink: e.renderLink,\n          inlineContent: null == n ? void 0 : n.inline\n        }, u && {\n          content: u\n        }, {\n          options: {\n            key: p,\n            noEditorUpdates: !0\n          },\n          codegen: !!(null === (b = null == u ? void 0 : u.data) || void 0 === b ? void 0 : b.blocksJs),\n          hydrate: null === (y = e.state) || void 0 === y ? void 0 : y._hydrate,\n          builderBlock: t.props.builderBlock,\n          dataOnly: t.props.dataOnly\n        }), t.props.children));\n      });\n    }, t;\n  }(React__default.Component),\n  Symbol$1 = withBuilder(SymbolComponent, {\n    name: \"Symbol\",\n    noWrap: !0,\n    static: !0,\n    inputs: [{\n      name: \"symbol\",\n      type: \"uiSymbol\"\n    }, {\n      name: \"dataOnly\",\n      helperText: \"Make this a data symbol that doesn't display any UI\",\n      type: \"boolean\",\n      defaultValue: !1,\n      advanced: !0,\n      hideFromUI: !0\n    }, {\n      name: \"inheritState\",\n      helperText: \"Inherit the parent component state and data\",\n      type: \"boolean\",\n      defaultValue: isShopify,\n      advanced: !0\n    }, {\n      name: \"renderToLiquid\",\n      helperText: \"Render this symbols contents to liquid. Turn off to fetch with javascript and use custom targeting\",\n      type: \"boolean\",\n      defaultValue: isShopify,\n      advanced: !0,\n      hideFromUI: !0\n    }, {\n      name: \"useChildren\",\n      hideFromUI: !0,\n      type: \"boolean\"\n    }]\n  }),\n  ButtonComponent = function (e) {\n    function t() {\n      return null !== e && e.apply(this, arguments) || this;\n    }\n    return __extends(t, e), t.prototype.render = function () {\n      var e = this.props.link ? Link : \"span\";\n      return React__default.createElement(e, __assign({\n        role: \"button\",\n        href: this.props.link,\n        target: this.props.openLinkInNewTab ? \"_blank\" : void 0\n      }, this.props.attributes), this.props.text);\n    }, t;\n  }(React__default.Component),\n  Button = withBuilder(ButtonComponent, {\n    name: \"Core:Button\",\n    image: \"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F81a15681c3e74df09677dfc57a615b13\",\n    defaultStyles: {\n      appearance: \"none\",\n      paddingTop: \"15px\",\n      paddingBottom: \"15px\",\n      paddingLeft: \"25px\",\n      paddingRight: \"25px\",\n      backgroundColor: \"#000000\",\n      color: \"white\",\n      borderRadius: \"4px\",\n      textAlign: \"center\",\n      cursor: \"pointer\"\n    },\n    inputs: [{\n      name: \"text\",\n      type: \"text\",\n      defaultValue: \"Click me!\",\n      bubble: !0\n    }, {\n      name: \"link\",\n      type: \"url\",\n      bubble: !0\n    }, {\n      name: \"openLinkInNewTab\",\n      type: \"boolean\",\n      defaultValue: !1,\n      friendlyName: \"Open link in new tab\"\n    }],\n    static: !0,\n    noWrap: !0\n  }),\n  SectionComponent = function (e) {\n    function t() {\n      var t = null !== e && e.apply(this, arguments) || this;\n      return t.ref = null, t.unmountCallbacks = [], t.state = {\n        inView: !1\n      }, t;\n    }\n    return __extends(t, e), Object.defineProperty(t.prototype, \"renderContents\", {\n      get: function () {\n        return !0 !== this.props.lazyLoad || this.state.inView;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.componentWillUnmount = function () {\n      this.unmountCallbacks.forEach(function (e) {\n        return e();\n      });\n    }, t.prototype.componentDidMount = function () {\n      var e = this;\n      if (this.props.lazyLoad) if (\"undefined\" != typeof IntersectionObserver && this.ref) {\n        var t = new IntersectionObserver(function (t, n) {\n          t.forEach(function (t) {\n            t.intersectionRatio > 0 && (e.setState({\n              inView: !0\n            }), e.ref && n.unobserve(e.ref));\n          });\n        });\n        t.observe(this.ref), this.unmountCallbacks.push(function () {\n          e.ref && t.unobserve(e.ref);\n        });\n      } else this.setState({\n        inView: !0\n      });\n    }, t.prototype.render = function () {\n      var e = this;\n      return jsx(\"section\", {\n        ref: function (t) {\n          return e.ref = t;\n        },\n        css: __assign({\n          width: \"100%\",\n          alignSelf: \"stretch\",\n          flexGrow: 1,\n          boxSizing: \"border-box\",\n          maxWidth: this.props.maxWidth,\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"stretch\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\"\n        }, this.renderContents ? null : this.props.lazyStyles)\n      }, this.renderContents ? jsx(React__default.Fragment, null, this.props.children, this.props.builderBlock && this.props.builderBlock.children && this.props.builderBlock.children.map(function (e, t) {\n        return jsx(BuilderBlock$1, {\n          key: e.id,\n          block: e\n        });\n      })) : null);\n    }, t;\n  }(React__default.Component),\n  Section = withBuilder(SectionComponent, {\n    name: \"Core:Section\",\n    static: !0,\n    image: \"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F682efef23ace49afac61748dd305c70a\",\n    inputs: [{\n      name: \"maxWidth\",\n      type: \"number\",\n      defaultValue: 1200\n    }, {\n      name: \"lazyLoad\",\n      type: \"boolean\",\n      defaultValue: !1,\n      advanced: !0,\n      description: \"Only render this section when in view\"\n    }],\n    defaultStyles: {\n      paddingLeft: \"20px\",\n      paddingRight: \"20px\",\n      paddingTop: \"50px\",\n      paddingBottom: \"50px\",\n      marginTop: \"0px\",\n      width: \"100vw\",\n      marginLeft: \"calc(50% - 50vw)\"\n    },\n    canHaveChildren: !0,\n    defaultChildren: [{\n      \"@type\": \"@builder.io/sdk:Element\",\n      responsiveStyles: {\n        large: {\n          textAlign: \"center\"\n        }\n      },\n      component: {\n        name: \"Text\",\n        options: {\n          text: \"<p><b>I am a section! My content keeps from getting too wide, so that it's easy to read even on big screens.</b></p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur</p>\"\n        }\n      }\n    }]\n  }),\n  StateProviderComponent = function (e) {\n    function t() {\n      return null !== e && e.apply(this, arguments) || this;\n    }\n    return __extends(t, e), t.prototype.render = function () {\n      var e = this;\n      return React__default.createElement(BuilderStoreContext.Consumer, null, function (t) {\n        return React__default.createElement(BuilderStoreContext.Provider, {\n          value: __assign(__assign({}, t), {\n            state: __assign(__assign({}, t.state), e.props.state),\n            context: __assign(__assign({}, t.context), e.props.context)\n          })\n        }, e.props.builderBlock && e.props.builderBlock.children && e.props.builderBlock.children.map(function (e, t) {\n          return React__default.createElement(BuilderBlock$1, {\n            block: e,\n            key: e.id,\n            index: t,\n            child: !0\n          });\n        }), e.props.children);\n      });\n    }, t;\n  }(React__default.Component),\n  StateProvider = withBuilder(StateProviderComponent, {\n    name: \"Builder:StateProvider\",\n    canHaveChildren: !0,\n    static: !0,\n    noWrap: !0,\n    hideFromInsertMenu: !0\n  }),\n  prefetched = new Set();\nfunction searchToObject(e) {\n  var t = (e.search || \"\").substring(1).split(\"&\"),\n    n = {};\n  for (var i in t) if (t[i] && \"string\" == typeof t[i]) {\n    var r = t[i].split(\"=\");\n    n[decodeURIComponent(r[0])] = decodeURIComponent(r[1]);\n  }\n  return n;\n}\nvar RouterComponent = function (e) {\n    function t() {\n      var t = null !== e && e.apply(this, arguments) || this;\n      return t.builder = builder, t.routed = !1, t.preloadQueue = 0, t.onPopState = function (e) {\n        t.updateLocationState();\n      }, t.onMouseOverOrTouchStart = function (e) {\n        if (!(t.preloadQueue > 4) && !1 !== t.props.preloadOnHover) {\n          var n = t.findHrefTarget(e);\n          if (n) {\n            var i = n.getAttribute(\"href\");\n            if (i) {\n              if (!t.isRelative(i)) {\n                var r = t.convertToRelative(i);\n                if (!r) return;\n                i = r;\n              }\n              if (!i.startsWith(\"#\") && !prefetched.has(i)) {\n                prefetched.add(i);\n                var o = t.parseUrl(i);\n                t.preloadQueue++;\n                var a = builder.getUserAttributes();\n                a.urlPath = o.pathname, a.queryString = o.search;\n                var s = builder.get(t.model, {\n                  userAttributes: a,\n                  key: t.model + \":\" + o.pathname + o.search\n                }).subscribe(function () {\n                  t.preloadQueue--, s.unsubscribe();\n                });\n              }\n            }\n          }\n        }\n      }, t.onClick = function (e) {\n        return __awaiter(t, void 0, void 0, function () {\n          var t, n, i, r;\n          return __generator(this, function (o) {\n            if (!1 === this.props.handleRouting) return [2];\n            if (0 !== e.button || e.ctrlKey || e.defaultPrevented || e.metaKey) return [2];\n            if (!(t = this.findHrefTarget(e))) return [2];\n            if (t.target && \"_client\" !== t.target) return [2];\n            if (!(n = t.getAttribute(\"href\"))) return [2];\n            if (this.props.onRoute && (i = {\n              url: n,\n              anchorNode: t,\n              preventDefault: function () {\n                this.defaultPrevented = !0;\n              },\n              defaultPrevented: !1\n            }, this.props.onRoute(i), i.defaultPrevented)) return [2];\n            if (!this.isRelative(n)) {\n              if (!(r = this.convertToRelative(n))) return [2];\n              n = r;\n            }\n            return n.startsWith(\"#\") || (e.preventDefault(), this.route(n)), [2];\n          });\n        });\n      }, t.privateState = null, t;\n    }\n    return __extends(t, e), t.prototype.route = function (e) {\n      var t;\n      return this.routed = !0, \"function\" == typeof (null === (t = window.history) || void 0 === t ? void 0 : t.pushState) ? (history.pushState(null, \"\", e), this.updateLocationState(), !0) : (location.href = e, !1);\n    }, t.prototype.updateLocationState = function () {\n      this.privateState && this.privateState.update(function (e) {\n        e.location = __assign(__assign({}, e.location), {\n          pathname: location.pathname,\n          search: location.search,\n          path: location.pathname.split(\"/\").slice(1),\n          query: searchToObject(location)\n        });\n      });\n    }, Object.defineProperty(t.prototype, \"model\", {\n      get: function () {\n        return this.props.model || \"page\";\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.componentDidMount = function () {\n      \"undefined\" != typeof document && (document.addEventListener(\"click\", this.onClick), window.addEventListener(\"popstate\", this.onPopState), document.addEventListener(\"mouseover\", this.onMouseOverOrTouchStart), document.addEventListener(\"touchstart\", this.onMouseOverOrTouchStart));\n    }, t.prototype.componentWillUnmount = function () {\n      \"undefined\" != typeof document && (document.removeEventListener(\"click\", this.onClick), document.removeEventListener(\"mouseover\", this.onMouseOverOrTouchStart), window.removeEventListener(\"popstate\", this.onPopState), document.removeEventListener(\"touchstart\", this.onMouseOverOrTouchStart));\n    }, t.prototype.render = function () {\n      var e = this,\n        t = this.model;\n      return jsx(BuilderStoreContext.Consumer, null, function (n) {\n        e.privateState = n;\n        var i = n.state && n.state.location && n.state.location.pathname + n.state.location.search;\n        return jsx(\"div\", {\n          className: \"builder-router\",\n          \"data-model\": t\n        }, jsx(\"style\", null, \"\\n                @keyframes builderLoadingSpinner {\\n                  0% {\\n                    transform: rotate(0deg);\\n                  }\\n                  100% {\\n                    transform: rotate(360deg);\\n                  }\\n                }\\n                /* TODO: overridable tag */\\n                .builder-page-loading {\\n                  -webkit-animation: builderLoadingSpinner 1s infinite linear;\\n                  animation: builderLoadingSpinner 1s infinite linear;\\n                  -webkit-transform: translateZ(0);\\n                  transform: translateZ(0);\\n                  border-radius: 50%;\\n                  width: 36px;\\n                  height: 36px;\\n                  margin: 6px auto;\\n                  position: relative;\\n                  border: 1px solid transparent;\\n                  border-left: 1px solid #808284;\\n                }\\n              \"), jsx(BuilderComponent, {\n          key: i,\n          data: e.props.data,\n          content: e.routed ? void 0 : e.props.content,\n          modelName: t,\n          options: {\n            key: Builder.isEditing ? void 0 : e.model + \":\" + i\n          }\n        }, e.props.children || jsx(\"div\", {\n          css: {\n            display: \"flex\"\n          }\n        }, jsx(\"div\", {\n          css: {\n            margin: \"40vh auto\"\n          },\n          className: \"builder-page-loading\"\n        }))));\n      });\n    }, t.prototype.findHrefTarget = function (e) {\n      for (var t = e.target; t;) {\n        if (t instanceof HTMLAnchorElement && t.getAttribute(\"href\")) return t;\n        if (t === e.currentTarget) break;\n        t = t.parentElement;\n      }\n      return null;\n    }, t.prototype.isRelative = function (e) {\n      return !e.match(/^(\\/\\/|https?:\\/\\/)/i);\n    }, t.prototype.parseUrl = function (e) {\n      var t = document.createElement(\"a\");\n      return t.href = e, t;\n    }, t.prototype.convertToRelative = function (e) {\n      var t = this.parseUrl(location.href),\n        n = this.parseUrl(e);\n      if (t.host === n.host) {\n        var i = n.pathname + (n.search ? n.search : \"\");\n        return i.startsWith(\"#\") ? null : i || \"/\";\n      }\n      return null;\n    }, t;\n  }(React__default.Component),\n  Router = withBuilder(RouterComponent, {\n    name: \"Core:Router\",\n    hideFromInsertMenu: !0,\n    inputs: [{\n      name: \"model\",\n      type: \"string\",\n      defaultValue: \"page\",\n      advanced: !0\n    }, {\n      name: \"handleRouting\",\n      type: \"boolean\",\n      defaultValue: !0,\n      advanced: !0\n    }, {\n      name: \"preloadOnHover\",\n      type: \"boolean\",\n      defaultValue: !0,\n      advanced: !0\n    }, {\n      name: \"onRoute\",\n      type: \"function\",\n      advanced: !0\n    }]\n  });\nfunction Mutation(e) {\n  var t,\n    n,\n    i = React__default.useRef(null);\n  useWaitForSelector(e.selector, function (t) {\n    \"afterEnd\" !== e.type && (t.innerHTML = \"\"), t.appendChild(i.current.firstElementChild);\n  });\n  var r = null === (t = e.builderBlock) || void 0 === t ? void 0 : t.children;\n  return jsx(\"span\", {\n    style: {\n      display: \"none\"\n    },\n    ref: i\n  }, jsx(BuilderBlocks, {\n    style: {\n      display: \"inline\"\n    },\n    child: !0,\n    parentElementId: null === (n = e.builderBlock) || void 0 === n ? void 0 : n.id,\n    dataPath: \"this.children\",\n    blocks: r\n  }));\n}\nfunction useWaitForSelector(e, t) {\n  React__default.useLayoutEffect(function () {\n    try {\n      var n = document.querySelector(e);\n      if (n) return void t(n);\n    } catch (e) {\n      console.warn(e);\n    }\n    var i = new MutationObserver(function () {\n      try {\n        var n = document.querySelector(e);\n        n && (i.disconnect(), t(n));\n      } catch (e) {\n        console.warn(e);\n      }\n    });\n    return i.observe(document.body, {\n      attributes: !0,\n      subtree: !0,\n      characterData: !0\n    }), function () {\n      i.disconnect();\n    };\n  }, [e]);\n}\nBuilder.registerComponent(Mutation, {\n  name: \"Builder:Mutation\",\n  canHaveChildren: !0,\n  noWrap: !0,\n  hideFromInsertMenu: !0,\n  inputs: [{\n    name: \"type\",\n    type: \"string\",\n    defaultValue: \"replace\",\n    enum: [{\n      label: \"Replace\",\n      value: \"replace\",\n      helperText: \"Replace the contents of this site region with content from Builder\"\n    }, {\n      label: \"Append\",\n      value: \"afterEnd\",\n      helperText: \"Append Builder content after the chosen site region\"\n    }]\n  }, {\n    name: \"selector\",\n    type: \"builder:domSelector\"\n  }]\n});\nvar get = function (e, t, n) {\n    var i = String.prototype.split.call(t, /[,[\\].]+?/).filter(Boolean).reduce(function (e, t) {\n      return null != e ? e[t] : e;\n    }, e);\n    return void 0 === i || i === e ? n : i;\n  },\n  MULTIPART_CONTENT_TYPE = \"multipart/form-data\",\n  JSON_CONTENT_TYPE = \"application/json\",\n  ENCODED_CONTENT_TYPE = \"application/x-www-form-urlencoded\",\n  FormComponent = function (e) {\n    function t() {\n      var t = null !== e && e.apply(this, arguments) || this;\n      return t.ref = null, t.state = {\n        state: \"unsubmitted\",\n        responseData: null,\n        formErrorMessage: \"\"\n      }, t;\n    }\n    return __extends(t, e), Object.defineProperty(t.prototype, \"submissionState\", {\n      get: function () {\n        return Builder.isEditing && this.props.previewState || this.state.state;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.render = function () {\n      var e = this;\n      return jsx(BuilderStoreContext.Consumer, null, function (t) {\n        return jsx(BuilderStoreContext.Provider, {\n          value: __assign(__assign({}, t), {\n            state: __assign(__assign({}, t.state), {\n              formErrorMessage: e.state.formErrorMessage\n            })\n          })\n        }, jsx(\"form\", __assign({\n          validate: e.props.validate,\n          ref: function (t) {\n            return e.ref = t;\n          },\n          action: !e.props.sendWithJs && e.props.action,\n          method: e.props.method,\n          name: e.props.name,\n          onSubmit: function (t) {\n            var n,\n              i = e.props.sendWithJs || \"email\" === e.props.sendSubmissionsTo;\n            if (\"zapier\" === e.props.sendSubmissionsTo) t.preventDefault();else if (i) {\n              if (!e.props.action && \"email\" !== e.props.sendSubmissionsTo) return void t.preventDefault();\n              t.preventDefault();\n              var r = t.currentTarget,\n                o = e.props.customHeaders || {},\n                a = void 0,\n                s = new FormData(r),\n                l = Array.from(t.currentTarget.querySelectorAll(\"input,select,textarea\")).filter(function (e) {\n                  return !!e.name;\n                }).map(function (e) {\n                  var t,\n                    n = e.name;\n                  if (e instanceof HTMLInputElement) {\n                    if (\"radio\" === e.type) {\n                      if (e.checked) return {\n                        key: n,\n                        value: t = e.name\n                      };\n                    } else if (\"checkbox\" === e.type) t = e.checked;else if (\"number\" === e.type || \"range\" === e.type) {\n                      var i = e.valueAsNumber;\n                      isNaN(i) || (t = i);\n                    } else t = \"file\" === e.type ? e.files : e.value;\n                  } else t = e.value;\n                  return {\n                    key: n,\n                    value: t\n                  };\n                }),\n                u = e.props.contentType;\n              if (\"email\" === e.props.sendSubmissionsTo && (u = MULTIPART_CONTENT_TYPE), Array.from(l).forEach(function (e) {\n                var t = e.value;\n                (t instanceof File || Array.isArray(t) && t[0] instanceof File || t instanceof FileList) && (u = MULTIPART_CONTENT_TYPE);\n              }), u === MULTIPART_CONTENT_TYPE) a = s;else if (u === JSON_CONTENT_TYPE) {\n                var d = {};\n                Array.from(l).forEach(function (e) {\n                  var t = e.value,\n                    n = e.key;\n                  set(d, n, t);\n                }), a = JSON.stringify(d);\n              } else {\n                if (u !== ENCODED_CONTENT_TYPE) return void console.error(\"Unsupported content type: \", u);\n                a = Array.from(l).map(function (e) {\n                  var t = e.value,\n                    n = e.key;\n                  return encodeURIComponent(n) + \"=\" + encodeURIComponent(t);\n                }).join(\"&\");\n              }\n              u && u !== MULTIPART_CONTENT_TYPE && (i && (null === (n = e.props.action) || void 0 === n ? void 0 : n.includes(\"zapier.com\")) || (o[\"content-type\"] = u));\n              var c = new CustomEvent(\"presubmit\", {\n                detail: {\n                  body: a\n                }\n              });\n              if (e.ref && (e.ref.dispatchEvent(c), c.defaultPrevented)) return;\n              e.setState(__assign(__assign({}, e.state), {\n                state: \"sending\"\n              }));\n              var p = \"\".concat(\"dev\" === builder.env ? \"http://localhost:5000\" : \"https://builder.io\", \"/api/v1/form-submit?apiKey=\").concat(builder.apiKey, \"&to=\").concat(btoa(e.props.sendSubmissionsToEmail || \"\"), \"&name=\").concat(encodeURIComponent(e.props.name || \"\"));\n              fetch(\"email\" === e.props.sendSubmissionsTo ? p : e.props.action, {\n                body: a,\n                headers: o,\n                method: e.props.method || \"post\"\n              }).then(function (t) {\n                return __awaiter(e, void 0, void 0, function () {\n                  var e, n, i, r, o;\n                  return __generator(this, function (a) {\n                    switch (a.label) {\n                      case 0:\n                        return (n = t.headers.get(\"content-type\")) && -1 !== n.indexOf(JSON_CONTENT_TYPE) ? [4, t.json()] : [3, 2];\n                      case 1:\n                        return e = a.sent(), [3, 4];\n                      case 2:\n                        return [4, t.text()];\n                      case 3:\n                        e = a.sent(), a.label = 4;\n                      case 4:\n                        if (!t.ok && this.props.errorMessagePath && (i = get(e, this.props.errorMessagePath)) && (\"string\" != typeof i && (i = JSON.stringify(i)), this.setState(__assign(__assign({}, this.state), {\n                          formErrorMessage: i\n                        }))), this.setState(__assign(__assign({}, this.state), {\n                          responseData: e,\n                          state: t.ok ? \"success\" : \"error\"\n                        })), t.ok) {\n                          if (r = new CustomEvent(\"submit:success\", {\n                            detail: {\n                              res: t,\n                              body: e\n                            }\n                          }), this.ref) {\n                            if (this.ref.dispatchEvent(r), r.defaultPrevented) return [2];\n                            !1 !== this.props.resetFormOnSubmit && this.ref.reset();\n                          }\n                          this.props.successUrl && (this.ref ? (o = new CustomEvent(\"route\", {\n                            detail: {\n                              url: this.props.successUrl\n                            }\n                          }), this.ref.dispatchEvent(o), o.defaultPrevented || (location.href = this.props.successUrl)) : location.href = this.props.successUrl);\n                        }\n                        return [2];\n                    }\n                  });\n                });\n              }, function (t) {\n                var n = new CustomEvent(\"submit:error\", {\n                  detail: {\n                    error: t\n                  }\n                });\n                e.ref && (e.ref.dispatchEvent(n), n.defaultPrevented) || e.setState(__assign(__assign({}, e.state), {\n                  responseData: t,\n                  state: \"error\"\n                }));\n              });\n            }\n          }\n        }, e.props.attributes), e.props.builderBlock && e.props.builderBlock.children && e.props.builderBlock.children.map(function (e, t) {\n          return jsx(BuilderBlock$1, {\n            key: e.id,\n            block: e\n          });\n        }), \"error\" === e.submissionState && jsx(BuilderBlocks, {\n          dataPath: \"errorMessage\",\n          blocks: e.props.errorMessage\n        }), \"sending\" === e.submissionState && jsx(BuilderBlocks, {\n          dataPath: \"sendingMessage\",\n          blocks: e.props.sendingMessage\n        }), \"error\" === e.submissionState && e.state.responseData && jsx(\"pre\", {\n          className: \"builder-form-error-text\",\n          css: {\n            padding: 10,\n            color: \"red\",\n            textAlign: \"center\"\n          }\n        }, JSON.stringify(e.state.responseData, null, 2)), \"success\" === e.submissionState && jsx(BuilderBlocks, {\n          dataPath: \"successMessage\",\n          blocks: e.props.successMessage\n        })));\n      });\n    }, t;\n  }(React__default.Component),\n  Form = withBuilder(FormComponent, {\n    name: \"Form:Form\",\n    defaults: {\n      responsiveStyles: {\n        large: {\n          marginTop: \"15px\",\n          paddingBottom: \"15px\"\n        }\n      }\n    },\n    image: \"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fef36d2a846134910b64b88e6d18c5ca5\",\n    inputs: [{\n      name: \"sendSubmissionsTo\",\n      type: \"string\",\n      enum: [{\n        label: \"Send to email\",\n        value: \"email\",\n        helperText: \"Send form submissions to the email address of your choosing\"\n      }, {\n        label: \"Custom\",\n        value: \"custom\",\n        helperText: \"Handle where the form requests go manually with a little code, e.g. to your own custom backend\"\n      }],\n      defaultValue: \"email\"\n    }, {\n      name: \"sendSubmissionsToEmail\",\n      type: \"string\",\n      required: !0,\n      defaultValue: \"your@email.com\",\n      showIf: 'options.get(\"sendSubmissionsTo\") === \"email\"'\n    }, {\n      name: \"sendWithJs\",\n      type: \"boolean\",\n      helperText: \"Set to false to use basic html form action\",\n      defaultValue: !0,\n      showIf: 'options.get(\"sendSubmissionsTo\") === \"custom\"'\n    }, {\n      name: \"name\",\n      type: \"string\",\n      defaultValue: \"My form\"\n    }, {\n      name: \"action\",\n      type: \"string\",\n      helperText: \"URL to send the form data to\",\n      showIf: 'options.get(\"sendSubmissionsTo\") === \"custom\"'\n    }, {\n      name: \"contentType\",\n      type: \"string\",\n      defaultValue: JSON_CONTENT_TYPE,\n      advanced: !0,\n      enum: [JSON_CONTENT_TYPE, MULTIPART_CONTENT_TYPE, ENCODED_CONTENT_TYPE],\n      showIf: 'options.get(\"sendSubmissionsTo\") === \"custom\" && options.get(\"sendWithJs\") === true'\n    }, {\n      name: \"method\",\n      type: \"string\",\n      showIf: 'options.get(\"sendSubmissionsTo\") === \"custom\"',\n      defaultValue: \"POST\",\n      advanced: !0\n    }, {\n      name: \"previewState\",\n      type: \"string\",\n      enum: [\"unsubmitted\", \"sending\", \"success\", \"error\"],\n      defaultValue: \"unsubmitted\",\n      helperText: 'Choose a state to edit, e.g. choose \"success\" to show what users see on success and edit the message',\n      showIf: 'options.get(\"sendSubmissionsTo\") !== \"zapier\" && options.get(\"sendWithJs\") === true'\n    }, {\n      name: \"successUrl\",\n      type: \"url\",\n      helperText: \"Optional URL to redirect the user to on form submission success\",\n      showIf: 'options.get(\"sendSubmissionsTo\") !== \"zapier\" && options.get(\"sendWithJs\") === true'\n    }, {\n      name: \"resetFormOnSubmit\",\n      type: \"boolean\",\n      showIf: function (e) {\n        return \"custom\" === e.get(\"sendSubmissionsTo\") && !0 === e.get(\"sendWithJs\");\n      },\n      advanced: !0\n    }, {\n      name: \"successMessage\",\n      type: \"uiBlocks\",\n      hideFromUI: !0,\n      defaultValue: [{\n        \"@type\": \"@builder.io/sdk:Element\",\n        responsiveStyles: {\n          large: {\n            marginTop: \"10px\"\n          }\n        },\n        component: {\n          name: \"Text\",\n          options: {\n            text: \"<span>Thanks!</span>\"\n          }\n        }\n      }]\n    }, {\n      name: \"validate\",\n      type: \"boolean\",\n      defaultValue: !0,\n      advanced: !0\n    }, {\n      name: \"errorMessagePath\",\n      type: \"text\",\n      advanced: !0,\n      helperText: 'Path to where to get the error message from in a JSON response to display to the user, e.g. \"error.message\" for a response like { \"error\": { \"message\": \"this username is taken\" }}'\n    }, {\n      name: \"errorMessage\",\n      type: \"uiBlocks\",\n      hideFromUI: !0,\n      defaultValue: [{\n        \"@type\": \"@builder.io/sdk:Element\",\n        responsiveStyles: {\n          large: {\n            marginTop: \"10px\"\n          }\n        },\n        bindings: {\n          \"component.options.text\": \"state.formErrorMessage || block.component.options.text\"\n        },\n        component: {\n          name: \"Text\",\n          options: {\n            text: \"<span>Form submission error :( Please check your answers and try again</span>\"\n          }\n        }\n      }]\n    }, {\n      name: \"sendingMessage\",\n      type: \"uiBlocks\",\n      hideFromUI: !0,\n      defaultValue: [{\n        \"@type\": \"@builder.io/sdk:Element\",\n        responsiveStyles: {\n          large: {\n            marginTop: \"10px\"\n          }\n        },\n        component: {\n          name: \"Text\",\n          options: {\n            text: \"<span>Sending...</span>\"\n          }\n        }\n      }]\n    }, __assign(__assign({\n      name: \"customHeaders\",\n      type: \"map\"\n    }, {\n      valueType: {\n        type: \"string\"\n      }\n    }), {\n      advanced: !0,\n      showIf: 'options.get(\"sendSubmissionsTo\") === \"custom\" && options.get(\"sendWithJs\") === true'\n    })],\n    noWrap: !0,\n    canHaveChildren: !0,\n    defaultChildren: [{\n      \"@type\": \"@builder.io/sdk:Element\",\n      responsiveStyles: {\n        large: {\n          marginTop: \"10px\"\n        }\n      },\n      component: {\n        name: \"Text\",\n        options: {\n          text: \"<span>Enter your name</span>\"\n        }\n      }\n    }, {\n      \"@type\": \"@builder.io/sdk:Element\",\n      responsiveStyles: {\n        large: {\n          marginTop: \"10px\"\n        }\n      },\n      component: {\n        name: \"Form:Input\",\n        options: {\n          name: \"name\",\n          placeholder: \"Jane Doe\"\n        }\n      }\n    }, {\n      \"@type\": \"@builder.io/sdk:Element\",\n      responsiveStyles: {\n        large: {\n          marginTop: \"10px\"\n        }\n      },\n      component: {\n        name: \"Text\",\n        options: {\n          text: \"<span>Enter your email</span>\"\n        }\n      }\n    }, {\n      \"@type\": \"@builder.io/sdk:Element\",\n      responsiveStyles: {\n        large: {\n          marginTop: \"10px\"\n        }\n      },\n      component: {\n        name: \"Form:Input\",\n        options: {\n          name: \"email\",\n          placeholder: \"jane@doe.com\"\n        }\n      }\n    }, {\n      \"@type\": \"@builder.io/sdk:Element\",\n      responsiveStyles: {\n        large: {\n          marginTop: \"10px\"\n        }\n      },\n      component: {\n        name: \"Form:SubmitButton\",\n        options: {\n          text: \"Submit\"\n        }\n      }\n    }]\n  }),\n  FormInputComponent = function (e) {\n    function t() {\n      return null !== e && e.apply(this, arguments) || this;\n    }\n    return __extends(t, e), t.prototype.render = function () {\n      return React__default.createElement(\"input\", __assign({\n        key: Builder.isEditing && this.props.defaultValue ? this.props.defaultValue : \"default-key\",\n        placeholder: this.props.placeholder,\n        type: this.props.type,\n        name: this.props.name,\n        value: this.props.value,\n        defaultValue: this.props.defaultValue,\n        required: this.props.required\n      }, this.props.attributes));\n    }, t;\n  }(React__default.Component),\n  FormInput = withBuilder(FormInputComponent, {\n    name: \"Form:Input\",\n    image: \"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fad6f37889d9e40bbbbc72cdb5875d6ca\",\n    inputs: [{\n      name: \"type\",\n      type: \"text\",\n      enum: [\"text\", \"number\", \"email\", \"url\", \"checkbox\", \"radio\", \"range\", \"date\", \"datetime-local\", \"search\", \"tel\", \"time\", \"file\", \"month\", \"week\", \"password\", \"color\", \"hidden\"],\n      defaultValue: \"text\"\n    }, {\n      name: \"name\",\n      type: \"string\",\n      required: !0,\n      helperText: 'Every input in a form needs a unique name describing what it takes, e.g. \"email\"'\n    }, {\n      name: \"placeholder\",\n      type: \"string\",\n      defaultValue: \"Hello there\",\n      helperText: \"Text to display when there is no value\"\n    }, {\n      name: \"defaultValue\",\n      type: \"string\"\n    }, {\n      name: \"value\",\n      type: \"string\",\n      advanced: !0\n    }, {\n      name: \"required\",\n      type: \"boolean\",\n      helperText: \"Is this input required to be filled out to submit a form\",\n      defaultValue: !1\n    }],\n    noWrap: !0,\n    static: !0,\n    defaultStyles: {\n      paddingTop: \"10px\",\n      paddingBottom: \"10px\",\n      paddingLeft: \"10px\",\n      paddingRight: \"10px\",\n      borderRadius: \"3px\",\n      borderWidth: \"1px\",\n      borderStyle: \"solid\",\n      borderColor: \"#ccc\"\n    }\n  }),\n  FormSubmitButtonComponent = function (e) {\n    function t() {\n      return null !== e && e.apply(this, arguments) || this;\n    }\n    return __extends(t, e), t.prototype.render = function () {\n      return React__default.createElement(\"button\", __assign({\n        type: \"submit\"\n      }, this.props.attributes), this.props.text);\n    }, t;\n  }(React__default.Component),\n  FormSubmitButton = withBuilder(FormSubmitButtonComponent, {\n    name: \"Form:SubmitButton\",\n    image: \"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fdf2820ffed1f4349a94c40b3221f5b98\",\n    defaultStyles: {\n      appearance: \"none\",\n      paddingTop: \"15px\",\n      paddingBottom: \"15px\",\n      paddingLeft: \"25px\",\n      paddingRight: \"25px\",\n      backgroundColor: \"#3898EC\",\n      color: \"white\",\n      borderRadius: \"4px\",\n      cursor: \"pointer\"\n    },\n    inputs: [{\n      name: \"text\",\n      type: \"text\",\n      defaultValue: \"Click me\"\n    }],\n    static: !0,\n    noWrap: !0\n  }),\n  LabelComponent = function (e) {\n    function t() {\n      return null !== e && e.apply(this, arguments) || this;\n    }\n    return __extends(t, e), t.prototype.render = function () {\n      return React__default.createElement(\"label\", __assign({\n        htmlFor: this.props.for\n      }, this.props.attributes), this.props.text && React__default.createElement(\"span\", {\n        className: \"builder-label-text\",\n        dangerouslySetInnerHTML: {\n          __html: this.props.text\n        }\n      }), this.props.builderBlock && this.props.builderBlock.children && this.props.builderBlock.children.map(function (e) {\n        return React__default.createElement(BuilderBlock$1, {\n          key: e.id,\n          block: e\n        });\n      }));\n    }, t;\n  }(React__default.Component),\n  Label = withBuilder(LabelComponent, {\n    name: \"Form:Label\",\n    image: \"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F9322342f04b545fb9a8091cd801dfb5b\",\n    inputs: [{\n      name: \"text\",\n      type: \"html\",\n      richText: !0,\n      defaultValue: \"Label\"\n    }, {\n      name: \"for\",\n      type: \"text\",\n      helperText: \"The name of the input this label is for\",\n      advanced: !0\n    }],\n    noWrap: !0,\n    static: !0,\n    canHaveChildren: !0\n  }),\n  FormSelectComponent = function (e) {\n    function t() {\n      return null !== e && e.apply(this, arguments) || this;\n    }\n    return __extends(t, e), t.prototype.render = function () {\n      var e = this.props.options;\n      return React__default.createElement(\"select\", __assign({\n        value: this.props.value,\n        key: Builder.isEditing && this.props.defaultValue ? this.props.defaultValue : \"default-key\",\n        defaultValue: this.props.defaultValue,\n        name: this.props.name\n      }, this.props.attributes), e && e.map(function (e) {\n        return React__default.createElement(\"option\", {\n          value: e.value\n        }, e.name || e.value);\n      }));\n    }, t;\n  }(React__default.Component),\n  FormSelect = withBuilder(FormSelectComponent, {\n    name: \"Form:Select\",\n    image: \"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F83acca093fb24aaf94dee136e9a4b045\",\n    defaultStyles: {\n      alignSelf: \"flex-start\"\n    },\n    inputs: [{\n      name: \"options\",\n      type: \"list\",\n      required: !0,\n      subFields: [{\n        name: \"value\",\n        type: \"text\",\n        required: !0\n      }, {\n        name: \"name\",\n        type: \"text\"\n      }],\n      defaultValue: [{\n        value: \"option 1\"\n      }, {\n        value: \"option 2\"\n      }]\n    }, {\n      name: \"name\",\n      type: \"string\",\n      required: !0,\n      helperText: 'Every select in a form needs a unique name describing what it gets, e.g. \"email\"'\n    }, {\n      name: \"defaultValue\",\n      type: \"string\"\n    }, {\n      name: \"value\",\n      type: \"string\",\n      advanced: !0\n    }, {\n      name: \"required\",\n      type: \"boolean\",\n      defaultValue: !1\n    }],\n    static: !0,\n    noWrap: !0\n  }),\n  TextAreaComponent = function (e) {\n    function t() {\n      return null !== e && e.apply(this, arguments) || this;\n    }\n    return __extends(t, e), t.prototype.render = function () {\n      return React__default.createElement(\"textarea\", __assign({\n        placeholder: this.props.placeholder,\n        name: this.props.name,\n        value: this.props.value,\n        defaultValue: this.props.defaultValue\n      }, this.props.attributes));\n    }, t;\n  }(React__default.Component),\n  TextArea = withBuilder(TextAreaComponent, {\n    name: \"Form:TextArea\",\n    image: \"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Ff74a2f3de58c4c3e939204e5b6b8f6c3\",\n    inputs: [{\n      advanced: !0,\n      name: \"value\",\n      type: \"string\"\n    }, {\n      name: \"name\",\n      type: \"string\",\n      required: !0,\n      helperText: 'Every input in a form needs a unique name describing what it gets, e.g. \"email\"'\n    }, {\n      name: \"defaultValue\",\n      type: \"string\"\n    }, {\n      name: \"placeholder\",\n      type: \"string\",\n      defaultValue: \"Hello there\"\n    }, {\n      name: \"required\",\n      type: \"boolean\",\n      defaultValue: !1\n    }],\n    defaultStyles: {\n      paddingTop: \"10px\",\n      paddingBottom: \"10px\",\n      paddingLeft: \"10px\",\n      paddingRight: \"10px\",\n      borderRadius: \"3px\",\n      borderWidth: \"1px\",\n      borderStyle: \"solid\",\n      borderColor: \"#ccc\"\n    },\n    static: !0,\n    noWrap: !0\n  }),\n  ImgComponent = function (e) {\n    function t() {\n      return null !== e && e.apply(this, arguments) || this;\n    }\n    return __extends(t, e), t.prototype.render = function () {\n      var e = this.props.attributes || {};\n      return React__default.createElement(\"img\", __assign({}, this.props.attributes, {\n        src: this.props.image || e.src\n      }));\n    }, t;\n  }(React__default.Component),\n  Img = withBuilder(ImgComponent, {\n    name: \"Raw:Img\",\n    hideFromInsertMenu: !0,\n    image: \"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4\",\n    inputs: [{\n      name: \"image\",\n      bubble: !0,\n      type: \"file\",\n      allowedFileTypes: [\"jpeg\", \"jpg\", \"png\", \"svg\"],\n      required: !0\n    }],\n    noWrap: !0,\n    static: !0\n  }),\n  RawText = function (e) {\n    var t = e.attributes || {};\n    return React.createElement(\"span\", {\n      className: (null == t ? void 0 : t.class) || (null == t ? void 0 : t.className),\n      dangerouslySetInnerHTML: {\n        __html: e.text || \"\"\n      }\n    });\n  };\nBuilder.registerComponent(RawText, {\n  name: \"Builder:RawText\",\n  hideFromInsertMenu: !0,\n  inputs: [{\n    name: \"text\",\n    bubble: !0,\n    type: \"longText\",\n    required: !0\n  }]\n}), Builder.isReact = !0;\nexport { BuilderAsyncRequestsContext, BuilderBlock, BuilderBlock$1 as BuilderBlockComponent, BuilderBlocks, BuilderComponent, BuilderContent, BuilderMetaContext, BuilderComponent as BuilderPage, BuilderStoreContext, Button, Columns, CustomCode, Slot as Dropzone, Embed, Form, FormInput, FormSelect, FormSubmitButton, Fragment, Image, Img, Label, Mutation, RawText, BuilderComponent as RenderContent, Router, Section, StateProvider, Symbol$1 as Symbol, Text, TextArea, Video, getSrcSet, noWrap, onChange, stringToFunction, updateMetadata, withBuilder, withChildren };","map":{"version":3,"names":["window","_a","parent","postMessage","type","data","value","supportsPatchUpdates","priorVersion","version","sizeNames","sizes","xsmall","min","default","max","small","medium","large","getWidthForSize","e","getSizeForWidth","t","n","length","i","set","Object","Array","isArray","toString","match","slice","reduce","Math","abs","Number","safeDynamicRequire","Builder","isServer","eval","fnCache","api","builder","stringToFunction","trim","r","o","includes","startsWith","a","fn","isBrowser","Function","concat","push","s","message","indexOf","console","warn","l","final","arguments","apply","VM","timeout","sandbox","__assign","state","event","run","replace","stack","process","env","DEBUG","debug","isPromise","then","isRequestInfo","BuilderAsyncRequestsContext","React__default","createContext","requests","errors","logs","BuilderStoreContext","rootState","content","context","update","applyPatchWithMinimalMutationChain","path","op","split","shift","u","d","c","p","splice","f","m","String","__spreadArray","htmlEscape","blockToHtmlString","tagName","id","class","keys","properties","map","join","component","name","options","text","children","Link","createElement","Consumer","renderLink","camelCaseToKebabCase","toLowerCase","kebabCaseToCamelCase","toUpperCase","Device","desktop","tablet","mobile","blocksMap","voidElements","Set","last","omit$1","assign","cssCase","fastClone","JSON","parse","stringify","capitalize","BuilderBlock$1","hasError","updates","privateState","onWindowMessage","selection","block","setTimeout","$block","$blocks","location","href","props","setState","__extends","defineProperty","prototype","get","enumerable","configurable","getDerivedStateFromError","componentDidCatch","error","_errors","_logs","animations","trigger","steps","styles","reverse","responsiveStyles","emailMode","find","transition","duration","easing","delay","transitionDelay","componentWillUnmount","isEditing","removeEventListener","componentDidMount","addEventListener","bindings","call","animator","bindAnimations","filter","elementId","getElement","child","fieldName","jsx","dangerouslySetInnerHTML","__html","h","tag","components","g","style","v","b","hide","show","actions","y","Proxy","_","x","has","S","fragment","noWrap","k","attr","w","C","B","R","_spacer","key","E","Fragment","ClassNames","css","cx","emotionCss","className","_asyncRequests","attributes","builderBlock","builderState","index","size","contents","repeat","collection","itemName","$index","$item","Provider","render","display","padding","color","fontSize","fontStyle","Component","BuilderBlocks","onClickEmptyBlocks","isIframe","noBlocks","parentElementId","parentId","dataPath","onHoverEmptyBlocks","blocks","flexDirection","alignItems","onClick","onMouseEnter","renderInto","document","querySelector","Element","ReactDOM","NoWrap","getData","blocksString","variantsScript","VariantsProvider","initialContent","canTrack","Boolean","variations","testRatio","React","getCookie","random","setCookie","BuilderContent","_super","_this","ref","loading","getContentWithInfo","_b","_c","noEditorUpdates","patches","_i","patches_1","patch","contentLoaded","subscriptions","Subscription","firstLoad","clicked","trackedImpression","intersectionObserver","nativeEvent","autoTrack","trackInteraction","renderedVariantId","model","modelName","isStatic","variationId","inline","subscribeToContent","trackImpression","add","queueGetContent","subscribe","IntersectionObserver","forEach","intersectionRatio","unobserve","observe","contentError","unsubscribe","dataOnly","testVariationId","testVariationName","unwrapExports","__esModule","hasOwnProperty","createCommonjsModule","exports","onChange_1","Symbol","concatPath","shallowClone","onChange","equals","is","WeakMap","handleChange","invalidateCachedDescriptor","delete","buildProxy","ignoreChange","ignoreSymbols","Reflect","RegExp","isShallow","Map","getOwnPropertyDescriptor","writable","deleteProperty","Date","valueOf","lastIndexOf","bind","target","nextTick","debounceNextTick","debounceNextTickImpl","throttle","later","leading","now","clearTimeout","trailing","BuilderMetaContext","ampMode","pick","omit","wrapComponent","builderTag","inputs","size$1","debounce","fontsLoaded","fetch$1","fetch","require","sizeMap","fetchCache","tryEval","searchToObject$1","search","substring","decodeURIComponent","BuilderComponent","onStateChange","BehaviorSubject","asServer","contentRef","styleRef","updateState","lastJsCode","lastHttpRequests","httpSubscriptionPerKey","messageListener","resizeFn","deviceSizeState","deviceSize","resizeListener","mounted","notifyStateChange","onContentLoaded","title","pageTitle","description","pageDescription","setAttribute","head","appendChild","defaultValue","locationState","device","jsCode","codegen","httpRequests","noAsync","evalExpression","handleRequest","apiKey","inlinedContent","_hydrate","hydrate","getHtmlData","defaults","isPreviewing","inlineContent","entry","innerText","getUserAttributes","pathname","query","innerWidth","classList","contains","innerHTML","previousElementSibling","matches","insertAdjacentElement","builderRootRef","reload","dispatchEvent","CustomEvent","detail","previewingModel","next","processStateFromApi","getCssFromFont","family","kind","fileUrl","files","regular","getFontCss","allowCustomFonts","customFonts","ensureFontsLoaded","getCss","useContent","cssCode","componentDidUpdate","checkStyles","builderContent","hash","isChild","stopClickPropagationWhenEditing","stopPropagation","url","format","blocksJs","from","useState","__awaiter","__generator","request","label","time","trys","sent","json","timeEnd","promise","handleBuilderRequest","__decorate","__metadata","BuilderBlock","updateMetadata","registerComponent","withBuilder","withChildren","forwardRef","builderOptions","canHaveChildren","iconUrl","TextComponent","textRef","allowTextEdit","contentEditable","activeElement","outline","margin","lineHeight","letterSpacing","fontWeight","textAlign","fontFamily","meta","rtlMode","direction","onInput","currentTarget","onKeyDown","which","blur","onFocus","onBlur","Text","static","image","required","autoFocus","bubble","defaultStyles","height","Slot","useContext","symbolId","pointerEvents","docsLink","FragmentComponent","hideFromInsertMenu","DEFAULT_ASPECT_RATIO$2","defaultBlocks","flexShrink","position","marginTop","minHeight","minWidth","overflow","backgroundPosition","backgroundSize","aspectRatio","ColumnsComponent","columns","space","getWidth","width","getColumnWidth","gutterSize","stackColumnsAt","reverseColumnsWhenStacked","link","flexGrow","marginLeft","Columns","broadcast","subFields","hideFromUI","helperText","advanced","enum","EmbedComponent","elementRef","scriptsInserted","scriptsRun","findAndRunScripts","getElementsByTagName","src","async","Embed","html","catch","globalReplaceNodes","isShopify$1","customCodeQuerySelector_1","allCustomCodeElements_1","querySelectorAll","builderTemplates","parentElement","getAttribute","cloneNode","CustomCodeComponent","originalRef","replaceNodes","hydrated","remove","code","isHydrating","scriptsClientOnly","noReactRender","CustomCode","requiredPermissions","removeProtocol","isElementInViewport","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","clientWidth","getShopifyImageUrl","DEFAULT_ASPECT_RATIO$1","updateQueryParam","encodeURIComponent","getSrcSet","isNaN","getSizes","ImageComponent","imageLoaded","useLazyLoading","load","pictureRef","scrollListener","lazy","capture","passive","srcset","fitContent","layout","round","alt","altText","role","opacity","objectFit","objectPosition","onLoad","srcSet","noWebp","paddingTop","Image","allowedFileTypes","blob","Promise","onload","Error","DEFAULT_ASPECT_RATIO","VideoComponent","video","containerRef","lazyLoad","updateVideo","removeAttribute","poster","posterImage","autoPlay","muted","controls","loop","fit","zIndex","borderRadius","Video","isShopify","refs","SymbolComponent","staticRef","useStatic","parentNode","replaceChild","symbol","dynamic","placeholder","inheritState","Symbol$1","ButtonComponent","openLinkInNewTab","Button","appearance","paddingBottom","paddingLeft","paddingRight","backgroundColor","cursor","friendlyName","SectionComponent","unmountCallbacks","inView","alignSelf","boxSizing","maxWidth","marginRight","renderContents","lazyStyles","Section","defaultChildren","StateProviderComponent","StateProvider","prefetched","searchToObject","RouterComponent","routed","preloadQueue","onPopState","updateLocationState","onMouseOverOrTouchStart","preloadOnHover","findHrefTarget","isRelative","convertToRelative","parseUrl","urlPath","queryString","userAttributes","handleRouting","button","ctrlKey","defaultPrevented","metaKey","onRoute","anchorNode","preventDefault","route","history","pushState","HTMLAnchorElement","host","Router","Mutation","useRef","useWaitForSelector","selector","current","firstElementChild","useLayoutEffect","MutationObserver","disconnect","body","subtree","characterData","MULTIPART_CONTENT_TYPE","JSON_CONTENT_TYPE","ENCODED_CONTENT_TYPE","FormComponent","responseData","formErrorMessage","previewState","validate","action","sendWithJs","method","onSubmit","sendSubmissionsTo","customHeaders","FormData","HTMLInputElement","checked","valueAsNumber","contentType","File","FileList","btoa","sendSubmissionsToEmail","headers","ok","errorMessagePath","res","resetFormOnSubmit","reset","successUrl","submissionState","errorMessage","sendingMessage","successMessage","Form","showIf","valueType","FormInputComponent","FormInput","borderWidth","borderStyle","borderColor","FormSubmitButtonComponent","FormSubmitButton","LabelComponent","htmlFor","for","Label","richText","FormSelectComponent","FormSelect","TextAreaComponent","TextArea","ImgComponent","Img","RawText","isReact","BuilderBlockComponent","BuilderPage","Dropzone","RenderContent"],"sources":["/app/code/node_modules/@builder.io/react/src/scripts/init-editing.ts","/app/code/node_modules/@builder.io/react/src/constants/device-sizes.constant.ts","/app/code/node_modules/@builder.io/react/src/functions/set.ts","/app/code/node_modules/@builder.io/react/src/functions/safe-dynamic-require.ts","/app/code/node_modules/@builder.io/react/src/functions/string-to-function.ts","/app/code/node_modules/@builder.io/react/src/store/builder-async-requests.ts","/app/code/node_modules/@builder.io/react/src/store/builder-store.ts","/app/code/node_modules/@builder.io/react/src/functions/apply-patch-with-mutation.ts","/app/code/node_modules/@builder.io/react/src/functions/block-to-html-string.ts","/app/code/node_modules/@builder.io/react/src/components/Link.tsx","/app/code/node_modules/@builder.io/react/src/components/builder-block.component.tsx","/app/code/node_modules/@builder.io/react/src/components/builder-blocks.component.tsx","/app/code/node_modules/@builder.io/react/src/components/no-wrap.tsx","/app/code/node_modules/@builder.io/react/src/components/variants-provider.component.tsx","/app/code/node_modules/@builder.io/react/src/components/builder-content.component.tsx","/app/code/node_modules/@builder.io/react/lib/on-change.js","/app/code/node_modules/@builder.io/react/src/functions/debonce-next-tick.ts","/app/code/node_modules/@builder.io/react/src/functions/throttle.ts","/app/code/node_modules/@builder.io/react/src/store/builder-meta.ts","/app/code/node_modules/@builder.io/react/src/components/builder-component.component.tsx","/app/code/node_modules/@builder.io/react/src/decorators/builder-block.decorator.ts","/app/code/node_modules/@builder.io/react/src/functions/update-metadata.ts","/app/code/node_modules/@builder.io/react/src/functions/with-builder.ts","/app/code/node_modules/@builder.io/react/src/functions/with-children.tsx","/app/code/node_modules/@builder.io/react/src/functions/no-wrap.tsx","/app/code/node_modules/@builder.io/react/src/blocks/Text.tsx","/app/code/node_modules/@builder.io/react/src/blocks/Slot.tsx","/app/code/node_modules/@builder.io/react/src/blocks/Fragment.tsx","/app/code/node_modules/@builder.io/react/src/blocks/Columns.tsx","/app/code/node_modules/@builder.io/react/src/blocks/Embed.tsx","/app/code/node_modules/@builder.io/react/src/blocks/CustomCode.tsx","/app/code/node_modules/@builder.io/react/src/blocks/Image.tsx","/app/code/node_modules/@builder.io/react/src/blocks/Video.tsx","/app/code/node_modules/@builder.io/react/src/blocks/Symbol.tsx","/app/code/node_modules/@builder.io/react/src/blocks/Button.tsx","/app/code/node_modules/@builder.io/react/src/blocks/Section.tsx","/app/code/node_modules/@builder.io/react/src/blocks/StateProvider.tsx","/app/code/node_modules/@builder.io/react/src/blocks/Router.tsx","/app/code/node_modules/@builder.io/react/src/blocks/Mutation.tsx","/app/code/node_modules/@builder.io/react/src/functions/get.ts","/app/code/node_modules/@builder.io/react/src/blocks/forms/Form.tsx","/app/code/node_modules/@builder.io/react/src/blocks/forms/Input.tsx","/app/code/node_modules/@builder.io/react/src/blocks/forms/Button.tsx","/app/code/node_modules/@builder.io/react/src/blocks/forms/Label.tsx","/app/code/node_modules/@builder.io/react/src/blocks/forms/Select.tsx","/app/code/node_modules/@builder.io/react/src/blocks/forms/TextArea.tsx","/app/code/node_modules/@builder.io/react/src/blocks/raw/Img.tsx","/app/code/node_modules/@builder.io/react/src/blocks/raw/RawText.tsx","/app/code/node_modules/@builder.io/react/src/builder-react.ts"],"sourcesContent":["import { version } from '../../package.json';\n\nif (typeof window !== 'undefined') {\n  window.parent?.postMessage(\n    {\n      type: 'builder.isReactSdk',\n      data: {\n        value: true,\n        supportsPatchUpdates: 'v3',\n        priorVersion: version,\n      },\n    },\n    '*'\n  );\n}\n","export type Size = 'large' | 'medium' | 'small' | 'xsmall';\nexport const sizeNames: Size[] = ['xsmall', 'small', 'medium', 'large'];\n\n// TODO: put in @builder.io/core\nexport const sizes = {\n  xsmall: {\n    min: 0,\n    default: 0,\n    max: 0,\n  },\n  small: {\n    min: 320,\n    default: 321,\n    max: 640,\n  },\n  medium: {\n    min: 641,\n    default: 642,\n    max: 991,\n  },\n  large: {\n    min: 990,\n    default: 991,\n    max: 1200,\n  },\n  getWidthForSize(size: Size) {\n    return this[size].default;\n  },\n  getSizeForWidth(width: number) {\n    for (const size of sizeNames) {\n      const value = this[size];\n      if (width <= value.max) {\n        return size;\n      }\n    }\n    return 'large';\n  },\n};\n","export const set = (obj: any, _path: string | string[], value: any) => {\n  if (Object(obj) !== obj) {\n    return obj;\n  }\n  const path: string[] = Array.isArray(_path)\n    ? _path\n    : (_path.toString().match(/[^.[\\]]+/g) as string[]);\n\n  path\n    .slice(0, -1)\n    .reduce(\n      (a, c, i) =>\n        Object(a[c]) === a[c]\n          ? a[c]\n          : (a[c] = Math.abs(Number(path[i + 1])) >> 0 === +path[i + 1] ? [] : {}),\n      obj\n    )[path[path.length - 1]] = value;\n  return obj;\n};\n","'use strict';\n\nimport { Builder } from '@builder.io/sdk';\n\n// Allow us to require things dynamically safe from webpack bundling\nexport const safeDynamicRequire: typeof require = Builder.isServer\n  ? eval('require')\n  : ((() => null) as any);\n","import { Builder, builder } from '@builder.io/sdk';\nimport { safeDynamicRequire } from './safe-dynamic-require';\n\nconst fnCache: { [key: string]: BuilderEvanFunction | undefined } = {};\n\ntype BuilderEvanFunction = (\n  state: object,\n  event?: Event | undefined | null,\n  block?: any,\n  builder?: Builder,\n  Device?: any,\n  update?: Function | null,\n  _Builder?: typeof Builder,\n  context?: object\n) => any;\n\nexport const api = (state: any) => builder;\n\nexport function stringToFunction(\n  str: string,\n  expression = true,\n  errors?: Error[],\n  logs?: string[]\n): BuilderEvanFunction {\n  /* TODO: objedct */\n  if (!str || !str.trim()) {\n    return () => undefined;\n  }\n\n  const cacheKey = str + ':' + expression;\n  if (fnCache[cacheKey]) {\n    return fnCache[cacheKey]!;\n  }\n\n  // FIXME: gross hack\n  const useReturn =\n    (expression &&\n      !(str.includes(';') || str.includes(' return ') || str.trim().startsWith('return '))) ||\n    str.trim().startsWith('builder.run');\n  let fn: Function = () => {\n    /* intentionally empty */\n  };\n\n  try {\n    // tslint:disable-next-line:no-function-constructor-with-string-args\n    if (Builder.isBrowser) {\n      // TODO: use strict and eval\n      fn = new Function(\n        'state',\n        'event',\n        'block',\n        'builder',\n        'Device',\n        'update',\n        'Builder',\n        'context',\n        // TODO: remove the with () {} - make a page v3 that doesn't use this\n        // Or only do if can't find state\\s*\\. anywhere hm\n        `\n          var names = [\n            'state',\n            'event',\n            'block',\n            'builder',\n            'Device',\n            'update',\n            'Builder',\n            'context'\n          ];\n          var rootState = state;\n          if (typeof Proxy !== 'undefined') {\n            rootState = new Proxy(rootState, {\n              set: function () {\n                return false;\n              },\n              get: function (target, key) {\n                if (names.includes(key)) {\n                  return undefined;\n                }\n                return target[key];\n              }\n            });\n          }\n          /* Alias */\n          var ctx = context;\n          with (rootState) {\n            ${useReturn ? `return (${str});` : str};\n          }\n        `\n      );\n    }\n  } catch (error: any) {\n    if (errors) {\n      errors.push(error);\n    }\n    const message = error && error.message;\n    if (message && typeof message === 'string') {\n      if (logs && logs.indexOf(message) === -1) {\n        logs.push(message);\n      }\n    }\n    if (Builder.isBrowser) {\n      console.warn(`Function compile error in ${str}`, error);\n    }\n  }\n\n  const final = (...args: any[]) => {\n    try {\n      if (Builder.isBrowser) {\n        return fn(...args);\n      } else {\n        // TODO: memoize on server\n        // TODO: use something like this instead https://www.npmjs.com/package/rollup-plugin-strip-blocks\n        // There must be something more widely used?\n        // TODO: regex for between comments instead so can still type check the code... e.g. //SERVER-START ... code ... //SERVER-END\n        // Below is a hack to get certain code to *only* load in the server build, to not screw with\n        // browser bundler's like rollup and webpack. Our rollup plugin strips these comments only\n        // for the server build\n        // TODO: cache these for better performancs with new VmScript\n        // tslint:disable:comment-format\n        const { VM } = safeDynamicRequire('vm2');\n        const [state, event] = args;\n        return new VM({\n          timeout: 100,\n          sandbox: {\n            ...state,\n            ...{ state },\n            ...{ builder: api },\n            event,\n          },\n        }).run(str.replace(/(^|;)return /, '$1'));\n        // tslint:enable:comment-format\n      }\n    } catch (error: any) {\n      if (Builder.isBrowser) {\n        console.warn(\n          'Builder custom code error:',\n          error.message || error,\n          'in',\n          str,\n          error.stack || error\n        );\n      } else {\n        if (process.env.DEBUG) {\n          console.debug(\n            'Builder custom code error:',\n            error.message || error,\n            'in',\n            str,\n            error.stack || error\n          );\n        }\n      }\n      if (errors) {\n        errors.push(error);\n      }\n    }\n  };\n\n  if (Builder.isBrowser) {\n    fnCache[cacheKey] = final;\n  }\n\n  return final;\n}\n","import React from 'react';\n\nexport interface RequestInfo {\n  promise: Promise<any>;\n  url?: string;\n}\n\nexport type RequestOrPromise = RequestInfo | Promise<any>;\n\nexport const isPromise = (thing: RequestOrPromise): thing is Promise<any> =>\n  typeof (thing as any).then === 'function';\nexport const isRequestInfo = (thing: RequestOrPromise): thing is RequestInfo => !isPromise(thing);\n\nexport const BuilderAsyncRequestsContext = React.createContext({\n  requests: [] as RequestOrPromise[],\n  errors: [] as Error[],\n  logs: [] as string[],\n});\n","import React from 'react';\n\nexport const BuilderStoreContext = React.createContext<BuilderStore>({\n  state: {},\n  rootState: {},\n  content: {},\n  context: {},\n  update: (mutator: (state: any) => any) => null,\n});\n\nexport interface BuilderStore {\n  state: any;\n  rootState: any;\n  content: any;\n  context: any;\n  update: (mutator: (state: any) => any) => any;\n  renderLink?: (props: React.AnchorHTMLAttributes<any>) => React.ReactNode;\n}\n","export const applyPatchWithMinimalMutationChain = (\n  obj: any,\n  patch: { path: string; op: 'add' | 'remove' | 'replace'; value: any },\n  preserveRoot = true\n) => {\n  if (Object(obj) !== obj) {\n    return obj;\n  }\n  const { path, op, value } = patch;\n  const pathArr: string[] = path.split(/\\//);\n  if (pathArr[0] === '') {\n    pathArr.shift();\n  }\n\n  const newObj = preserveRoot ? obj : { ...obj };\n  let objPart = newObj;\n  for (let i = 0; i < pathArr.length; i++) {\n    const isLast = i === pathArr.length - 1;\n    const property = pathArr[i];\n    if (isLast) {\n      if (op === 'replace') {\n        objPart[property] = value;\n      } else if (op === 'add') {\n        const index = Number(property);\n        if (Array.isArray(objPart)) {\n          if (property === '-') {\n            objPart.push(value);\n          } else {\n            objPart.splice(index, 0, value);\n          }\n        } else {\n          objPart[property] = value;\n        }\n      } else if (op === 'remove') {\n        const index = Number(property);\n        if (Array.isArray(objPart)) {\n          objPart.splice(index, 1);\n        } else {\n          delete objPart[property];\n        }\n      }\n    } else {\n      const nextProperty = pathArr[i + 1];\n      const newPart =\n        Object(objPart[property]) === objPart[property]\n          ? objPart[property]\n          : String(Number(nextProperty)) === nextProperty\n          ? []\n          : {};\n      objPart = objPart[property] = Array.isArray(newPart) ? [...newPart] : { ...newPart };\n    }\n  }\n\n  return newObj;\n};\n","import { BuilderElement } from '@builder.io/sdk';\n\nexport const htmlEscape = (str: string) =>\n  str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n\n// TODO: handle self closing tags\n// TODO: how allow components (e.g. react components) in templates?\nexport const blockToHtmlString = (block: BuilderElement): string =>\n  `<${htmlEscape(block.tagName || 'div')} \n    class=\"builder-block ${block.id} ${block.class || ''}\"\n    builder-id=\"${block.id}\"\n  ${Object.keys(block.properties || {})\n    .map(key => `${htmlEscape(key)}=\"${htmlEscape(block.properties![key])}\"`)\n    .join(' ')}\n  >${\n    block?.component?.name === 'Text'\n      ? block.component.options.text\n      : block.children\n      ? block.children.map(item => blockToHtmlString(item)).join('')\n      : ''\n  }</${block.tagName || 'div'}>`.replace(/\\s+/g, ' ');\n","import React from 'react';\nimport { BuilderStoreContext } from '../store/builder-store';\n/**\n * Link component should be used instead of an anchor tag in our components,\n * this is to allow our users to override anchor tags in\n * case they're using a routing Lib that requires using their\n * custom Link component (e.g Next, Gatsby, React Router)\n * <BuilderComponent renderLink=(props) => <myCustomLink {...props} /> />\n */\nexport const Link: React.SFC<React.AnchorHTMLAttributes<HTMLAnchorElement>> = props => (\n  <BuilderStoreContext.Consumer>\n    {context => {\n      if (context.renderLink) {\n        return context.renderLink(props);\n      }\n      return <a {...props} />;\n    }}\n  </BuilderStoreContext.Consumer>\n);\n","/** @jsx jsx */\n\nimport { Builder, builder, BuilderElement, Component } from '@builder.io/sdk';\nimport { ClassNames, jsx } from '@emotion/core';\nimport React from 'react';\nimport { Size, sizeNames, sizes } from '../constants/device-sizes.constant';\nimport { set } from '../functions/set';\nimport { api, stringToFunction } from '../functions/string-to-function';\nimport { BuilderAsyncRequestsContext, RequestOrPromise } from '../store/builder-async-requests';\nimport { BuilderStoreContext } from '../store/builder-store';\nimport { applyPatchWithMinimalMutationChain } from '../functions/apply-patch-with-mutation';\nimport { blockToHtmlString } from '../functions/block-to-html-string';\nimport { Link } from './Link';\n\nconst camelCaseToKebabCase = (str?: string) =>\n  str ? str.replace(/([A-Z])/g, g => `-${g[0].toLowerCase()}`) : '';\n\nconst kebabCaseToCamelCase = (str = '') =>\n  str.replace(/-([a-z])/g, match => match[1].toUpperCase());\n\nconst Device = { desktop: 0, tablet: 1, mobile: 2 };\nconst blocksMap: Record<string, BuilderElement> = {};\n\nconst voidElements = new Set([\n  'area',\n  'base',\n  'br',\n  'col',\n  'embed',\n  'hr',\n  'img',\n  'input',\n  'link',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr',\n  'textarea', // In React, we want to treat this as void (no children, otherwise React throws errors)\n]);\n\nconst last = <T extends any>(arr: T[]) => arr[arr.length - 1];\n\nfunction omit(obj: any, values: string[]) {\n  const newObject = Object.assign({}, obj);\n  for (const key of values) {\n    delete newObject[key];\n  }\n  return newObject;\n}\n\nconst cssCase = (property: string) => {\n  if (!property) {\n    return property;\n  }\n\n  let str = camelCaseToKebabCase(property);\n\n  if (property[0] === property[0].toUpperCase()) {\n    str = '-' + str;\n  }\n\n  return str;\n};\n\n// TODO: pull from builer internal utils\nconst fastClone = (obj: object) => JSON.parse(JSON.stringify(obj));\n\n// TODO: share these types in shared\ntype ElementType = any;\n\nexport interface BuilderBlockProps {\n  fieldName?: string;\n  block: BuilderElement;\n  // TODO:\n  // block: BuilderElement\n  child?: boolean;\n  index?: number;\n  size?: Size;\n  emailMode?: boolean;\n  // TODO: use context\n}\n\nfunction capitalize(str: string) {\n  if (!str) {\n    return;\n  }\n  return str[0].toUpperCase() + str.slice(1);\n}\n\ninterface BuilderBlockState {\n  state: any;\n  rootState: any;\n  context: any;\n  update: Function;\n}\n\nexport class BuilderBlock extends React.Component<\n  BuilderBlockProps,\n  { hasError: boolean; updates: number }\n> {\n  private _asyncRequests?: RequestOrPromise[];\n  private _errors?: Error[];\n  private _logs?: string[];\n\n  state = {\n    hasError: false,\n    updates: 0,\n  };\n\n  private privateState: BuilderBlockState = {\n    state: {},\n    rootState: {},\n    context: {},\n    update: () => {\n      /* Intentionally empty */\n    },\n  };\n\n  get store() {\n    return this.privateState;\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error('Builder block error:', error, errorInfo);\n  }\n\n  // TODO: handle adding return if none provided\n  // TODO: cache/memoize this (globally with LRU?)\n  stringToFunction(str: string, expression = true) {\n    return stringToFunction(str, expression, this._errors, this._logs);\n  }\n\n  get block() {\n    return blocksMap[this.props.block.id!] || this.props.block;\n  }\n\n  get emotionCss() {\n    let initialAnimationStepStyles: any;\n    const { block } = this;\n    if (Builder.isServer) {\n      const animation = block.animations && block.animations[0];\n      if (animation && animation.trigger !== 'hover') {\n        const firstStep = animation && animation.steps && animation.steps[0];\n        const stepStyles = firstStep && firstStep.styles;\n        if (stepStyles) {\n          initialAnimationStepStyles = stepStyles;\n        }\n      }\n    }\n\n    const reversedNames = sizeNames.slice().reverse();\n    const self = this.block;\n    const styles: any = {};\n    if (self.responsiveStyles) {\n      for (const size of reversedNames) {\n        if (size === 'large') {\n          if (!this.props.emailMode) {\n            styles[`&.builder-block`] = Object.assign(\n              {},\n              self.responsiveStyles[size],\n              initialAnimationStepStyles\n            );\n          }\n        } else {\n          styles[`@media only screen and (max-width: ${sizes[size].max}px)`] = {\n            '&.builder-block': self.responsiveStyles[size],\n          };\n        }\n      }\n    }\n\n    const hoverAnimation =\n      block.animations && block.animations.find(item => item.trigger === 'hover');\n    if (hoverAnimation) {\n      styles[':hover'] = hoverAnimation.steps?.[1]?.styles || {};\n      // TODO: if manually has set transition property deal with that\n      // TODO: only include properties explicitly set in the animation\n      // using Object.keys(styles)\n      styles.transition = `all ${hoverAnimation.duration}s ${camelCaseToKebabCase(\n        hoverAnimation.easing\n      )}`;\n      if (hoverAnimation.delay) {\n        styles.transitionDelay = hoverAnimation.delay + 's';\n      }\n    }\n\n    return styles;\n  }\n\n  eval(str: string) {\n    const fn = this.stringToFunction(str);\n    // TODO: only one root instance of this, don't rewrap every time...\n    return fn(\n      this.privateState.state,\n      undefined,\n      this.block,\n      builder,\n      Device,\n      this.privateState.update,\n      Builder,\n      this.privateState.context\n    );\n  }\n\n  componentWillUnmount() {\n    if (Builder.isEditing) {\n      removeEventListener('message', this.onWindowMessage);\n    }\n  }\n\n  onWindowMessage = (event: MessageEvent) => {\n    const message = event.data;\n    if (!message) {\n      return;\n    }\n    switch (message.type) {\n      case 'builder.selectionChange': {\n        const { data } = message;\n        if (!data) {\n          break;\n        }\n        const { selection } = data;\n        const id = this.block && this.block.id;\n        if (id && Array.isArray(selection) && selection.indexOf(id) > -1) {\n          setTimeout(() => {\n            (window as any).$block = this;\n            if (!(window as any).$blocks) {\n              (window as any).$blocks = [];\n            }\n            (window as any).$blocks.push(this);\n          });\n        }\n        break;\n      }\n\n      case 'builder.patchUpdates': {\n        const { data } = message;\n        if (!(data && data.data)) {\n          break;\n        }\n        const patches = data.data[this.block.id!];\n        if (!patches) {\n          return;\n        }\n\n        if (location.href.includes('builder.debug=true')) {\n          this.eval('debugger');\n        }\n        let newBlock = { ...this.block };\n        for (const patch of patches) {\n          // TODO: soehow mark this.block as a new object,\n          // e.g. access it's parent hm. maybe do the listning mutations\n          // on hte parent element not the child (or rather\n          // send the message to the parent)\n          applyPatchWithMinimalMutationChain(newBlock, patch);\n        }\n        blocksMap[this.props.block.id!] = newBlock;\n        this.setState({ updates: this.state.updates + 1 });\n\n        break;\n      }\n    }\n  };\n\n  componentDidMount() {\n    const block = this.block;\n    const animations = block && block.animations;\n\n    if (Builder.isEditing) {\n      addEventListener('message', this.onWindowMessage);\n    }\n\n    // tslint:disable-next-line:comment-format\n    ///REACT15ONLY if (this.ref) { this.ref.setAttribute('builder-id', block.id); }\n\n    if (animations) {\n      const options = {\n        animations: fastClone(animations),\n      };\n\n      // TODO: listen to Builder.editingMode and bind animations when editing\n      // and unbind when not\n      // TODO: apply bindings first\n      if (block.bindings) {\n        for (const key in block.bindings) {\n          if (!key.trim?.()) {\n            continue;\n          }\n\n          if (key.startsWith('animations.')) {\n            // TODO: this needs to run in getElement bc of local state per element for repeats\n            const value = this.stringToFunction(block.bindings[key]);\n            if (value !== undefined) {\n              set(\n                options,\n                key,\n                value(\n                  this.privateState.state,\n                  null,\n                  block,\n                  builder,\n                  null,\n                  null,\n                  Builder,\n                  this.privateState.context\n                )\n              );\n            }\n          }\n        }\n      }\n      Builder.animator.bindAnimations(\n        options.animations\n          .filter((item: any) => item.trigger !== 'hover')\n          .map((animation: any) => ({\n            ...animation,\n            elementId: this.block.id,\n          }))\n      );\n    }\n  }\n\n  // <!-- Builder Blocks --> in comments hmm\n  getElement(index = 0, state = this.privateState.state): React.ReactNode {\n    const { child, fieldName } = this.props;\n    const block = this.block;\n    let TagName: string | typeof Link = (block.tagName || 'div').toLowerCase();\n\n    if (TagName === 'template') {\n      const html = block.children\n        ? block.children.map(item => blockToHtmlString(item)).join(' ')\n        : '';\n      console.debug('template html', html);\n      return (\n        // React has an undesired behavior (for us) for template tags, so we must\n        // turn the contents into a string\n        <template\n          {...block.properties}\n          dangerouslySetInnerHTML={{\n            __html: html,\n          }}\n        />\n      );\n    }\n\n    let InnerComponent: any;\n    const componentName =\n      block.component && (block.component.name || (block.component as any).component);\n    let componentInfo: Component | null = null;\n    if (block.component && !(block.component as any).class) {\n      if (block.component && block.component.tag) {\n        InnerComponent = block.component.tag;\n      } else {\n        componentInfo = Builder.components.find(item => item.name === componentName) || null;\n        if (componentInfo && componentInfo.class) {\n          InnerComponent = componentInfo.class;\n        } else if (componentInfo && componentInfo.tag) {\n          InnerComponent = componentInfo.tag;\n        } else {\n          if (componentName?.startsWith('Builder:')) {\n            console.warn(\n              `Missing @builder.io/widgets installation, please install and import @builder.io/widgets to use ${\n                componentName.split(':')[1]\n              } in your content, more info here: https://github.com/BuilderIO/builder/tree/main/packages/widgets`\n            );\n          } else if (componentName) {\n            console.warn(\n              `Missing registration for ${componentName}, have you included the registration in your bundle?`\n            );\n          }\n        }\n      }\n    }\n\n    const TextTag: any = 'span';\n\n    let options: any = {\n      // Attributes?\n      ...block.properties,\n      style: {}, // this.styles\n    };\n\n    options = {\n      ...options.properties,\n      ...options,\n    };\n\n    if (block.component) {\n      options.component = fastClone(block.component);\n    }\n\n    // Binding should be properties to href or href?\n    // Manual style editor show bindings\n    // Show if things bound in overlays hmm\n    if (block.bindings) {\n      for (const key in block.bindings) {\n        if (!key.trim?.()) {\n          continue;\n        }\n\n        const value = this.stringToFunction(block.bindings[key]);\n        // TODO: pass block, etc\n        set(\n          options,\n          key,\n          value(state, null, block, api(state), Device, null, Builder, this.privateState.context)\n        );\n      }\n    }\n\n    if (options.hide) {\n      return null;\n    } else {\n      delete options.hide;\n    }\n    // TODO: UI for this\n    if (('show' in options || (block.bindings && block.bindings.show)) && !options.show) {\n      return null;\n    } else {\n      delete options.show;\n    }\n\n    if (block.actions) {\n      for (const key in block.actions) {\n        if (!key.trim?.()) {\n          continue;\n        }\n\n        const value = block.actions[key];\n        options['on' + capitalize(key)] = (event: any) => {\n          let useState = state;\n          if (typeof Proxy !== 'undefined') {\n            useState = new Proxy(state, {\n              set: (obj, prop, value) => {\n                obj[prop] = value;\n                this.privateState.rootState[prop] = value;\n                return true;\n              },\n            });\n          }\n          const fn = this.stringToFunction(value, false);\n          // TODO: only one root instance of this, don't rewrap every time...\n          return fn(\n            useState,\n            event,\n            this.block,\n            builder,\n            Device,\n            this.privateState.update,\n            Builder,\n            this.privateState.context\n          );\n        };\n      }\n    }\n\n    const innerComponentProperties = (options.component || options.options) && {\n      ...options.options,\n      ...(options.component.options || options.component.data),\n    };\n\n    const isVoid = voidElements.has(TagName);\n\n    const noWrap = componentInfo && (componentInfo.fragment || componentInfo.noWrap);\n\n    const styleStr =\n      options.attr?.style || (typeof options.style === 'string' ? options.style : '') || '';\n\n    if (typeof styleStr === 'string') {\n      if (typeof options.style !== 'object') {\n        options.style = {};\n      }\n\n      const styleSplit = styleStr.split(';');\n      for (const pair of styleSplit) {\n        const stylePieces = pair.split(':');\n        if (!stylePieces.length) {\n          return;\n        }\n\n        let [key, value] = stylePieces;\n\n        if (stylePieces.length > 2) {\n          value = stylePieces.slice(1).join(':');\n        }\n\n        options.style[kebabCaseToCamelCase(key)] = value;\n      }\n    }\n\n    const finalOptions: { [key: string]: string } = {\n      ...omit(options, ['class', 'component', 'attr']),\n      [typeof TagName === 'string' && !TagName.includes('-') ? 'className' : 'class']:\n        `builder-block ${this.id}${block.class ? ` ${block.class}` : ''}${\n          block.component && !(['Image', 'Video', 'Banner'].indexOf(componentName) > -1)\n            ? ` builder-has-component`\n            : ''\n        }` +\n        (options.class ? ' ' + options.class : '') +\n        (Builder.isEditing && this.privateState.state._spacer?.parent === block.id\n          ? ' builder-spacer-parent'\n          : ''),\n      key: this.id + index,\n      'builder-id': this.id,\n      // ...(state && state.$index && typeof state.$index === 'number'\n      //   ? {\n      // TODO: ONLY include on repeat!\n      // TODO: what if dymically repeated by another component like tabs... may not work.\n      // need function to provide that right\n      ...(index !== 0 && {\n        'builder-index': index, // String(state.$index)\n      }),\n      //   }\n      // : null)\n    };\n\n    // tslint:disable-next-line:comment-format\n    ///REACT15ONLY finalOptions.className = finalOptions.class\n\n    if (Builder.isEditing) {\n      // TODO: removed bc JS can add styles inline too?\n      (finalOptions as any)['builder-inline-styles'] = !(options.attr && options.attr.style)\n        ? ''\n        : Object.keys(options.style).reduce(\n            (memo, key) => (memo ? `${memo};` : '') + `${cssCase(key)}:${options.style[key]};`,\n            ''\n          );\n    }\n\n    if (\n      (((finalOptions as any).properties && (finalOptions as any).properties.href) ||\n        (finalOptions as any).href) &&\n      TagName === 'div'\n    ) {\n      TagName = 'a';\n    }\n\n    if (TagName === 'a') {\n      TagName = Link;\n    }\n    // const css = this.css\n\n    // const styleTag = css.trim() && (\n    //   <style className=\"builder-style\">\n    //     {(InnerComponent && !isBlock ? `.${this.id} > * { height: 100%; width: 100%; }` : '') +\n    //       this.css}\n    //   </style>\n    // )\n\n    const children = block.children || finalOptions.children || [];\n\n    // TODO: test it out\n    return (\n      <React.Fragment>\n        {/* <InsertSpacer id={block.id!} position=\"before\" /> */}\n        <ClassNames>\n          {({ css, cx }) => {\n            if (!this.props.emailMode) {\n              const addClass = ' ' + css(this.emotionCss);\n              if (finalOptions.class) {\n                finalOptions.class += addClass;\n              }\n              if (finalOptions.className) {\n                finalOptions.className += addClass;\n              }\n            }\n\n            return (\n              <BuilderAsyncRequestsContext.Consumer>\n                {value => {\n                  this._asyncRequests = value && value.requests;\n                  this._errors = value && value.errors;\n                  this._logs = value && value.logs;\n                  return isVoid ? (\n                    <TagName {...finalOptions} />\n                  ) : InnerComponent && (noWrap || this.props.emailMode) ? (\n                    // TODO: pass the class to be easier\n                    // TODO: acceptsChildren option?\n                    <InnerComponent\n                      // Final options maaay be wrong here hm\n                      {...innerComponentProperties}\n                      // should really call this builderAttributes bc people can name a\n                      // componet input \"attributes\"\n                      attributes={finalOptions}\n                      builderBlock={block}\n                      builderState={this.privateState}\n                    />\n                  ) : (\n                    <TagName {...(finalOptions as any)}>\n                      {InnerComponent && (\n                        <InnerComponent\n                          builderState={this.privateState}\n                          builderBlock={block}\n                          {...innerComponentProperties}\n                        />\n                      )}\n                      {(block as any).text || options.text\n                        ? options.text\n                        : !InnerComponent && children && Array.isArray(children) && children.length\n                        ? children.map((block: ElementType, index: number) => (\n                            <BuilderBlock\n                              key={((this.id as string) || '') + index}\n                              block={block}\n                              index={index}\n                              size={this.props.size}\n                              fieldName={this.props.fieldName}\n                              child={this.props.child}\n                              emailMode={this.props.emailMode}\n                            />\n                          ))\n                        : null}\n                    </TagName>\n                  );\n                }}\n              </BuilderAsyncRequestsContext.Consumer>\n            );\n          }}\n        </ClassNames>\n        {/* <InsertSpacer id={block.id!} position=\"after\" /> */}\n      </React.Fragment>\n    );\n  }\n\n  get id() {\n    const { block } = this;\n    if (!block.id!.startsWith('builder')) {\n      return 'builder-' + block.id;\n    }\n    return block.id!;\n  }\n\n  contents(state: BuilderBlockState) {\n    const block = this.block;\n\n    // this.setState(state);\n    this.privateState = state;\n\n    if (block.repeat && block.repeat.collection) {\n      const collectionPath = block.repeat.collection;\n      const collectionName = last((collectionPath || '').trim().split('(')[0].trim().split('.'));\n      const itemName = block.repeat.itemName || (collectionName ? collectionName + 'Item' : 'item');\n      const array = this.stringToFunction(collectionPath)(\n        state.state,\n        null,\n        block,\n        api(state),\n        Device,\n        null,\n        Builder,\n        this.privateState.context\n      );\n      if (Array.isArray(array)) {\n        return array.map((data, index) => {\n          // TODO: Builder state produce the data\n          const childState = {\n            ...state.state,\n            $index: index,\n            $item: data,\n            [itemName]: data,\n            [`$${itemName}Index`]: index,\n          };\n\n          return (\n            <BuilderStoreContext.Provider\n              key={index}\n              value={{ ...state, state: childState } as any}\n            >\n              {this.getElement(index, childState)}\n            </BuilderStoreContext.Provider>\n          );\n        });\n      }\n      return null;\n    }\n\n    return this.getElement();\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <span\n          css={{\n            display: 'inline-block',\n            padding: 5,\n            color: '#999',\n            fontSize: 11,\n            fontStyle: 'italic',\n          }}\n        >\n          Builder block error :( Check console for details\n        </span>\n      );\n    }\n    return (\n      <BuilderStoreContext.Consumer>{value => this.contents(value)}</BuilderStoreContext.Consumer>\n    );\n  }\n}\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport React from 'react';\nimport { Builder } from '@builder.io/sdk';\nimport { BuilderBlock } from './builder-block.component';\n// TODO: fetch these for user and send them with same response like graphql\nimport { Size } from '../constants/device-sizes.constant';\nimport ReactDOM from 'react-dom';\nimport { BuilderStoreContext } from '../store/builder-store';\n\nexport interface BuilderBlocksProps {\n  fieldName?: string;\n  // TODO: block type (ElementType[])\n  blocks?: any[] | React.ReactNode;\n  child?: boolean;\n  // TODO: use new react context for this to pass window size all the way down\n  size?: Size;\n  style?: React.CSSProperties;\n  parentElementId?: string;\n  parent?: any;\n  dataPath?: string;\n  className?: string;\n  emailMode?: boolean;\n}\n\ninterface BuilderBlocksState {\n  // width: number\n}\n\n// TODO: options to set direciotn\nexport class BuilderBlocks extends React.Component<BuilderBlocksProps, BuilderBlocksState> {\n  get isRoot() {\n    return !this.props.child;\n  }\n\n  get noBlocks() {\n    const { blocks } = this.props;\n    return !(blocks && (blocks as any).length); // TODO: allow react nodes\n  }\n  get path() {\n    const pathPrefix = 'component.options.';\n    let path = this.props.dataPath || '';\n    const thisPrefix = 'this.';\n    if (path.trim()) {\n      if (path.startsWith(thisPrefix)) {\n        path = path.replace(thisPrefix, '');\n      } else if (!path.startsWith(pathPrefix)) {\n        path = pathPrefix + path;\n      }\n    }\n    return path;\n  }\n\n  get parentId() {\n    if (this.props.parentElementId) {\n      return this.props.parentElementId;\n    }\n    return this.props.parent && this.props.parent.id;\n  }\n\n  onClickEmptyBlocks = () => {\n    if (Builder.isIframe && this.noBlocks) {\n      window.parent?.postMessage(\n        {\n          type: 'builder.clickEmptyBlocks',\n          data: {\n            parentElementId: this.parentId,\n            dataPath: this.path,\n          },\n        },\n        '*'\n      );\n    }\n  };\n  onHoverEmptyBlocks = () => {\n    if (Builder.isEditing && this.noBlocks) {\n      window.parent?.postMessage(\n        {\n          type: 'builder.hoverEmptyBlocks',\n          data: {\n            parentElementId: this.parentId,\n            dataPath: this.path,\n          },\n        },\n        '*'\n      );\n    }\n  };\n\n  // <!-- Builder Blocks --> in comments hmm\n  render() {\n    const { blocks } = this.props;\n\n    const TagName = this.props.emailMode ? 'span' : 'div';\n\n    // TODO: how deep check this automatically for mobx... hmmm optional / peer dependency?\n    return (\n      // TODO: component <Stack direction=\"vertical\">\n      // TODO: react.fragment instead?\n      <TagName\n        className={\n          'builder-blocks' +\n          (this.noBlocks ? ' no-blocks' : '') +\n          (this.props.child ? ' builder-blocks-child' : '') +\n          (this.props.className ? ' ' + this.props.className : '')\n        }\n        builder-type=\"blocks\"\n        // TODO: only fi in iframe?\n        builder-path={Builder.isIframe ? this.path : undefined}\n        builder-parent-id={this.parentId}\n        css={{\n          ...(!this.props.emailMode && {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'stretch',\n          }),\n          ...this.props.style,\n        }}\n        onClick={() => {\n          if (this.noBlocks) {\n            this.onClickEmptyBlocks();\n          }\n        }}\n        {...(Builder.isEditing && {\n          onMouseEnter: () => this.onHoverEmptyBlocks(),\n        })}\n      >\n        {/* TODO: if is react node (for react compatibility) render it */}\n        {/* TODO: maybe don't do this to preserve blocks always editable */}\n        {(blocks &&\n          Array.isArray(blocks) &&\n          (blocks as any[]).map((block, index) =>\n            block && block['@type'] === '@builder.io/sdk:Element' ? (\n              <BuilderBlock\n                key={block.id}\n                block={block}\n                index={index}\n                fieldName={this.props.fieldName}\n                child={this.props.child}\n                emailMode={this.props.emailMode}\n              />\n            ) : (\n              block\n            )\n          )) ||\n          blocks}\n      </TagName>\n    );\n  }\n\n  static renderInto(\n    elementOrSelector: string | HTMLElement,\n    props: BuilderBlocksProps = {},\n    builderState: any\n  ) {\n    if (!elementOrSelector) {\n      return;\n    }\n\n    let element: Element | null = null;\n\n    if (typeof elementOrSelector === 'string') {\n      element = document.querySelector(elementOrSelector);\n    } else {\n      if (elementOrSelector instanceof Element) {\n        element = elementOrSelector;\n      }\n    }\n    return ReactDOM.render(\n      <BuilderStoreContext.Provider value={builderState}>\n        <BuilderBlocks {...props} />\n      </BuilderStoreContext.Provider>,\n      element\n    );\n  }\n}\n","import React from 'react';\n\nexport const NoWrap = (props: React.ComponentPropsWithoutRef<any>) => props.children;\n","import * as React from 'react';\nimport { builder, Builder, BuilderContent, BuilderContentVariation } from '@builder.io/sdk';\n\nfunction getData(content: BuilderContentVariation) {\n  if (typeof content?.data === 'undefined') {\n    return undefined;\n  }\n\n  const { blocks, blocksString } = content.data;\n  const hasBlocks = Array.isArray(blocks) || typeof blocksString === 'string';\n  const newData: any = {\n    ...content.data,\n    ...(hasBlocks && { blocks: blocks || JSON.parse(blocksString) }),\n  };\n\n  delete newData.blocksString;\n  return newData;\n}\n\nconst variantsScript = (variantsString: string, contentId: string) =>\n  `\n(function() {\n  if (window.builderNoTrack) {\n    return;\n  }\n\n  var variants = ${variantsString};\n  function removeVariants() {\n    variants.forEach(function (template) {\n      document.querySelector('template[data-template-variant-id=\"' + template.id + '\"]').remove();\n    });\n  }\n\n  if (typeof document.createElement(\"template\").content === 'undefined') {\n    removeVariants();\n    return ;\n  }\n\n  function setCookie(name,value,days) {\n    var expires = \"\";\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + (days*24*60*60*1000));\n        expires = \"; expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/\" + \"; Secure; SameSite=None\";\n  }\n\n  function getCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i=0;i < ca.length;i++) {\n        var c = ca[i];\n        while (c.charAt(0)==' ') c = c.substring(1,c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n    }\n    return null;\n  }\n  var cookieName = 'builder.tests.${contentId}';\n  var variantInCookie = getCookie(cookieName);\n  var availableIDs = variants.map(function(vr) { return vr.id }).concat('${contentId}');\n  var variantId;\n  if (availableIDs.indexOf(variantInCookie) > -1) {\n    variantId = variantInCookie;\n  }\n  if (!variantId) {\n    var n = 0;\n    var random = Math.random();\n    for (var i = 0; i < variants.length; i++) {\n      var variant = variants[i];\n      var testRatio = variant.testRatio;\n      n += testRatio;\n      if (random < n) {\n        setCookie(cookieName, variant.id);\n        variantId = variant.id;\n        break;\n      }\n    }\n    if (!variantId) {\n      variantId = \"${contentId}\";\n      setCookie(cookieName, \"${contentId}\");\n    }\n  }\n  if (variantId && variantId !== \"${contentId}\") {\n    var winningTemplate = document.querySelector('template[data-template-variant-id=\"' + variantId + '\"]');\n    if (winningTemplate) {\n      var parentNode = winningTemplate.parentNode;\n      var newParent = parentNode.cloneNode(false);\n      newParent.appendChild(winningTemplate.content.firstChild);\n      parentNode.parentNode.replaceChild(newParent, parentNode);\n    }\n  } else if (variants.length > 0) {\n    removeVariants();\n  }\n})()`.replace(/\\s+/g, ' ');\n\ninterface VariantsProviderProps {\n  initialContent: BuilderContent;\n  children: (variants: BuilderContent[], renderScript?: () => JSX.Element) => JSX.Element;\n}\n\nexport const VariantsProvider: React.SFC<VariantsProviderProps> = ({\n  initialContent,\n  children,\n}) => {\n  if (Builder.isBrowser && !builder.canTrack) {\n    return children([initialContent]);\n  }\n\n  const hasTests = Boolean(Object.keys(initialContent?.variations || {}).length);\n\n  if (!hasTests) return children([initialContent]);\n\n  const variants: BuilderContent[] = Object.keys(initialContent.variations!).map(id => ({\n    id,\n    ...initialContent.variations![id],\n    data: getData(initialContent.variations![id]!),\n  }));\n\n  const allVariants = [...variants, initialContent];\n  if (Builder.isServer) {\n    const variantsJson = JSON.stringify(\n      Object.keys(initialContent.variations || {}).map(item => ({\n        id: item,\n        testRatio: initialContent.variations![item]!.testRatio,\n      }))\n    );\n    const renderScript = () => (\n      <script\n        dangerouslySetInnerHTML={{\n          __html: variantsScript(variantsJson, initialContent.id!),\n        }}\n      ></script>\n    );\n\n    // render all variants on the server side\n    return <React.Fragment>{children(allVariants, renderScript)}</React.Fragment>;\n  }\n\n  const cookieName = `builder.tests.${initialContent.id}`;\n\n  let variantId = builder.getCookie(cookieName);\n\n  if (!variantId && Builder.isBrowser) {\n    let n = 0;\n    const random = Math.random();\n    for (let i = 0; i < variants.length; i++) {\n      const variant = variants[i];\n      const testRatio = variant.testRatio;\n      n += testRatio!;\n      if (random < n) {\n        builder.setCookie(cookieName, variant.id);\n        variantId = variant.id;\n        break;\n      }\n    }\n  }\n\n  if (!variantId) {\n    // render initial content when no winning variation or on the server\n    variantId = initialContent.id;\n    builder.setCookie(cookieName, variantId);\n  }\n\n  return children([allVariants.find(item => item.id === variantId)!]);\n};\n","import React from 'react';\nimport {\n  builder,\n  Subscription,\n  GetContentOptions,\n  Builder,\n  BuilderContent as Content,\n} from '@builder.io/sdk';\nimport { NoWrap } from './no-wrap';\nimport { applyPatchWithMinimalMutationChain } from '../functions/apply-patch-with-mutation';\nimport { VariantsProvider } from './variants-provider.component';\n\nexport type BuilderContentProps<ContentType> = {\n  /**\n   * Callback to run when content is fetched and loaded.\n   */\n  contentLoaded?: (data: any, content: any) => void;\n  /**\n   * Callback to run if an error occurred while fetching content.\n   */\n  contentError?: (error: any) => void;\n  options?: GetContentOptions;\n  children: (content: ContentType, loading?: boolean, fullData?: any) => React.ReactNode;\n  /**\n   * Only render what was explicitly passed in via `content` - don't fetch from\n   * the Builder API.\n   *\n   * @see content\n   */\n  inline?: boolean;\n  /**\n   * @package\n   * @deprecated\n   */\n  dataOnly?: boolean;\n  /**\n   * @package\n   * Pass in a specific builder instance to use instead of the default\n   * singleton.\n   */\n  builder?: Builder;\n  /**\n   * @deprecated and unnecessary\n   */\n  isStatic?: boolean;\n  /**\n   * Builder content object to use instead of fetching from the API.\n   *\n   * Required if `inline` is set to `true`.\n   */\n  content?: Content;\n} & ({ model: string } | { modelName: string }); // model and modelName are aliases of the same thing\n\n/**\n * When passed content json explicitly it'll calculate a/b tests on the content\n * and pass the winning variation down to the children function. If then content\n * prop was omitted it'll try to fetch matching content from your Builder\n * account based on the default user attributes and model.\n */\nexport class BuilderContent<ContentType extends object = any> extends React.Component<\n  BuilderContentProps<ContentType>\n> {\n  ref: HTMLDivElement | null = null;\n\n  get builder() {\n    return this.props.builder || builder;\n  }\n  get name() {\n    const props = this.props;\n\n    if ('model' in props) {\n      return props.model;\n    } else {\n      return props.modelName;\n    }\n  }\n\n  get renderedVariantId() {\n    const id = this.props.isStatic\n      ? this.builder.getCookie(`builder.tests.${this.data?.id}`)\n      : this.data?.variationId;\n    if (id !== null) {\n      return id;\n    }\n  }\n\n  get options() {\n    let options = {\n      ...(this.props.options || ({} as GetContentOptions)),\n    };\n    if (!options.key && this.props.content?.id) {\n      options.key = this.props.content.id;\n    }\n    if (this.props.content && !options.initialContent?.length) {\n      options.initialContent = [this.props.content];\n    }\n\n    return options;\n  }\n\n  get data() {\n    const content: Content =\n      ((this.props.inline || !Builder.isBrowser || this.firstLoad) &&\n        this.options.initialContent &&\n        this.options.initialContent[0]) ||\n      this.state.data;\n\n    return getContentWithInfo(content);\n  }\n\n  state = {\n    loading: !this.props.content,\n    data: getContentWithInfo(this.props.content),\n    updates: 1,\n  };\n\n  onWindowMessage = (event: MessageEvent) => {\n    const message = event.data;\n    if (!message) {\n      return;\n    }\n    switch (message.type) {\n      case 'builder.patchUpdates': {\n        if (this.props.options?.noEditorUpdates) {\n          return;\n        }\n        const { data } = message;\n        if (!(data && data.data)) {\n          break;\n        }\n        const patches = data.data[this.state.data?.id!];\n        if (!(patches && patches.length)) {\n          return;\n        }\n\n        if (location.href.includes('builder.debug=true')) {\n          eval('debugger');\n        }\n        for (const patch of patches) {\n          applyPatchWithMinimalMutationChain(this.state.data, patch);\n        }\n        this.setState({\n          updates: this.state.updates + 1,\n          data: this.state.data ? { ...this.state.data } : this.state.data,\n        });\n        if (this.props.contentLoaded) {\n          this.props.contentLoaded(this.state.data?.data, this.state.data);\n        }\n\n        break;\n      }\n    }\n  };\n\n  subscriptions = new Subscription();\n\n  firstLoad = true;\n  clicked = false;\n  trackedImpression = false;\n\n  intersectionObserver: IntersectionObserver | null = null;\n\n  // TODO: observe model name for changes\n  componentDidMount() {\n    // Temporary to test metrics diving in with bigquery and heatmaps\n    // this.builder.autoTrack = true;\n    // this.builder.env = 'development';\n    if (!this.props.inline || Builder.isEditing) {\n      this.subscribeToContent();\n    } else if (this.props.inline && this.options?.initialContent?.length) {\n      const contentData = this.options.initialContent[0];\n      // TODO: intersectionobserver like in subscribetocontent - reuse the logic\n      if (contentData?.id) {\n        this.builder.trackImpression(contentData.id, this.renderedVariantId, undefined, {\n          content: contentData,\n        });\n      }\n    }\n\n    if (Builder.isEditing) {\n      addEventListener('message', this.onWindowMessage);\n    }\n\n    /// REACT15ONLY if (this.ref) { this.ref.setAttribute('builder-model', this.name); }\n  }\n\n  subscribeToContent() {\n    if (this.name !== '_inline') {\n      // TODO:... using targeting...? express.request hmmm\n      this.subscriptions.add(\n        builder.queueGetContent(this.name, this.options).subscribe(\n          matches => {\n            const match = matches && matches[0];\n            this.setState({\n              data: match,\n              loading: false,\n            });\n\n            if (match && this.firstLoad) {\n              this.firstLoad = false;\n              // TODO: autoTrack\n              if (builder.autoTrack && !Builder.isEditing) {\n                let addedObserver = false;\n                if (typeof IntersectionObserver === 'function' && this.ref) {\n                  try {\n                    const observer = (this.intersectionObserver = new IntersectionObserver(\n                      (entries, observer) => {\n                        entries.forEach(entry => {\n                          // In view\n                          if (entry.intersectionRatio > 0 && !this.trackedImpression) {\n                            this.builder.trackImpression(\n                              match.id!,\n                              this.renderedVariantId,\n                              undefined,\n                              {\n                                content: this.data,\n                              }\n                            ),\n                              { content: this.data };\n                            this.trackedImpression = true;\n                            if (this.ref) {\n                              observer.unobserve(this.ref);\n                            }\n                          }\n                        });\n                      }\n                    ));\n\n                    observer.observe(this.ref);\n                    addedObserver = true;\n                  } catch (err) {\n                    console.warn('Could not bind intersection observer');\n                  }\n                }\n                if (!addedObserver) {\n                  this.trackedImpression = true;\n                  this.builder.trackImpression(match.id!, this.renderedVariantId, undefined, {\n                    content: match,\n                  });\n                }\n              }\n            }\n            if (this.props.contentLoaded) {\n              this.props.contentLoaded(match && match.data, match);\n            }\n          },\n          error => {\n            if (this.props.contentError) {\n              this.props.contentError(error);\n              this.setState({\n                loading: false,\n              });\n            }\n          }\n        )\n      );\n    }\n  }\n\n  componentWillUnmount() {\n    if (Builder.isEditing) {\n      removeEventListener('message', this.onWindowMessage);\n    }\n\n    this.subscriptions.unsubscribe();\n    if (this.intersectionObserver && this.ref) {\n      this.intersectionObserver.unobserve(this.ref);\n    }\n  }\n\n  onClick = (reactEvent: React.MouseEvent<HTMLElement>) => {\n    // TODO: viewport scrolling tracking for impression events\n    const event = reactEvent.nativeEvent;\n\n    const content = this.data;\n    if (!content) {\n      return;\n    }\n    if (builder.autoTrack) {\n      this.builder.trackInteraction(content.id!, this.renderedVariantId, this.clicked, event, {\n        content,\n      });\n    }\n    if (!this.clicked) {\n      this.clicked = true;\n    }\n  };\n\n  render() {\n    if (this.props.dataOnly) {\n      return null;\n    }\n    const { loading } = this.state;\n\n    const useData: any = this.data;\n    const TagName = this.props.dataOnly ? NoWrap : 'div';\n    return (\n      <VariantsProvider initialContent={useData}>\n        {(variants, renderScript) => {\n          return (\n            <React.Fragment>\n              {variants.map((content, index) => {\n                // default Variation is at the end, wrap the rest with template\n                // TODO: IE11 don't support templates\n                const Tag = index === variants.length - 1 ? React.Fragment : 'template';\n                return (\n                  <React.Fragment key={String(content?.id! + index)}>\n                    {Tag !== 'template' && renderScript?.()}\n                    <Tag\n                      key={String(content?.id! + index)}\n                      {...(Tag === 'template' && {\n                        'data-template-variant-id': content?.id,\n                      })}\n                    >\n                      <TagName\n                        {...(index === 0 &&\n                          !this.props.dataOnly && {\n                            ref: (ref: any) => (this.ref = ref),\n                          })}\n                        className=\"builder-content\"\n                        onClick={this.onClick}\n                        builder-content-id={content?.id}\n                        builder-model={this.name}\n                      >\n                        {this.props.children(\n                          content?.data! as any,\n                          this.props.inline ? false : loading,\n                          useData\n                        )}\n                      </TagName>\n                    </Tag>\n                  </React.Fragment>\n                );\n              })}\n            </React.Fragment>\n          );\n        }}\n      </VariantsProvider>\n    );\n  }\n}\n\nexport const getContentWithInfo = (content?: Content) => {\n  if (content) {\n    const cookieValue = builder.getCookie(`builder.tests.${content.id}`);\n    const cookieVariation =\n      cookieValue === content.id ? content : content.variations?.[cookieValue];\n    const variationName =\n      cookieVariation?.name || (cookieVariation?.id === content.id ? 'Default variation' : '');\n\n    return {\n      ...content,\n      variationId: cookieValue,\n      testVariationId: cookieValue,\n      testVariationName: variationName,\n    };\n  }\n  return null;\n};\n","// Via https://github.com/sindresorhus/on-change but\n// compiled for ES5\n\n'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\n('use strict');\nvar PATH_SEPARATOR = '.';\nvar TARGET = Symbol('target');\nvar UNSUBSCRIBE = Symbol('unsubscribe');\nvar isPrimitive = function (value) {\n  return value === null || (typeof value !== 'object' && typeof value !== 'function');\n};\nvar isBuiltinWithoutMutableMethods = function (value) {\n  return value instanceof RegExp || value instanceof Number;\n};\nvar isBuiltinWithMutableMethods = function (value) {\n  return value instanceof Date;\n};\nvar concatPath = function (path, property) {\n  if (property && property.toString) {\n    if (path) {\n      path += PATH_SEPARATOR;\n    }\n    path += property.toString();\n  }\n  return path;\n};\nvar walkPath = function (path, callback) {\n  var index;\n  while (path) {\n    index = path.indexOf(PATH_SEPARATOR);\n    if (index === -1) {\n      index = path.length;\n    }\n    callback(path.slice(0, index));\n    path = path.slice(index + 1);\n  }\n};\nvar shallowClone = function (value) {\n  if (Array.isArray(value)) {\n    return value.slice();\n  }\n  return Object.assign({}, value);\n};\nvar onChange = function (object, onChange, options) {\n  if (typeof Proxy === 'undefined') {\n    // TODO: use immer? or a technique like immer to diff maybe\n    return object;\n  }\n  if (options === void 0) {\n    options = {};\n  }\n  var proxyTarget = Symbol('ProxyTarget');\n  var inApply = false;\n  var changed = false;\n  var applyPath;\n  var applyPrevious;\n  var isUnsubscribed = false;\n  var equals = options.equals || Object.is;\n  var propCache = new WeakMap();\n  var pathCache = new WeakMap();\n  var proxyCache = new WeakMap();\n  var handleChange = function (path, property, previous, value) {\n    if (isUnsubscribed) {\n      return;\n    }\n    if (!inApply) {\n      onChange(concatPath(path, property), value, previous);\n      return;\n    }\n    if (\n      inApply &&\n      applyPrevious &&\n      previous !== undefined &&\n      value !== undefined &&\n      property !== 'length'\n    ) {\n      var item_1 = applyPrevious;\n      if (path !== applyPath) {\n        path = path.replace(applyPath, '').slice(1);\n        walkPath(path, function (key) {\n          item_1[key] = shallowClone(item_1[key]);\n          item_1 = item_1[key];\n        });\n      }\n      item_1[property] = previous;\n    }\n    changed = true;\n  };\n  var getOwnPropertyDescriptor = function (target, property) {\n    var props = propCache ? propCache.get(target) : undefined;\n    if (props) {\n      return props;\n    }\n    props = new Map();\n    propCache.set(target, props);\n    var prop = props.get(property);\n    if (!prop) {\n      prop = Reflect.getOwnPropertyDescriptor(target, property);\n      props.set(property, prop);\n    }\n    return prop;\n  };\n  var invalidateCachedDescriptor = function (target, property) {\n    var props = propCache ? propCache.get(target) : undefined;\n    if (props) {\n      props.delete(property);\n    }\n  };\n  var buildProxy = function (value, path) {\n    if (isUnsubscribed) {\n      return value;\n    }\n    pathCache.set(value, path);\n    var proxy = proxyCache.get(value);\n    if (proxy === undefined) {\n      proxy = new Proxy(value, handler);\n      proxyCache.set(value, proxy);\n    }\n    return proxy;\n  };\n  var unsubscribe = function (target) {\n    isUnsubscribed = true;\n    propCache = null;\n    pathCache = null;\n    proxyCache = null;\n    return target;\n  };\n  var ignoreChange = function (property) {\n    return isUnsubscribed || (options.ignoreSymbols === true && typeof property === 'symbol');\n  };\n  var handler = {\n    get: function (target, property, receiver) {\n      if (property === proxyTarget || property === TARGET) {\n        return target;\n      }\n      if (property === UNSUBSCRIBE && pathCache.get(target) === '') {\n        return unsubscribe(target);\n      }\n      var value = Reflect.get(target, property, receiver);\n      if (\n        isPrimitive(value) ||\n        isBuiltinWithoutMutableMethods(value) ||\n        property === 'constructor' ||\n        options.isShallow === true\n      ) {\n        return value;\n      }\n      // Preserve invariants\n      var descriptor = getOwnPropertyDescriptor(target, property);\n      if (descriptor && !descriptor.configurable) {\n        if (descriptor.set && !descriptor.get) {\n          return undefined;\n        }\n        if (descriptor.writable === false) {\n          return value;\n        }\n      }\n      return buildProxy(value, concatPath(pathCache.get(target), property));\n    },\n    set: function (target, property, value, receiver) {\n      if (value && value[proxyTarget] !== undefined) {\n        value = value[proxyTarget];\n      }\n      var ignore = ignoreChange(property);\n      var previous = ignore ? null : Reflect.get(target, property, receiver);\n      var result = Reflect.set(target[proxyTarget] || target, property, value);\n      if (!ignore && !equals(previous, value)) {\n        handleChange(pathCache.get(target), property, previous, value);\n      }\n      return result;\n    },\n    defineProperty: function (target, property, descriptor) {\n      var result = Reflect.defineProperty(target, property, descriptor);\n      if (!ignoreChange(property)) {\n        invalidateCachedDescriptor(target, property);\n        handleChange(pathCache.get(target), property, undefined, descriptor.value);\n      }\n      return result;\n    },\n    deleteProperty: function (target, property) {\n      if (!Reflect.has(target, property)) {\n        return true;\n      }\n      var ignore = ignoreChange(property);\n      var previous = ignore ? null : Reflect.get(target, property);\n      var result = Reflect.deleteProperty(target, property);\n      if (!ignore) {\n        invalidateCachedDescriptor(target, property);\n        handleChange(pathCache.get(target), property, previous);\n      }\n      return result;\n    },\n    apply: function (target, thisArg, argumentsList) {\n      var compare = isBuiltinWithMutableMethods(thisArg);\n      if (compare) {\n        thisArg = thisArg[proxyTarget];\n      }\n      if (!inApply) {\n        inApply = true;\n        if (compare) {\n          applyPrevious = thisArg.valueOf();\n        }\n        if (Array.isArray(thisArg) || toString.call(thisArg) === '[object Object]') {\n          applyPrevious = shallowClone(thisArg[proxyTarget]);\n        }\n        applyPath = pathCache.get(target);\n        applyPath = applyPath.slice(0, Math.max(applyPath.lastIndexOf(PATH_SEPARATOR), 0));\n        var result = Reflect.apply(target, thisArg, argumentsList);\n        inApply = false;\n        if (changed || (compare && !equals(applyPrevious, thisArg.valueOf()))) {\n          handleChange(applyPath, '', applyPrevious, thisArg[proxyTarget] || thisArg);\n          applyPrevious = null;\n          changed = false;\n        }\n        return result;\n      }\n      return Reflect.apply(target, thisArg, argumentsList);\n    },\n  };\n  var proxy = buildProxy(object, '');\n  onChange = onChange.bind(proxy);\n  return proxy;\n};\nonChange.target = function (proxy) {\n  return proxy[TARGET] || proxy;\n};\nonChange.unsubscribe = function (proxy) {\n  return proxy[UNSUBSCRIBE] || proxy;\n};\nmodule.exports = onChange;\nexports.default = onChange;\n","import { Builder } from '@builder.io/sdk';\n\nconst nextTick = Builder.nextTick;\n\n// Plain function - e.g. const debounced = debounceNextTick(fn);\nexport function debounceNextTick(fn: (...args: any[]) => void): () => void;\n// Decorator - e.g. class Foo { @debounceNextTick myMethod() { ... } }\nexport function debounceNextTick(\n  target: any,\n  key: PropertyKey,\n  descriptor: PropertyDescriptor\n): PropertyDescriptor;\nexport function debounceNextTick(\n  target: object | ((...args: any[]) => void),\n  key?: PropertyKey,\n  descriptor?: PropertyDescriptor\n) {\n  if (typeof key === 'undefined' && typeof target === 'function') {\n    return debounceNextTickImpl(target as any);\n  }\n  return {\n    configurable: true,\n    enumerable: descriptor!.enumerable,\n    get: function getter(): any {\n      // Attach this function to the instance (not the class)\n      Object.defineProperty(this, key!, {\n        configurable: true,\n        enumerable: descriptor!.enumerable,\n        value: debounceNextTickImpl(descriptor!.value),\n      });\n\n      return (this as any)[key!];\n    },\n  } as PropertyDescriptor;\n}\n\nfunction debounceNextTickImpl(fn: (...args: any[]) => void) {\n  let args: any[] | null = null;\n  let context: any = null;\n\n  return debounced;\n\n  function debounced(this: any) {\n    const previous = args;\n    args = [].slice.call(arguments);\n    context = this;\n    if (previous !== null) return;\n    nextTick(next);\n  }\n\n  function next() {\n    fn.apply(context, args as any);\n    args = null;\n    context = null;\n  }\n}\n","export function throttle(func: Function, wait: number, options: any = {}) {\n  let context: any;\n  let args: any;\n  let result: any;\n  let timeout = null as any;\n  let previous = 0;\n  const later = function () {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n  return function (this: any) {\n    const now = Date.now();\n    if (!previous && options.leading === false) previous = now;\n    const remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n","import React from 'react';\n\nexport const BuilderMetaContext = React.createContext({\n  emailMode: false,\n  ampMode: false,\n  isServer: false,\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { jsx, css } from '@emotion/core';\nimport { BuilderContent, getContentWithInfo } from './builder-content.component';\nimport { BuilderBlocks } from './builder-blocks.component';\nimport {\n  Builder,\n  GetContentOptions,\n  builder,\n  Subscription,\n  BehaviorSubject,\n  BuilderElement,\n  BuilderContent as Content,\n} from '@builder.io/sdk';\nimport { BuilderStoreContext } from '../store/builder-store';\nimport hash from 'hash-sum';\nimport onChange from '../../lib/on-change';\n\nexport { onChange };\n\nimport { sizes } from '../constants/device-sizes.constant';\nimport {\n  BuilderAsyncRequestsContext,\n  RequestOrPromise,\n  RequestInfo,\n  isRequestInfo,\n} from '../store/builder-async-requests';\nimport { Url } from 'url';\nimport { debounceNextTick } from '../functions/debonce-next-tick';\nimport { throttle } from '../functions/throttle';\nimport { safeDynamicRequire } from '../functions/safe-dynamic-require';\nimport { BuilderMetaContext } from '../store/builder-meta';\n\nfunction pick<T, K extends keyof T>(obj: T, ...keys: K[]): Pick<T, K> {\n  const ret: any = {};\n  keys.forEach(key => {\n    ret[key] = obj[key];\n  });\n  return ret;\n}\nfunction omit<T, K extends keyof T>(obj: T, ...keys: K[]): Omit<T, K> {\n  const ret: any = { ...obj };\n  keys.forEach(key => {\n    delete ret[key];\n  });\n  return ret;\n}\n\nconst wrapComponent = (info: any) => {\n  return (props: any) => {\n    // TODO: convention for all of this, like builderTagProps={{ style: {} foo: 'bar' }}\n    const Tag = props.builderTag || 'div';\n    const inputNames = ['children'].concat(\n      info.inputs?.map((item: any) => item.name as string) || []\n    );\n\n    const baseProps = omit(props, ...inputNames, 'attributes');\n    const inputProps = props; // pick(props, ...inputNames);\n\n    if (info.noWrap) {\n      return <info.class attributes={baseProps} {...inputProps} />;\n    }\n\n    return (\n      <Tag {...baseProps}>\n        <info.class {...inputProps} />\n      </Tag>\n    );\n  };\n};\n\nconst size = (thing: object) => Object.keys(thing).length;\n\nfunction debounce(func: Function, wait: number, immediate = false) {\n  let timeout: any;\n  return function (this: any) {\n    const context = this;\n    const args = arguments;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    }, wait);\n    if (immediate && !timeout) func.apply(context, args);\n  };\n}\n\nconst fontsLoaded = new Set();\n\n// TODO: get fetch from core JS....\nconst fetch = Builder.isBrowser ? window.fetch : require('node-fetch');\n\nconst sizeMap = {\n  desktop: 'large',\n  tablet: 'medium',\n  mobile: 'small',\n};\n\nfunction decorator(fn: Function) {\n  return function argReceiver(...fnArgs: any[]) {\n    // Check if the decorator is being called without arguments (ex `@foo methodName() {}`)\n    if (fnArgs.length === 3) {\n      const [target, key, descriptor] = fnArgs;\n      if (descriptor && (descriptor.value || descriptor.get)) {\n        fnArgs = [];\n        return descriptorChecker(target, key, descriptor);\n      }\n    }\n\n    return descriptorChecker;\n\n    // descriptorChecker determines whether a method or getter is being decorated\n    // and replaces the appropriate key with the decorated function.\n    function descriptorChecker(target: any, key: any, descriptor: any) {\n      const descriptorKey = descriptor.value ? 'value' : 'get';\n      return {\n        ...descriptor,\n        [descriptorKey]: fn(descriptor[descriptorKey], ...fnArgs),\n      };\n    }\n  };\n}\n\nconst fetchCache: { [key: string]: any } = {};\n\nexport interface BuilderComponentProps {\n  /**\n   * @package\n   * @deprecated use {@link model} instead.\n   * @hidden\n   */\n  modelName?: string;\n  /**\n   * Name of the model this is rendering content for. Default is \"page\".\n   */\n  model?: string;\n  /**\n   * @package\n   * @deprecated use {@link model} instead.\n   * @hidden\n   */\n  name?: string;\n  /**\n   * Data is passed along as `state.*` to the component.\n   * @see {@link https://github.com/BuilderIO/builder/tree/master/packages/react#passing-data-and-functions-down}\n   *\n   * @example\n   * ```\n   * <BuilderComponent\n   *  model=\"page\"\n   *  data={{\n   *    products: productsList,\n   *    myFunction: () => alert('Triggered!'),\n   *    foo: 'bar'\n   *  }} >\n   * ```\n   */\n  data?: any;\n  /**\n   * Specific instance of Builder that should be used. You might use this for\n   * server side rendering. It's generally not recommended except for very\n   * advanced multi-tenant use cases.\n   */\n  builder?: Builder;\n  /**\n   * Content entry ID for this component to fetch client side\n   */\n  entry?: string;\n  /**\n   * @package\n   *\n   * Builder public API key.\n   *\n   * @see {@link builder.init()} for the preferred way of supplying your API key.\n   */\n  apiKey?: string;\n  /**\n   * @private\n   * @hidden\n   */\n  codegen?: boolean;\n  options?: GetContentOptions;\n  /**\n   * Function callback invoked with `data` and your content when it becomes\n   * available.\n   *\n   * @see {@link https://github.com/BuilderIO/builder/tree/master/packages/react#passing-data-and-functions-down}\n   */\n  contentLoaded?: (data: any, content: Content) => void;\n  /**\n   * Instead of having Builder render a link for you with plain anchor\n   * elements, use your own function. Useful when using Next.js, Gatsby, or\n   * other client side routers' custom `<Link>` components.\n   *\n   * ## Notes\n   *\n   * This must be a function that returns JSX, not a component!\n   *\n   * ## Examples\n   *\n   * @see {@link https://github.com/BuilderIO/builder/blob/0f0bc1ca835335f99fc21efb20ff3c4836bc9f41/examples/next-js-builder-site/src/functions/render-link.tsx#L6}\n   */\n  renderLink?: (props: React.AnchorHTMLAttributes<any>) => React.ReactNode;\n  /**\n   * Callback to run if an error occurred while fetching content.\n   */\n  contentError?: (error: any) => void;\n  /**\n   * Manually specify what Builder content JSON object to render. @see {@link\n   * https://github.com/BuilderIO/builder/tree/master/packages/react#passing-content-manually}\n   */\n  content?: Content;\n  /**\n   * @package\n   * @hidden\n   *\n   * Location object that provides the current url, path, etc; for server side\n   * rendering.\n   */\n  location?: Location | Url;\n  /**\n   * Callback to run when Builder state changes (e.g. state.foo = 'bar' in an\n   * action)\n   */\n  onStateChange?: (newData: any) => void;\n  /**\n   * @package\n   * @deprecated\n   * @hidden\n   */\n  noAsync?: boolean;\n  /**\n   * @package\n   * @hidden\n   *\n   * Flag to render email content (small differences in our render logic for\n   * email support).\n   */\n  emailMode?: boolean;\n  /**\n   * @package\n   * @hidden\n   *\n   * Flag to render amp content (small differences in our render logic for amp\n   * support)\n   */\n  ampMode?: boolean;\n  /**\n   * @package\n   * @hidden\n   *\n   * Render content in-line only (can't passed from the content prop) don't\n   * fetch content from our API.\n   */\n  inlineContent?: boolean;\n  /**\n   * @package\n   * @deprecated\n   * @hidden\n   */\n  builderBlock?: BuilderElement;\n  /**\n   * @package\n   * @deprecated\n   * @hidden\n   */\n  dataOnly?: boolean;\n  /**\n   * @package\n   * @deprecated\n   * @hidden\n   */\n  hydrate?: boolean;\n  /**\n   * @package\n   * @deprecated use {@link Builder.isStatic} instead\n   * @hidden\n   */\n  isStatic?: boolean;\n  /**\n   * Object that will be available in actions and bindings.\n   *\n   * @see {@link https://github.com/BuilderIO/builder/tree/master/packages/react#passing-data-and-functions-down}\n   */\n  context?: any;\n  /**\n   * @deprecated\n   * @hidden\n   */\n  url?: string;\n  /**\n   * @hidden\n   * Set to true if this is not the root content component, for instance for symbols\n   */\n  isChild?: boolean;\n  /**\n   * Set to true to not call `event.stopPropagation()` in the editor to avoid\n   * issues with client site routing triggering when editing in Builder, causing\n   * navigation to other pages unintended\n   */\n  stopClickPropagationWhenEditing?: boolean;\n}\n\nexport interface BuilderComponentState {\n  state: any;\n  update: (state: any) => any;\n  updates: number;\n  context: any;\n  key: number;\n}\n\nconst tryEval = (str?: string, data: any = {}, errors?: Error[]): any => {\n  const value = str;\n  if (!(typeof value === 'string' && value.trim())) {\n    return;\n  }\n  const useReturn = !(value.includes(';') || value.includes(' return '));\n  let fn: Function = () => {\n    /* Intentionally empty */\n  };\n  try {\n    if (Builder.isBrowser) {\n      // tslint:disable-next-line:no-function-constructor-with-string-args\n      // TODO: VM in node......\n      fn = new Function(\n        'state',\n        // TODO: remove the with () {} - make a page v3 that doesn't use this\n        `var rootState = state;\n        if (typeof Proxy !== 'undefined') {\n          rootState = new Proxy(rootState, {\n            set: function () {\n              return false;\n            },\n            get: function (target, key) {\n              if (key === 'state') {\n                return state;\n              }\n              return target[key]\n            }\n          });\n        }\n        with (rootState) {\n          ${useReturn ? `return (${str});` : str};\n        }`\n      );\n    }\n  } catch (error) {\n    if (Builder.isBrowser) {\n      console.warn('Could not compile javascript', error);\n    } else {\n      // Add to req.options.errors to return to client\n    }\n  }\n  try {\n    if (Builder.isBrowser) {\n      return fn(data || {});\n    } else {\n      // Below is a hack to get certain code to *only* load in the server build, to not screw with\n      // browser bundler's like rollup and webpack. Our rollup plugin strips these comments only\n      // for the server build\n      // tslint:disable:comment-format\n      const { VM } = safeDynamicRequire('vm2');\n      return new VM({\n        sandbox: {\n          ...data,\n          ...{ state: data },\n        },\n        // TODO: convert reutrn to module.exports on server\n      }).run(value.replace(/(^|;)return /, '$1'));\n      // tslint:enable:comment-format\n    }\n  } catch (error: any) {\n    if (errors) {\n      errors.push(error);\n    }\n\n    if (Builder.isBrowser) {\n      console.warn('Builder custom code error:', error.message, 'in', str, error.stack);\n    } else {\n      if (process.env.DEBUG) {\n        console.debug('Builder custom code error:', error.message, 'in', str, error.stack);\n      }\n      // Add to req.options.errors to return to client\n    }\n  }\n\n  return;\n};\n\nfunction searchToObject(location: Location | Url) {\n  const pairs = (location.search || '').substring(1).split('&');\n  const obj: { [key: string]: string } = {};\n\n  for (const i in pairs) {\n    if (!(pairs[i] && typeof pairs[i] === 'string')) {\n      continue;\n    }\n    const pair = pairs[i].split('=');\n    obj[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n\n  return obj;\n}\n\n/**\n * Responsible for rendering Builder content of type: 'page' or 'section' to\n * react components. It will attempt to fetch content from the API based on\n * defined user attributes (URL path, device type, and any custom targeting you set using `builder.setUserAttributes`) unless a `BuilderContent`\n * object is provided to `props.content`\n *\n * Use it to mount content in desired location, enable editing in place when\n * previewed in the editor.\n *\n * Supports server-side-rendering when passed the content json as\n * `props.content`.\n */\nexport class BuilderComponent extends React.Component<\n  BuilderComponentProps,\n  BuilderComponentState\n> {\n  static defaults: Pick<BuilderComponentProps, 'codegen'> = {\n    codegen: Boolean(Builder.isBrowser && location.href.includes('builder.codegen=true')),\n  };\n\n  subscriptions: Subscription = new Subscription();\n  // TODO: don't trigger initial one?\n  onStateChange = new BehaviorSubject<any>(null);\n  asServer = Builder.isServer;\n\n  contentRef: BuilderContent | null = null;\n\n  styleRef: HTMLStyleElement | null = null;\n\n  rootState = Builder.isServer ? {} : onChange({}, () => this.updateState());\n\n  lastJsCode = '';\n  lastHttpRequests: { [key: string]: string | undefined } = {};\n  httpSubscriptionPerKey: { [key: string]: Subscription | undefined } = {};\n  firstLoad = true;\n  ref: HTMLElement | null = null;\n\n  Component: any;\n\n  get options() {\n    // TODO: for perf cache this\n    return {\n      ...BuilderComponent.defaults,\n      ...this.props,\n    };\n  }\n\n  get name(): string | undefined {\n    return this.props.model || this.props.modelName || this.props.name; // || this.props.model\n  }\n\n  private _asyncRequests?: RequestOrPromise[];\n  private _errors?: Error[];\n  private _logs?: string[];\n\n  get element() {\n    return this.ref;\n  }\n\n  get inlinedContent() {\n    if (this.isPreviewing && !this.props.inlineContent) {\n      return undefined;\n    }\n    return this.props.content;\n  }\n\n  constructor(props: BuilderComponentProps) {\n    super(props);\n\n    // TODO: pass this all the way down - symbols, etc\n    // this.asServer = Boolean(props.hydrate && Builder.isBrowser)\n\n    this.state = {\n      // TODO: should change if this prop changes\n      context: {\n        ...props.context,\n        apiKey: builder.apiKey || this.props.apiKey,\n      },\n      state: Object.assign(this.rootState, {\n        ...(this.inlinedContent && this.inlinedContent.data && this.inlinedContent.data.state),\n        isBrowser: Builder.isBrowser, // !this.asServer,\n        isServer: !Builder.isBrowser, // this.asServer,\n        _hydrate: props.hydrate,\n        location: this.locationState,\n        deviceSize: this.deviceSizeState,\n        // TODO: will user attributes be ready here?\n        device: this.device,\n        ...this.getHtmlData(),\n        ...props.data,\n      }),\n      updates: 0,\n      key: 0,\n      update: this.updateState,\n    };\n\n    if (Builder.isBrowser) {\n      const key = this.props.apiKey;\n      if (key && key !== this.builder.apiKey) {\n        this.builder.apiKey = key;\n      }\n\n      if (this.inlinedContent) {\n        // Sometimes with graphql we get the content as `content.content`\n        const content = (this.inlinedContent as any).content || this.inlinedContent;\n        this.onContentLoaded(content?.data, getContentWithInfo(content)!);\n      }\n    }\n  }\n\n  get builder() {\n    return this.props.builder || builder;\n  }\n\n  getHtmlData() {\n    const id = (this.inlinedContent && this.inlinedContent.id) || this.props.entry;\n    const script =\n      id &&\n      Builder.isBrowser &&\n      document.querySelector(\n        `script[data-builder-json=\"${id}\"],script[data-builder-state=\"${id}\"]`\n      );\n    if (script) {\n      try {\n        const json = JSON.parse((script as HTMLElement).innerText);\n        return json;\n      } catch (err) {\n        console.warn(\n          'Could not parse Builder.io HTML data transfer',\n          err,\n          (script as HTMLElement).innerText\n        );\n      }\n    }\n    return {};\n  }\n\n  // TODO: pass down with context\n  get device() {\n    return this.builder.getUserAttributes().device || 'desktop';\n  }\n\n  get locationState() {\n    return {\n      // TODO: handle this correctly on the server. Pass in with CONTEXT\n      ...pick(this.location, 'pathname', 'hostname', 'search', 'host'),\n      path: (this.location.pathname && this.location.pathname.split('/').slice(1)) || '',\n      query: searchToObject(this.location),\n    };\n  }\n\n  // TODO: trigger state change on screen size change\n  get deviceSizeState() {\n    // TODO: use context to pass this down on server\n    return Builder.isBrowser\n      ? sizes.getSizeForWidth(window.innerWidth)\n      : sizeMap[this.device] || 'large';\n  }\n\n  messageListener = (event: MessageEvent) => {\n    const info = event.data;\n    switch (info.type) {\n      case 'builder.updateSpacer': {\n        const data = info.data;\n        const currentSpacer = this.rootState._spacer;\n        this.updateState(state => {\n          state._spacer = data;\n        });\n        break;\n      }\n      case 'builder.resetState': {\n        const { state, model } = info.data;\n        if (model === this.name) {\n          for (const key in this.rootState) {\n            // TODO: support nested functions (somehow)\n            if (typeof this.rootState[key] !== 'function') {\n              delete this.rootState[key];\n            }\n          }\n          Object.assign(this.rootState, state);\n          this.setState({\n            ...this.state,\n            state: this.rootState,\n            updates: ((this.state && this.state.updates) || 0) + 1,\n          });\n        }\n        break;\n      }\n      case 'builder.resetSymbolState': {\n        const { state, model, id } = info.data.state;\n        if (this.props.builderBlock && this.props.builderBlock === id) {\n          for (const key in this.rootState) {\n            delete this.rootState[key];\n          }\n          Object.assign(this.rootState, state);\n          this.setState({\n            ...this.state,\n            state: this.rootState,\n            updates: ((this.state && this.state.updates) || 0) + 1,\n          });\n        }\n        break;\n      }\n    }\n  };\n\n  resizeFn = () => {\n    const deviceSize = this.deviceSizeState;\n    if (deviceSize !== this.state.state.deviceSize) {\n      this.setState({\n        ...this.state,\n        updates: ((this.state && this.state.updates) || 0) + 1,\n        state: Object.assign(this.rootState, {\n          ...this.state.state,\n          deviceSize,\n        }),\n      });\n    }\n  };\n\n  resizeListener = Builder.isEditing ? throttle(this.resizeFn, 200) : debounce(this.resizeFn, 400);\n\n  static renderInto(\n    elementOrSelector: string | HTMLElement,\n    props: BuilderComponentProps = {},\n    hydrate = true,\n    fresh = false\n  ) {\n    console.debug('BuilderPage.renderInto', elementOrSelector, props, hydrate, this);\n\n    if (!elementOrSelector) {\n      return;\n    }\n\n    let element: Element | null = null;\n\n    if (typeof elementOrSelector === 'string') {\n      element = document.querySelector(elementOrSelector);\n    } else {\n      if (elementOrSelector instanceof Element) {\n        element = elementOrSelector;\n      }\n    }\n\n    if (!element) {\n      return;\n    }\n\n    const exists = element.classList.contains('builder-hydrated');\n    if (exists && !fresh) {\n      console.debug('Tried to hydrate multiple times');\n      return;\n    }\n    element.classList.add('builder-hydrated');\n\n    let shouldHydrate = hydrate && element.innerHTML.includes('builder-block');\n\n    if (!element.classList.contains('builder-component')) {\n      // TODO: maybe remove any builder-api-styles...\n      const apiStyles =\n        element.querySelector('.builder-api-styles') ||\n        (element.previousElementSibling &&\n        element.previousElementSibling.matches('.builder-api-styles')\n          ? element.previousElementSibling\n          : null);\n      let keepStyles = '';\n      if (apiStyles) {\n        const html = apiStyles.innerHTML;\n        html.replace(\n          /\\/\\*start:([^\\*]+?)\\*\\/([\\s\\S]*?)\\/\\*end:([^\\*]+?)\\*\\//g,\n          (match, id, content) => {\n            let el: HTMLElement | null = null;\n            try {\n              el = document.querySelector(`[data-emotion-css=\"${id}\"]`);\n            } catch (err) {\n              console.warn(err);\n            }\n            if (el) {\n              el.innerHTML = content;\n            } else if (!Builder.isEditing) {\n              keepStyles += match;\n            }\n\n            return match;\n          }\n        );\n        // NextTick? or longer timeout?\n        Builder.nextTick(() => {\n          apiStyles.innerHTML = keepStyles;\n        });\n      }\n      const useElement = element.querySelector('.builder-component');\n      if (useElement) {\n        element = useElement;\n      } else {\n        shouldHydrate = false;\n      }\n    }\n\n    if (location.search.includes('builder.debug=true')) {\n      console.debug('hydrate', shouldHydrate, element);\n    }\n\n    let useEl = element;\n    if (!exists) {\n      const div = document.createElement('div');\n      element.insertAdjacentElement('beforebegin', div);\n      div.appendChild(element);\n      useEl = div;\n    }\n\n    if (Builder.isEditing || (Builder.isBrowser && location.search.includes('builder.preview='))) {\n      shouldHydrate = false;\n    }\n    if (shouldHydrate && element) {\n      // TODO: maybe hydrate again. Maybe...\n      const val = ReactDOM.render(\n        <BuilderComponent {...props} />,\n        useEl,\n        (useEl as any).builderRootRef\n      );\n      (useEl as any).builderRootRef = val;\n      return val;\n    }\n    const val = ReactDOM.render(\n      <BuilderComponent {...props} />,\n      useEl,\n      (useEl as any).builderRootRef\n    );\n    (useEl as any).builderRootRef = val;\n    return val;\n  }\n\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.asServer) {\n      this.asServer = false;\n      this.updateState(state => {\n        state.isBrowser = true;\n        state.isServer = false;\n      });\n    }\n\n    if (Builder.isIframe) {\n      window.parent?.postMessage(\n        { type: 'builder.sdkInjected', data: { modelName: this.name } },\n        '*'\n      );\n    }\n\n    if (Builder.isBrowser) {\n      // TODO: remove event on unload\n      window.addEventListener('resize', this.resizeListener);\n      if (Builder.isEditing) {\n        window.addEventListener('message', this.messageListener);\n      }\n\n      if (Builder.isEditing || Builder.isPreviewing) {\n        Builder.nextTick(() => {\n          this.firstLoad = false;\n          this.reload();\n        });\n      }\n\n      setTimeout(() => {\n        window.dispatchEvent(\n          new CustomEvent('builder:component:load', {\n            detail: {\n              ref: this,\n            },\n          })\n        );\n      });\n    }\n  }\n\n  updateState = (fn?: (state: any) => void) => {\n    const state = this.rootState;\n    if (fn) {\n      fn(state);\n    }\n    if (this.mounted) {\n      this.setState({\n        update: this.updateState,\n        state,\n        updates: ((this.state && this.state.updates) || 0) + 1,\n      });\n    } else {\n      this.state = {\n        ...this.state,\n        update: this.updateState,\n        state,\n        updates: ((this.state && this.state.updates) || 0) + 1,\n      };\n    }\n\n    this.notifyStateChange();\n  };\n\n  get isPreviewing() {\n    return (\n      (Builder.isServer || (Builder.isBrowser && Builder.isPreviewing && !this.firstLoad)) &&\n      builder.previewingModel === this.name\n    );\n  }\n\n  @debounceNextTick\n  notifyStateChange() {\n    if (Builder.isServer) {\n      return;\n    }\n    if (!(this && this.state)) {\n      return;\n    }\n    const nextState = this.state.state;\n    // TODO: only run the below once per tick...\n    if (this.props.onStateChange) {\n      this.props.onStateChange(nextState);\n    }\n\n    if (Builder.isBrowser) {\n      window.dispatchEvent(\n        new CustomEvent('builder:component:stateChange', {\n          detail: {\n            state: nextState,\n            ref: this,\n          },\n        })\n      );\n    }\n    this.onStateChange.next(nextState);\n  }\n\n  processStateFromApi(state: { [key: string]: any }) {\n    return state; //  mapValues(state, value => tryEval(value, this.data, this._errors))\n  }\n\n  get location() {\n    return this.props.location || (Builder.isBrowser ? location : ({} as any));\n  }\n\n  getCssFromFont(font: any, data?: any) {\n    // TODO: compute what font sizes are used and only load those.......\n    const family = font.family + (font.kind && !font.kind.includes('#') ? ', ' + font.kind : '');\n    const name = family.split(',')[0];\n    const url = font.fileUrl ? font.fileUrl : font.files && font.files.regular;\n    let str = '';\n    if (url && family && name) {\n      str += `\n@font-face {\n  font-family: \"${family}\";\n  src: local(\"${name}\"), url('${url}') format('woff2');\n  font-display: fallback;\n  font-weight: 400;\n}\n        `.trim();\n    }\n\n    if (font.files) {\n      for (const weight in font.files) {\n        const isNumber = String(Number(weight)) === weight;\n        if (!isNumber) {\n          continue;\n        }\n        // TODO: maybe limit number loaded\n        const weightUrl = font.files[weight];\n        if (weightUrl && weightUrl !== url) {\n          str += `\n@font-face {\n  font-family: \"${family}\";\n  src: url('${weightUrl}') format('woff2');\n  font-display: fallback;\n  font-weight: ${weight};\n}\n          `.trim();\n        }\n      }\n    }\n    return str;\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n    if (Builder.isBrowser) {\n      window.removeEventListener('resize', this.resizeListener);\n      window.removeEventListener('message', this.messageListener);\n    }\n  }\n\n  getFontCss(data?: any) {\n    if (!this.builder.allowCustomFonts) {\n      return '';\n    }\n    // TODO: separate internal data from external\n    return (\n      (data?.customFonts &&\n        data.customFonts.length &&\n        data.customFonts.map((font: any) => this.getCssFromFont(font, data)).join(' ')) ||\n      ''\n    );\n  }\n\n  ensureFontsLoaded(data?: any) {\n    if (this.builder.allowCustomFonts && data?.customFonts && Array.isArray(data.customFonts)) {\n      for (const font of data.customFonts) {\n        const url = font.fileUrl ? font.fileUrl : font.files && font.files.regular;\n        if (!fontsLoaded.has(url)) {\n          const html = this.getCssFromFont(font, data);\n          fontsLoaded.add(url);\n          if (!html) {\n            continue;\n          }\n          const style = document.createElement('style');\n          style.className = 'builder-custom-font';\n          style.setAttribute('data-builder-custom-font', url);\n          style.innerHTML = html;\n          document.head.appendChild(style);\n        }\n      }\n    }\n  }\n\n  getCss(data?: any) {\n    const contentId = this.useContent?.id;\n    let cssCode = data?.cssCode || '';\n    if (contentId) {\n      // Allow using `&` in custom CSS code like @emotion\n      // E.g. `& .foobar { ... }` to scope CSS\n      // TODO: handle if '&' is within a string like `content: \"&\"`\n      cssCode = cssCode.replace(/&/g, `.builder-component-${contentId}`);\n    }\n\n    return cssCode + this.getFontCss(data);\n  }\n\n  get data() {\n    const data = {\n      ...(this.inlinedContent && this.inlinedContent.data?.state),\n      ...this.props.data,\n      ...this.state.state,\n    };\n    Object.assign(this.rootState, data);\n    return data;\n  }\n\n  componentDidUpdate(prevProps: BuilderComponentProps) {\n    // TODO: shallow diff\n    if (this.props.data && prevProps.data !== this.props.data) {\n      this.state.update((state: any) => {\n        Object.assign(state, this.props.data);\n      });\n    }\n\n    if (Builder.isEditing) {\n      if (this.inlinedContent && prevProps.content !== this.inlinedContent) {\n        this.onContentLoaded(this.inlinedContent.data, this.inlinedContent);\n      }\n    }\n  }\n\n  // FIXME: workaround to issue with CSS extraction and then hydration\n  // (might be preact only)\n  checkStyles(data: any) {\n    if (this.styleRef) {\n      const css = this.getCss(data);\n      if (this.styleRef.innerHTML !== css) {\n        this.styleRef.innerHTML = css;\n      }\n    }\n  }\n\n  reload() {\n    this.setState({\n      key: this.state.key + 1,\n    });\n  }\n\n  get content() {\n    let content = this.inlinedContent;\n    if (content && (content as any).content) {\n      // GraphQL workaround\n      content = {\n        ...content,\n        data: (content as any).content,\n      };\n    }\n    return content;\n  }\n\n  get useContent() {\n    return this.content || this.state.context.builderContent;\n  }\n\n  render() {\n    const content = this.content;\n\n    const dataString =\n      Builder.isBrowser && this.props.data && size(this.props.data) && hash(this.props.data);\n    let key = Builder.isEditing ? this.name : this.props.entry;\n    if (key && !Builder.isEditing && dataString && dataString.length < 300) {\n      key += ':' + dataString;\n    }\n\n    const WrapComponent = this.props.dataOnly ? React.Fragment : 'div';\n\n    const contentId = this.useContent?.id;\n\n    return (\n      // TODO: data attributes for model, id, etc?\n      <WrapComponent\n        onClick={event => {\n          // Prevent propagation from the root content component when editing to prevent issues\n          // like client side routing triggering when links are clicked, unless this behavior is\n          // disabled with the stopClickPropagationWhenEditing prop\n          if (\n            Builder.isEditing &&\n            !this.props.isChild &&\n            !this.props.stopClickPropagationWhenEditing\n          ) {\n            event.stopPropagation();\n          }\n        }}\n        className={`builder-component ${contentId ? `builder-component-${contentId}` : ''}`}\n        data-name={this.name}\n        data-source=\"Rendered by Builder.io\"\n        key={this.state.key}\n        ref={ref => (this.ref = ref)}\n      >\n        <BuilderMetaContext.Consumer>\n          {value => (\n            <BuilderMetaContext.Provider\n              value={\n                typeof this.props.ampMode === 'boolean'\n                  ? {\n                      ...value,\n                      ampMode: this.props.ampMode,\n                    }\n                  : value\n              }\n            >\n              <BuilderAsyncRequestsContext.Consumer>\n                {value => {\n                  this._asyncRequests = value && value.requests;\n                  this._errors = value && value.errors;\n                  this._logs = value && value.logs;\n\n                  return (\n                    <BuilderContent\n                      isStatic={this.props.isStatic || Builder.isStatic}\n                      key={\n                        this.inlinedContent?.id ||\n                        ('content' in this.props && !this.isPreviewing\n                          ? 'null-content-prop'\n                          : 'no-content-prop')\n                      }\n                      builder={this.builder}\n                      ref={ref => (this.contentRef = ref)}\n                      // TODO: pass entry in\n                      contentLoaded={(data, content) => this.onContentLoaded(data, content)}\n                      options={{\n                        key,\n                        entry: this.props.entry,\n                        ...(content && { initialContent: [content] }),\n                        ...(!content &&\n                          'content' in this.props &&\n                          !this.isPreviewing && { initialContent: [] }),\n                        ...(this.props.url && { url: this.props.url }),\n                        ...this.props.options,\n                        ...(this.options.codegen && {\n                          format: 'react',\n                        }),\n                      }}\n                      inline={\n                        this.props.inlineContent || (!this.isPreviewing && 'content' in this.props)\n                      }\n                      contentError={this.props.contentError}\n                      modelName={this.name || 'page'}\n                    >\n                      {(data, loading, fullData) => {\n                        if (this.props.dataOnly) {\n                          return null;\n                        }\n\n                        if (fullData && fullData.id) {\n                          this.state.context.builderContent = fullData;\n                        }\n                        if (Builder.isBrowser) {\n                          Builder.nextTick(() => {\n                            this.checkStyles(data);\n                          });\n                        }\n\n                        const { codegen } = this.options;\n\n                        if (codegen && !this.Component && data?.blocksJs) {\n                          const builderComponentNames: string[] = Array.from(\n                            new Set(Builder.components.map((item: any) => item.name))\n                          );\n                          const reversedcomponents = Builder.components.slice().reverse();\n\n                          const builderComponents = builderComponentNames.map(name =>\n                            reversedcomponents.find((item: any) => item.class && item.name === name)\n                          );\n\n                          const useBuilderState = (initialState: any) => {\n                            const [, setTick] = React.useState(0);\n                            const [state] = React.useState(() =>\n                              onChange(initialState, function () {\n                                setTick(tick => tick + 1);\n                              })\n                            );\n\n                            return state;\n                          };\n\n                          const mappedComponentNames = builderComponentNames.map(name =>\n                            (name || '').replace(/[^\\w]+/gi, '')\n                          );\n\n                          const finalizedComponents = builderComponents.map(info =>\n                            wrapComponent(info)\n                          );\n\n                          this.Component = new Function(\n                            'jsx',\n                            '_css',\n                            'Builder',\n                            'builder',\n                            'React',\n                            'useBuilderState',\n                            ...mappedComponentNames,\n                            data.blocksJs\n                          )(\n                            jsx,\n                            css,\n                            Builder,\n                            builder,\n                            React,\n                            useBuilderState,\n                            ...finalizedComponents\n                          );\n                        }\n\n                        // TODO: loading option - maybe that is what the children is or component prop\n                        // TODO: get rid of all these wrapper divs\n                        return data ? (\n                          <div\n                            data-builder-component={this.name}\n                            data-builder-content-id={fullData.id}\n                            data-builder-variation-id={\n                              fullData.testVariationId || fullData.variationId || fullData.id\n                            }\n                          >\n                            {!codegen && this.getCss(data) && (\n                              <style\n                                ref={ref => (this.styleRef = ref)}\n                                className=\"builder-custom-styles\"\n                                dangerouslySetInnerHTML={{\n                                  __html: this.getCss(data),\n                                }}\n                              />\n                            )}\n                            <BuilderStoreContext.Provider\n                              value={{\n                                ...this.state,\n                                rootState: this.rootState,\n                                state: this.data,\n                                content: fullData,\n                                renderLink: this.props.renderLink,\n                              }}\n                            >\n                              {codegen && this.Component ? (\n                                <this.Component data={this.data} context={this.state.context} />\n                              ) : (\n                                <BuilderBlocks\n                                  key={String(!!data?.blocks?.length)}\n                                  emailMode={this.props.emailMode}\n                                  fieldName=\"blocks\"\n                                  blocks={data.blocks}\n                                />\n                              )}\n                            </BuilderStoreContext.Provider>\n                          </div>\n                        ) : loading ? (\n                          <div data-builder-component={this.name} className=\"builder-loading\">\n                            {this.props.children}\n                          </div>\n                        ) : (\n                          <div data-builder-component={this.name} className=\"builder-no-content\" />\n                        );\n                      }}\n                    </BuilderContent>\n                  );\n                }}\n              </BuilderAsyncRequestsContext.Consumer>\n            </BuilderMetaContext.Provider>\n          )}\n        </BuilderMetaContext.Consumer>\n      </WrapComponent>\n    );\n  }\n\n  evalExpression(expression: string) {\n    const { data } = this;\n    return expression.replace(/{{([^}]+)}}/g, (match, group) => tryEval(group, data, this._errors));\n  }\n\n  async handleRequest(propertyName: string, url: string) {\n    // TODO: Builder.isEditing = just checks if iframe and parent page is this.builder.io or localhost:1234\n    if (Builder.isIframe && fetchCache[url]) {\n      this.updateState(ctx => {\n        ctx[propertyName] = fetchCache[url];\n      });\n      return fetchCache[url];\n    }\n    const request = async () => {\n      const requestStart = Date.now();\n      if (!Builder.isBrowser) {\n        console.time('Fetch ' + url);\n      }\n      let json: any;\n      try {\n        const result = await fetch(url);\n        json = await result.json();\n      } catch (err: any) {\n        if (this._errors) {\n          this._errors.push(err);\n        }\n        if (this._logs) {\n          this._logs.push(`Fetch to ${url} errored in ${Date.now() - requestStart}ms`);\n        }\n        return;\n      } finally {\n        if (!Builder.isBrowser) {\n          console.timeEnd('Fetch ' + url);\n          if (this._logs) {\n            this._logs.push(`Fetched ${url} in ${Date.now() - requestStart}ms`);\n          }\n        }\n      }\n\n      if (json) {\n        if (Builder.isIframe) {\n          fetchCache[url] = json;\n        }\n        // TODO: debounce next tick all of these when there are a bunch\n        this.updateState(ctx => {\n          ctx[propertyName] = json;\n        });\n      }\n\n      return json;\n    };\n    const existing =\n      this._asyncRequests &&\n      (this._asyncRequests.find(\n        req => isRequestInfo(req) && req.url === url\n      ) as RequestInfo | null);\n    if (existing) {\n      const promise = existing.promise;\n      promise.then(json => {\n        if (json) {\n          this.updateState(ctx => {\n            ctx[propertyName] = json;\n          });\n        }\n      });\n      return promise;\n    }\n    const promise = request();\n    Builder.nextTick(() => {\n      if (this._asyncRequests) {\n        this._asyncRequests.push(promise);\n      }\n    });\n    return promise;\n  }\n\n  unsubscribe() {\n    if (this.subscriptions) {\n      this.subscriptions.unsubscribe();\n      this.subscriptions = new Subscription();\n    }\n  }\n\n  handleBuilderRequest(propertyName: string, optionsString: string) {\n    const options = tryEval(optionsString, this.data, this._errors);\n    // TODO: this will screw up for multiple bits of data\n    if (this.subscriptions) {\n      this.unsubscribe();\n    }\n    // TODO: don't unsubscribe and resubscribe every time data changes, will make a TON of requests if that's the case when editing...\n    // I guess will be cached then\n    if (options) {\n      // TODO: unsubscribe on destroy\n      this.subscriptions.add(\n        this.builder.queueGetContent(options.model, options).subscribe(matches => {\n          if (matches) {\n            this.updateState(ctx => {\n              ctx[propertyName] = matches;\n            });\n          }\n        })\n      );\n    }\n  }\n\n  onContentLoaded = (data: any, content: Content) => {\n    if (this.name === 'page' && Builder.isBrowser) {\n      if (data) {\n        const { title, pageTitle, description, pageDescription } = data;\n\n        if (title || pageTitle) {\n          document.title = title || pageTitle;\n        }\n\n        if (description || pageDescription) {\n          let descriptionTag = document.querySelector('meta[name=\"description\"]');\n\n          if (!descriptionTag) {\n            descriptionTag = document.createElement('meta');\n            descriptionTag.setAttribute('name', 'description');\n            document.head.appendChild(descriptionTag);\n          }\n\n          descriptionTag.setAttribute('content', description || pageDescription);\n        }\n      }\n    }\n\n    if (Builder.isEditing) {\n      this.notifyStateChange();\n    }\n\n    // Unsubscribe all? TODO: maybe don't continuous fire when editing.....\n    if (this.props.contentLoaded) {\n      this.props.contentLoaded(data, content);\n    }\n\n    if (data && data.inputs && Array.isArray(data.inputs) && data.inputs.length) {\n      if (!data.state) {\n        data.state = {};\n      }\n\n      // Maybe...\n      // if (data.context) {\n      //   Object.assign(this.state.context, data.context)\n      // }\n      // TODO: may not want this... or make sure anything overriden\n      // explitily sets to null\n      data.inputs.forEach((input: any) => {\n        if (input) {\n          if (\n            input.name &&\n            input.defaultValue !== undefined &&\n            data.state[input.name] === undefined\n          ) {\n            data.state[input.name] = input.defaultValue;\n          }\n        }\n      });\n    }\n\n    if (data && data.state) {\n      const newState = {\n        ...this.state,\n        updates: ((this.state && this.state.updates) || 0) + 1,\n        state: Object.assign(this.rootState, {\n          ...this.state.state,\n          location: this.locationState,\n          deviceSize: this.deviceSizeState,\n          device: this.device,\n          ...data.state,\n          ...this.props.data,\n        }),\n      };\n      if (this.mounted) {\n        this.setState(newState);\n      } else {\n        this.state = newState;\n      }\n    }\n\n    // TODO: also throttle on edits maybe\n    if (data && data.jsCode && Builder.isBrowser && !this.options.codegen) {\n      // Don't rerun js code when editing and not changed\n      let skip = false;\n      if (Builder.isEditing) {\n        if (this.lastJsCode === data.jsCode) {\n          skip = true;\n        } else {\n          this.lastJsCode = data.jsCode;\n        }\n      }\n\n      if (!skip) {\n        const state = this.state.state;\n\n        // TODO: real editing method\n        try {\n          const result = new Function(\n            'data',\n            'ref',\n            'state',\n            'update',\n            'element',\n            'Builder',\n            'builder',\n            'context',\n            data.jsCode\n          )(data, this, state, this.state.update, this.ref, Builder, builder, this.state.context);\n\n          // TODO: allow exports = { } syntax?\n          // TODO: do something with reuslt like view - methods, computed, actions, properties, template, etc etc\n        } catch (error: any) {\n          if (Builder.isBrowser) {\n            console.warn(\n              'Builder custom code error:',\n              error.message,\n              'in',\n              data.jsCode,\n              error.stack\n            );\n          } else {\n            if (process.env.DEBUG) {\n              console.debug(\n                'Builder custom code error:',\n                error.message,\n                'in',\n                data.jsCode,\n                error.stack\n              );\n            }\n            // Add to req.options.errors to return to client\n          }\n        }\n      }\n    }\n\n    if (data && data.httpRequests /* || data.builderData @DEPRECATED */ && !this.props.noAsync) {\n      // Don't rerun http requests when editing and not changed\n      // No longer needed?\n      let skip = false;\n\n      if (!skip) {\n        // TODO: another structure for this\n        for (const key in data.httpRequests) {\n          const url: string | undefined = data.httpRequests[key];\n          if (url && (!this.data[key] || Builder.isEditing)) {\n            // TODO: if Builder.isEditing and url patches https://builder.io/api/v2/content/{editingModel}\n            // Then use this.builder.get().subscribe(...)\n            if (Builder.isBrowser) {\n              const finalUrl = this.evalExpression(url);\n              if (Builder.isEditing && this.lastHttpRequests[key] === finalUrl) {\n                continue;\n              }\n              this.lastHttpRequests[key] = finalUrl;\n              const builderModelRe = /builder\\.io\\/api\\/v2\\/([^\\/\\?]+)/i;\n              const builderModelMatch = url.match(builderModelRe);\n              const model = builderModelMatch && builderModelMatch[1];\n              if (false && Builder.isEditing && model && this.builder.editingModel === model) {\n                this.handleRequest(key, finalUrl);\n                // TODO: fix this\n                // this.subscriptions.add(\n                //   this.builder.get(model).subscribe(data => {\n                //     this.state.update((state: any) => {\n                //       state[key] = data\n                //     })\n                //   })\n                // )\n              } else {\n                this.handleRequest(key, finalUrl);\n                const currentSubscription = this.httpSubscriptionPerKey[key];\n                if (currentSubscription) {\n                  currentSubscription.unsubscribe();\n                }\n\n                // TODO: fix this\n                const newSubscription = (this.httpSubscriptionPerKey[key] =\n                  this.onStateChange.subscribe(() => {\n                    const newUrl = this.evalExpression(url);\n                    if (newUrl !== finalUrl) {\n                      this.handleRequest(key, newUrl);\n                      this.lastHttpRequests[key] = newUrl;\n                    }\n                  }));\n                this.subscriptions.add(newSubscription);\n              }\n            } else {\n              this.handleRequest(key, this.evalExpression(url));\n            }\n          }\n        }\n\n        // @DEPRECATED\n        // for (const key in data.builderData) {\n        //   const url = data.builderData[key]\n        //   if (url && !this.data[key]) {\n        //     this.handleBuilderRequest(key, this.evalExpression(url))\n        //   }\n        // }\n      }\n    }\n  };\n}\n","import { Builder, Component } from '@builder.io/sdk';\n\ninterface ReactComponent extends Component {}\n\nexport function BuilderBlock(options: ReactComponent) {\n  options.type = 'react';\n\n  return Builder.Component(options);\n}\n","import { Component, Builder } from '@builder.io/sdk';\n\n/**\n * Update metadata for a Builder component\n *\n * @param component Builder react component\n * @param fn Updater\n *\n * @example\n *    updatMetadata(TextBlock, current => ({\n *       ...current,\n *       fields: [\n *        ...curent.fields,\n *        { name: 'myNewField', type: 'string' }\n *       ]\n *    }))\n */\nexport function updateMetadata(\n  component: Function | string,\n  fn: (currentMetadata: Component | null) => Component | void\n) {\n  const match =\n    Builder.components.find(item => {\n      if (typeof component === 'string') {\n        return item.name === component;\n      } else {\n        return item.class === item;\n      }\n    }) || null;\n\n  const updated = fn(match);\n  if (match && updated) {\n    // re-registering the same component will replace it\n    Builder.registerComponent(updated.class || match.class, updated);\n  } else if (match && !updated) {\n    // TODO: have a way to message to remove component\n  } else if (!match && updated) {\n    Builder.registerComponent(updated.class, updated);\n  }\n}\n","import { Component } from '@builder.io/sdk';\nimport { BuilderBlock } from '../decorators/builder-block.decorator';\n\nexport function withBuilder(component: Function, options: Component) {\n  BuilderBlock(options)(component as any);\n  return component;\n}\n","import React from 'react';\nimport { BuilderElement } from '@builder.io/sdk';\nimport { BuilderBlock } from '../components/builder-block.component';\n\n/**\n * Higher order component for passing Builder.io children as React children\n *\n * @example\n * ```tsx\n *\n *    const MyButton = props => <Button>\n *      {children}\n *    </Button>\n *\n *    const ButtonWithBuilderChildren = withChildren(MyButton)\n *\n *    Builder.registerComponent(ButtonWithBuilderChildren, {\n *      name: 'MyButton',\n *      defaultChildren: [\n *        {\n *          '@type': '@builder.io/sdk:Element'\n *        }\n *      ]\n *    })\n * ```\n */\nexport const withChildren = <P extends object>(Component: React.ComponentType<P>) => {\n  const HOC = React.forwardRef<any, React.PropsWithChildren<P> & { builderBlock?: BuilderElement }>(\n    (props, ref) => {\n      const children =\n        props.children ||\n        (props.builderBlock &&\n          props.builderBlock.children &&\n          props.builderBlock.children.map(child => <BuilderBlock key={child.id} block={child} />));\n\n      return (\n        <Component {...props} ref={ref}>\n          {children}\n        </Component>\n      );\n    }\n  );\n\n  (HOC as any).builderOptions = {\n    canHaveChildren: true,\n  };\n\n  return HOC;\n};\n","import React from 'react';\nimport { BuilderElement } from '@builder.io/sdk';\nimport { BuilderBlock } from '../components/builder-block.component';\n\n/**\n * Higher order component for passing Builder.io styles and attributes directly\n * to the component child without wrapping\n *\n * Useful when you need styles etc applied directly to the component without a\n * wrapping element (e.g. div), and you are already forwarding all props and attributes\n * (e.g. <YourComponent {...props} />)\n *\n *  Important: make sure you always add props.className,\n * even if you supply a className too\n *\n * @example\n * ```tsx\n *\n *    const MyButton = props => <Button\n *      {...props}\n *      className={'my-button ' + (props.className || '')}>\n *      Hello there!\n *    </Button>\n *\n *    const ButtonWithBuilderChildren = noWrap(MyButton)\n *\n *    Builder.registerComponent(ButtonWithBuilderChildren, {\n *      name: 'MyButton',\n *    })\n * ```\n */\nexport const noWrap = <P extends object>(Component: React.ComponentType<P>) => {\n  const HOC = React.forwardRef((props: React.PropsWithChildren<P> & { attributes?: any }, ref) => {\n    const finalProps = {\n      ...props,\n      ...props.attributes,\n    };\n    return <Component {...finalProps} ref={ref} />;\n  });\n  (HOC as any).builderOptions = {\n    noWrap: true,\n  };\n\n  return HOC;\n};\n","/** @jsx jsx */\nimport { jsx, InterpolationWithTheme } from '@emotion/core';\nimport React from 'react';\nimport { Builder, BuilderElement } from '@builder.io/sdk';\nimport { withBuilder } from '../functions/with-builder';\nimport { BuilderStoreContext } from '../store/builder-store';\nconst iconUrl =\n  'https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-text_fields-24px%20(1).svg?alt=media&token=12177b73-0ee3-42ca-98c6-0dd003de1929';\n\nexport interface TextProps {\n  text: string;\n  builderBlock?: BuilderElement;\n}\n\nclass TextComponent extends React.Component<TextProps> {\n  textRef: HTMLSpanElement | null = null;\n\n  componentDidUpdate(prevProps: TextProps) {\n    if (!this.allowTextEdit) {\n      return;\n    }\n    if (\n      this.textRef &&\n      !(this.textRef.contentEditable === 'true' && this.textRef === document.activeElement)\n    ) {\n      if (this.props.text !== prevProps.text) {\n        this.textRef.innerHTML = this.props.text;\n      }\n    }\n  }\n\n  componentDidMount() {\n    if (this.textRef) {\n      this.textRef.innerHTML = this.props.text;\n    }\n  }\n\n  get allowTextEdit() {\n    return (\n      Builder.isBrowser &&\n      Builder.isEditing &&\n      location.search.includes('builder.allowTextEdit=true') &&\n      !(\n        this.props.builderBlock &&\n        this.props.builderBlock.bindings &&\n        (this.props.builderBlock.bindings['component.options.text'] ||\n          this.props.builderBlock.bindings['options.text'] ||\n          this.props.builderBlock.bindings['text'])\n      )\n    );\n  }\n\n  render() {\n    const allowEditingText = this.allowTextEdit;\n\n    const textCSS: InterpolationWithTheme<any> = {\n      outline: 'none',\n      '& p:first-of-type, & .builder-paragraph:first-of-type': {\n        margin: 0,\n      },\n      '& > p, & .builder-paragraph': {\n        color: 'inherit',\n        lineHeight: 'inherit',\n        letterSpacing: 'inherit',\n        fontWeight: 'inherit',\n        fontSize: 'inherit',\n        textAlign: 'inherit',\n        fontFamily: 'inherit',\n      },\n    };\n\n    return (\n      <BuilderStoreContext.Consumer>\n        {state => {\n          if (state.content.meta?.rtlMode) {\n            textCSS.direction = 'rtl';\n          }\n\n          return (\n            <React.Fragment>\n              {/* TODO: <BuilderEditableText component that wraps this for other components with text */}\n              <span\n                ref={ref => {\n                  this.textRef = ref;\n                }}\n                contentEditable={allowEditingText || undefined}\n                onInput={e => {\n                  if (allowEditingText) {\n                    window.parent?.postMessage(\n                      {\n                        type: 'builder.textEdited',\n                        data: {\n                          id: this.props.builderBlock && this.props.builderBlock.id,\n                          value: e.currentTarget.innerHTML,\n                        },\n                      },\n                      '*'\n                    );\n                  }\n                }}\n                onKeyDown={e => {\n                  if (\n                    allowEditingText &&\n                    this.textRef &&\n                    e.which === 27 &&\n                    document.activeElement === this.textRef\n                  ) {\n                    this.textRef.blur();\n                  }\n                }}\n                onFocus={e => {\n                  if (allowEditingText) {\n                    window.parent?.postMessage(\n                      {\n                        type: 'builder.textFocused',\n                        data: {\n                          id: this.props.builderBlock && this.props.builderBlock.id,\n                        },\n                      },\n                      '*'\n                    );\n                  }\n                }}\n                onBlur={e => {\n                  if (allowEditingText) {\n                    window.parent?.postMessage(\n                      {\n                        type: 'builder.textBlurred',\n                        data: {\n                          id: this.props.builderBlock && this.props.builderBlock.id,\n                        },\n                      },\n                      '*'\n                    );\n                  }\n                }}\n                css={textCSS}\n                className=\"builder-text\"\n                {...(!allowEditingText && {\n                  dangerouslySetInnerHTML: {\n                    __html: this.props.text || (this.props as any).content || '',\n                  },\n                })}\n              />\n            </React.Fragment>\n          );\n        }}\n      </BuilderStoreContext.Consumer>\n    );\n  }\n}\n\nexport const Text = withBuilder(TextComponent, {\n  name: 'Text',\n  static: true,\n  image: iconUrl,\n  inputs: [\n    {\n      name: 'text',\n      type: 'html',\n      required: true,\n      autoFocus: true,\n      bubble: true,\n      defaultValue: 'Enter some text...',\n    },\n  ],\n  // Maybe optionally a function that takes in some params like block vs absolute, etc\n  defaultStyles: {\n    lineHeight: 'normal',\n    height: 'auto',\n    textAlign: 'center',\n  },\n});\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport React, { useContext } from 'react';\nimport { Builder } from '@builder.io/sdk';\nimport { BuilderBlocks } from '../components/builder-blocks.component';\nimport { BuilderStoreContext } from '../store/builder-store';\n\nBuilder.registerComponent(Slot, {\n  name: 'Slot',\n  description: 'Allow child blocks to be inserted into this content when used as a Symbol',\n  docsLink: 'https://www.builder.io/c/docs/symbols-with-blocks',\n  image:\n    'https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F3aad6de36eae43b59b52c85190fdef56',\n\n  // Maybe wrap this for canHaveChildren so bind children to this hm\n  inputs: [{ name: 'name', type: 'string', required: true, defaultValue: 'children' }],\n});\n\ntype DropzoneProps = {\n  name: string;\n};\n\nexport function Slot(props: DropzoneProps) {\n  const { name } = props;\n  const context = useContext(BuilderStoreContext);\n\n  const isEditingThisSlot = !context.context.symbolId;\n\n  return (\n    <div\n      css={{\n        pointerEvents: 'auto',\n      }}\n      {...(isEditingThisSlot && {\n        'builder-slot': name,\n      })}\n    >\n      <BuilderBlocks\n        child\n        parentElementId={context.context.symbolId}\n        dataPath={`symbol.data.${name}`}\n        blocks={context.state[name] || []}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport { BuilderElement } from '@builder.io/sdk';\nimport { withBuilder } from '../functions/with-builder';\nimport { BuilderBlock as BuilderBlockComponent } from '../components/builder-block.component';\n\nexport interface FragmentProps {\n  builderBlock?: BuilderElement;\n}\n\nclass FragmentComponent extends React.Component<FragmentProps> {\n  render() {\n    return (\n      this.props.builderBlock &&\n      this.props.builderBlock.children &&\n      this.props.builderBlock.children.map((block, index) => (\n        <BuilderBlockComponent block={block} key={block.id} index={index} />\n      ))\n    );\n  }\n}\n\nexport const Fragment = withBuilder(FragmentComponent, {\n  name: 'Core:Fragment',\n  canHaveChildren: true,\n  noWrap: true,\n  static: true,\n  hideFromInsertMenu: true,\n});\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport React from 'react';\n\nimport { BuilderElement } from '@builder.io/sdk';\nimport { BuilderBlocks } from '../components/builder-blocks.component';\nimport { withBuilder } from '../functions/with-builder';\nimport { Link } from '../components/Link';\n\nconst DEFAULT_ASPECT_RATIO = 0.7004048582995948;\n\nconst defaultBlocks: BuilderElement[] = [\n  {\n    '@type': '@builder.io/sdk:Element',\n    responsiveStyles: {\n      large: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        flexShrink: '0',\n        position: 'relative',\n        marginTop: '30px',\n        textAlign: 'center',\n        lineHeight: 'normal',\n        height: 'auto',\n        minHeight: '20px',\n        minWidth: '20px',\n        overflow: 'hidden',\n      },\n    },\n    component: {\n      name: 'Image',\n      options: {\n        image:\n          'https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d',\n        backgroundPosition: 'center',\n        backgroundSize: 'cover',\n        aspectRatio: DEFAULT_ASPECT_RATIO,\n      },\n    },\n  },\n  {\n    '@type': '@builder.io/sdk:Element',\n    responsiveStyles: {\n      large: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        flexShrink: '0',\n        position: 'relative',\n        marginTop: '30px',\n        textAlign: 'center',\n        lineHeight: 'normal',\n        height: 'auto',\n      },\n    },\n    component: {\n      name: 'Text',\n      options: {\n        text: '<p>Enter some text...</p>',\n      },\n    },\n  },\n];\n\nclass ColumnsComponent extends React.Component<any> {\n  // TODO: Column interface\n  get columns(): any[] {\n    return this.props.columns || [];\n  }\n\n  get gutterSize(): number {\n    return typeof this.props.space === 'number' ? this.props.space || 0 : 20;\n  }\n\n  getWidth(index: number) {\n    return (this.columns[index] && this.columns[index].width) || 100 / this.columns.length;\n  }\n\n  getColumnWidth(index: number) {\n    const { columns, gutterSize } = this;\n    const subtractWidth = (gutterSize * (columns.length - 1)) / columns.length;\n    return `calc(${this.getWidth(index)}% - ${subtractWidth}px)`;\n  }\n\n  render() {\n    const { columns, gutterSize } = this;\n\n    return (\n      // FIXME: make more elegant\n      <React.Fragment>\n        <div\n          className=\"builder-columns\"\n          css={{\n            display: 'flex',\n            ...(this.props.stackColumnsAt !== 'never' && {\n              [`@media (max-width: ${this.props.stackColumnsAt !== 'tablet' ? 639 : 999}px)`]: {\n                flexDirection: this.props.reverseColumnsWhenStacked ? 'column-reverse' : 'column',\n                alignItems: 'stretch',\n              },\n            }),\n          }}\n        >\n          {columns.map((col, index) => {\n            const TagName = col.link ? Link : 'div';\n\n            // TODO: pass size down in context\n\n            return (\n              <React.Fragment key={index}>\n                <TagName\n                  className=\"builder-column\"\n                  {...(col.link ? { href: col.link } : null)}\n                  // TODO: generate width and margin-left as CSS instead so can override with pure CSS for best responsieness\n                  // and no use of !important\n                  css={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'stretch',\n                    lineHeight: 'normal',\n                    ['& > .builder-blocks']: {\n                      flexGrow: 1,\n                    },\n                    width: this.getColumnWidth(index),\n                    marginLeft: index === 0 ? 0 : gutterSize,\n                    ...(this.props.stackColumnsAt !== 'never' && {\n                      [`@media (max-width: ${\n                        this.props.stackColumnsAt !== 'tablet' ? 639 : 999\n                      }px)`]: {\n                        width: '100%',\n                        marginLeft: 0,\n                      },\n                    }),\n                  }}\n                >\n                  <BuilderBlocks\n                    key={index}\n                    // TODO: childOf [parentBlocks]?\n                    child\n                    parentElementId={this.props.builderBlock && this.props.builderBlock.id}\n                    blocks={col.blocks}\n                    dataPath={`component.options.columns.${index}.blocks`}\n                  />\n                </TagName>\n              </React.Fragment>\n            );\n          })}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport const Columns = withBuilder(ColumnsComponent, {\n  name: 'Columns',\n  static: true,\n  inputs: [\n    {\n      name: 'columns',\n      type: 'array',\n      broadcast: true,\n      subFields: [\n        {\n          name: 'blocks',\n          type: 'array',\n          hideFromUI: true,\n          defaultValue: defaultBlocks,\n        },\n        {\n          name: 'width',\n          type: 'number',\n          hideFromUI: true,\n          helperText: 'Width %, e.g. set to 50 to fill half of the space',\n        },\n        {\n          name: 'link',\n          type: 'url',\n          helperText: 'Optionally set a url that clicking this column will link to',\n        },\n      ],\n      defaultValue: [{ blocks: defaultBlocks }, { blocks: defaultBlocks }],\n      onChange: (options: Map<string, any>) => {\n        function clearWidths() {\n          columns.forEach(col => {\n            col.delete('width');\n          });\n        }\n\n        const columns = options.get('columns') as Array<Map<String, any>>;\n\n        if (Array.isArray(columns)) {\n          const containsColumnWithWidth = !!columns.find(col => col.get('width'));\n\n          if (containsColumnWithWidth) {\n            const containsColumnWithoutWidth = !!columns.find(col => !col.get('width'));\n            if (containsColumnWithoutWidth) {\n              clearWidths();\n            } else {\n              const sumWidths = columns.reduce((memo, col) => {\n                return memo + col.get('width');\n              }, 0);\n              const widthsDontAddUp = sumWidths !== 100;\n              if (widthsDontAddUp) {\n                clearWidths();\n              }\n            }\n          }\n        }\n      },\n    },\n    {\n      name: 'space',\n      type: 'number',\n      defaultValue: 20,\n      helperText: 'Size of gap between columns',\n      advanced: true,\n    },\n    {\n      name: 'stackColumnsAt',\n      type: 'string',\n      defaultValue: 'tablet',\n      helperText: 'Convert horizontal columns to vertical at what device size',\n      enum: ['tablet', 'mobile', 'never'],\n      advanced: true,\n    },\n    {\n      name: 'reverseColumnsWhenStacked',\n      type: 'boolean',\n      defaultValue: false,\n      helperText: 'When stacking columns for mobile devices, reverse the ordering',\n      advanced: true,\n    },\n  ],\n});\n","import React from 'react';\nimport { Builder } from '@builder.io/sdk';\nimport { withBuilder } from '../functions/with-builder';\n\nclass EmbedComponent extends React.Component<any> {\n  elementRef: HTMLElement | null = null;\n\n  scriptsInserted = new Set();\n  scriptsRun = new Set();\n\n  componentDidUpdate(prevProps: any) {\n    if (this.props.content !== prevProps.content) {\n      this.findAndRunScripts();\n    }\n  }\n\n  componentDidMount() {\n    this.findAndRunScripts();\n  }\n\n  findAndRunScripts() {\n    if (this.elementRef && typeof window !== 'undefined') {\n      const scripts = this.elementRef.getElementsByTagName('script');\n      for (let i = 0; i < scripts.length; i++) {\n        const script = scripts[i];\n        if (script.src) {\n          if (this.scriptsInserted.has(script.src)) {\n            continue;\n          }\n          this.scriptsInserted.add(script.src);\n          const newScript = document.createElement('script');\n          newScript.async = true;\n          newScript.src = script.src;\n          document.head.appendChild(newScript);\n        } else {\n          if (this.scriptsRun.has(script.innerText)) {\n            continue;\n          }\n          this.scriptsRun.add(script.innerText);\n          try {\n            new Function(script.innerText)();\n          } catch (error) {\n            console.warn('Builder custom code component error:', error);\n          }\n        }\n      }\n    }\n  }\n\n  get content() {\n    // Remove scripts on server - if they manipulate dom there can be issues on hydration\n    // TODO: allow this to by bypassed by context or prop that says if this is going to be HTML\n    // loaded without client JS/hydration (static)\n    if (Builder.isServer) {\n      return (this.props.content || '').replace(/<script[\\s\\S]*?<\\/script>/g, '');\n    }\n    return this.props.content;\n  }\n\n  render() {\n    return (\n      <div\n        ref={ref => (this.elementRef = ref)}\n        className=\"builder-embed\"\n        dangerouslySetInnerHTML={{ __html: this.content }}\n      />\n    );\n  }\n}\n\nexport const Embed = withBuilder(EmbedComponent, {\n  name: 'Embed',\n  static: true,\n  inputs: [\n    {\n      name: 'url',\n      type: 'url',\n      required: true,\n      defaultValue: '',\n      helperText: 'e.g. enter a youtube url, google map, etc',\n      onChange(options: Map<string, any>) {\n        const url = options.get('url');\n        if (url) {\n          options.set('content', 'Loading...');\n          // TODO: get this out of here!\n          const apiKey = 'ae0e60e78201a3f2b0de4b';\n          return fetch(`https://iframe.ly/api/iframely?url=${url}&api_key=${apiKey}`)\n            .then(res => res.json())\n            .then(data => {\n              if (options.get('url') === url) {\n                if (data.html) {\n                  options.set('content', data.html);\n                } else {\n                  options.set('content', 'Invalid url, please try another');\n                }\n              }\n            })\n            .catch(err => {\n              options.set(\n                'content',\n                'There was an error embedding this URL, please try again or another URL'\n              );\n            });\n        } else {\n          options.delete('content');\n        }\n      },\n    },\n    {\n      name: 'content',\n      type: 'html',\n      defaultValue: `<div style=\"padding: 20px; text-align: center\">(Choose an embed URL)<div>`,\n      hideFromUI: true,\n    },\n  ],\n});\n","import React from 'react';\nimport { BuilderElement, Builder } from '@builder.io/sdk';\nimport { withBuilder } from '../functions/with-builder';\n\ninterface Props {\n  code: string;\n  builderBlock?: BuilderElement;\n  replaceNodes?: boolean;\n  scriptsClientOnly?: boolean;\n}\n\n// TODO: settings context to pass this down. do in shopify-specific generated code\nconst globalReplaceNodes = ({} as { [key: string]: Node[] }) || null;\n\nconst isShopify = Builder.isBrowser && 'Shopify' in window;\n\nif (Builder.isBrowser && globalReplaceNodes) {\n  const customCodeQuerySelector = '.builder-custom-code';\n\n  try {\n    let allCustomCodeElements = Array.from(document.querySelectorAll(customCodeQuerySelector));\n\n    // Search each template element (if present) for custom code blocks since\n    // querySelectorAll cannot search all templates that we use for variations, because they are\n    // considered document fragments and are not a part of the DOM.\n    const builderTemplates = document.querySelectorAll('template[data-template-variant-id]');\n    if (builderTemplates.length) {\n      Array.from(builderTemplates).forEach(template => {\n        const content: DocumentFragment = (template as any).content;\n        const codeElements = content.querySelectorAll(customCodeQuerySelector);\n        if (codeElements.length) {\n          allCustomCodeElements = allCustomCodeElements.concat(Array.from(codeElements));\n        }\n      });\n    }\n\n    allCustomCodeElements.forEach(el => {\n      const parent = el.parentElement;\n      const id = parent && parent.getAttribute('builder-id');\n      if (id) {\n        globalReplaceNodes[id] = globalReplaceNodes[id] || [];\n        globalReplaceNodes[id].push(isShopify ? el : el.cloneNode(true));\n      }\n    });\n  } catch (err) {\n    console.error('Builder replace nodes error:', err);\n  }\n}\n\nclass CustomCodeComponent extends React.Component<Props> {\n  elementRef: Element | null = null;\n  originalRef: Node | Element | null = null;\n\n  scriptsInserted = new Set();\n  scriptsRun = new Set();\n\n  firstLoad = true;\n  replaceNodes = false;\n  state = {\n    hydrated: false,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    if (Builder.isBrowser) {\n      const id = this.props.builderBlock?.id;\n      this.replaceNodes = Boolean(\n        Builder.isBrowser && (props.replaceNodes || isShopify) && id && globalReplaceNodes?.[id]\n      );\n\n      if (this.firstLoad && this.props.builderBlock) {\n        if (id && globalReplaceNodes?.[id]) {\n          const el = globalReplaceNodes[id].shift() || null;\n          this.originalRef = el;\n          if (globalReplaceNodes[id].length === 0) {\n            delete globalReplaceNodes[id];\n          }\n        } else if (this.replaceNodes) {\n          const existing = document.querySelectorAll(\n            `.${this.props.builderBlock.id} .builder-custom-code`\n          );\n          if (existing.length === 1) {\n            const node = existing[0];\n            this.originalRef = node as HTMLElement;\n            (this.originalRef as Element).remove();\n          }\n        }\n      }\n    }\n  }\n\n  get noReactRender() {\n    // Don't render liquid client side\n    return Boolean(isShopify && this.props.code?.match(/{[{%]/g));\n  }\n\n  get isHydrating() {\n    return !isShopify && this.originalRef;\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.code !== prevProps.code) {\n      this.findAndRunScripts();\n    }\n  }\n\n  componentDidMount() {\n    this.firstLoad = false;\n    if (!this.replaceNodes) {\n      if (this.isHydrating) {\n        // first render need to match what's on ssr (issue with next.js)\n        this.setState({\n          hydrated: true,\n        });\n        Builder.nextTick(() => this.findAndRunScripts());\n      } else {\n        this.findAndRunScripts();\n      }\n    }\n    if (Builder.isBrowser && this.replaceNodes && this.originalRef && this.elementRef) {\n      this.elementRef.appendChild(this.originalRef);\n    }\n  }\n\n  findAndRunScripts() {\n    if (this.elementRef && typeof window !== 'undefined') {\n      const scripts = this.elementRef.getElementsByTagName('script');\n      for (let i = 0; i < scripts.length; i++) {\n        const script = scripts[i];\n        if (script.src) {\n          if (this.scriptsInserted.has(script.src)) {\n            continue;\n          }\n          this.scriptsInserted.add(script.src);\n          const newScript = document.createElement('script');\n          newScript.async = true;\n          newScript.src = script.src;\n          document.head.appendChild(newScript);\n        } else if (\n          !script.type ||\n          ['text/javascript', 'application/javascript', 'application/ecmascript'].includes(\n            script.type\n          )\n        ) {\n          if (this.scriptsRun.has(script.innerText)) {\n            continue;\n          }\n          try {\n            this.scriptsRun.add(script.innerText);\n            new Function(script.innerText)();\n          } catch (error) {\n            console.warn('Builder custom code component error:', error);\n          }\n        }\n      }\n    }\n  }\n\n  get code() {\n    // when ssr'd by nextjs it'll break hydration if initial client render doesn't match ssr\n    if (\n      (Builder.isServer || (this.isHydrating && this.firstLoad)) &&\n      this.props.scriptsClientOnly\n    ) {\n      return (this.props.code || '').replace(\n        /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n        ''\n      );\n    }\n    return this.props.code;\n  }\n\n  render() {\n    // TODO: remove <script> tags for server render (unless has some param to say it's only goingn to be run on server)\n    // like embed\n    return (\n      <div\n        ref={ref => (this.elementRef = ref)}\n        // TODO: add a class when node replaced in (?)\n        className=\"builder-custom-code\"\n        {...(!this.replaceNodes &&\n          !this.noReactRender && {\n            dangerouslySetInnerHTML: { __html: this.code },\n          })}\n      />\n    );\n  }\n}\n\nexport const CustomCode = withBuilder(CustomCodeComponent, {\n  name: 'Custom Code',\n  static: true,\n  requiredPermissions: ['editCode'],\n  inputs: [\n    {\n      name: 'code',\n      type: 'html',\n      required: true,\n      defaultValue: '<p>Hello there, I am custom HTML code!</p>',\n      code: true,\n    },\n    {\n      name: 'replaceNodes',\n      type: 'boolean',\n      helperText: 'Preserve server rendered dom nodes',\n      advanced: true,\n      ...(isShopify && {\n        defaultValue: true,\n      }),\n    },\n    {\n      name: 'scriptsClientOnly',\n      type: 'boolean',\n      helperText:\n        'Only print and run scripts on the client. Important when scripts influence DOM that could be replaced when client loads',\n      advanced: true,\n      ...(!isShopify && {\n        defaultValue: true,\n      }),\n    },\n  ],\n} as any);\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport React from 'react';\n\nimport { BuilderBlock as BuilderBlockComponent } from '../components/builder-block.component';\nimport { BuilderElement, Builder } from '@builder.io/sdk';\nimport { BuilderMetaContext } from '../store/builder-meta';\nimport { withBuilder } from '../functions/with-builder';\nimport { throttle } from '../functions/throttle';\n\n// Taken from (and modified) the shopify theme script repo\n// https://github.com/Shopify/theme-scripts/blob/bcfb471f2a57d439e2f964a1bb65b67708cc90c3/packages/theme-images/images.js#L59\nfunction removeProtocol(path: string) {\n  return path.replace(/http(s)?:/, '');\n}\n\nfunction isElementInViewport(el: HTMLElement) {\n  const rect = el.getBoundingClientRect();\n\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n    rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n  );\n}\n\nfunction getShopifyImageUrl(src: string, size: string): string | null {\n  if (!src || !src?.match(/cdn\\.shopify\\.com/) || !size) {\n    return src;\n  }\n\n  if (size === 'master') {\n    return removeProtocol(src);\n  }\n\n  const match = src.match(/(_\\d+x(\\d+)?)?(\\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\\?v=\\d+)?)/i);\n\n  if (match) {\n    const prefix = src.split(match[0]);\n    const suffix = match[3];\n    const useSize = size.match('x') ? size : `${size}x`;\n\n    return removeProtocol(`${prefix[0]}_${useSize}${suffix}`);\n  }\n\n  return null;\n}\n\nconst DEFAULT_ASPECT_RATIO = 0.7041;\n\nexport function updateQueryParam(uri = '', key: string, value: string | number | boolean): string {\n  const re = new RegExp('([?&])' + key + '=.*?(&|$)', 'i');\n  const separator = uri.indexOf('?') !== -1 ? '&' : '?';\n  if (uri.match(re)) {\n    return uri.replace(re, '$1' + key + '=' + encodeURIComponent(value) + '$2');\n  }\n\n  return uri + separator + key + '=' + encodeURIComponent(value);\n}\n\nexport function getSrcSet(url: string): string {\n  if (!url) {\n    return url;\n  }\n\n  const sizes = [100, 200, 400, 800, 1200, 1600, 2000];\n\n  if (url.match(/builder\\.io/)) {\n    let srcUrl = url;\n    const widthInSrc = Number(url.split('?width=')[1]);\n    if (!isNaN(widthInSrc)) {\n      srcUrl = `${srcUrl} ${widthInSrc}w`;\n    }\n\n    return sizes\n      .filter(size => size !== widthInSrc)\n      .map(size => `${updateQueryParam(url, 'width', size)} ${size}w`)\n      .concat([srcUrl])\n      .join(', ');\n  }\n\n  if (url.match(/cdn\\.shopify\\.com/)) {\n    return sizes\n      .map(size => [getShopifyImageUrl(url, `${size}x${size}`), size])\n      .filter(([sizeUrl]) => !!sizeUrl)\n      .map(([sizeUrl, size]) => `${sizeUrl} ${size}w`)\n      .concat([url])\n      .join(', ');\n  }\n\n  return url;\n}\n\nexport const getSizes = (sizes: string, block: BuilderElement) => {\n  let useSizes = '';\n\n  if (sizes) {\n    const splitSizes = sizes.split(',');\n    const sizesLength = splitSizes.length;\n    useSizes = splitSizes\n      .map((size: string, index) => {\n        if (sizesLength === index + 1) {\n          // If it is the last size in the array, then we want to strip out\n          // any media query information. According to the img spec, the last\n          // value for sizes cannot have a media query. If there is a media\n          // query at the end it breaks AMP mode rendering\n          // https://github.com/ampproject/amphtml/blob/b6313e372fdd1298928e2417dcc616b03288e051/src/size-list.js#L169\n          return size.replace(/\\([\\s\\S]*?\\)/g, '').trim();\n        } else {\n          return size;\n        }\n      })\n      .join(', ');\n  } else if (block && block.responsiveStyles) {\n    const generatedSizes = [];\n    let hasSmallOrMediumSize = false;\n    const unitRegex = /^\\d+/;\n\n    if (block.responsiveStyles?.small?.width?.match(unitRegex)) {\n      hasSmallOrMediumSize = true;\n      const mediaQuery = '(max-width: 639px)';\n      const widthAndQuery = `${mediaQuery} ${block.responsiveStyles.small.width.replace(\n        '%',\n        'vw'\n      )}`;\n      generatedSizes.push(widthAndQuery);\n    }\n\n    if (block.responsiveStyles?.medium?.width?.match(unitRegex)) {\n      hasSmallOrMediumSize = true;\n      const mediaQuery = '(max-width: 999px)';\n      const widthAndQuery = `${mediaQuery} ${block.responsiveStyles.medium.width.replace(\n        '%',\n        'vw'\n      )}`;\n      generatedSizes.push(widthAndQuery);\n    }\n\n    if (block.responsiveStyles?.large?.width) {\n      const width = block.responsiveStyles.large.width.replace('%', 'vw');\n      generatedSizes.push(width);\n    } else if (hasSmallOrMediumSize) {\n      generatedSizes.push('100vw');\n    }\n\n    if (generatedSizes.length) {\n      useSizes = generatedSizes.join(', ');\n    }\n  }\n\n  return useSizes;\n};\n\n// TODO: use picture tag to support more formats\nclass ImageComponent extends React.Component<any, { imageLoaded: boolean; load: boolean }> {\n  get useLazyLoading() {\n    // Use builder.getLocation()\n    return Builder.isBrowser && location.search.includes('builder.lazyLoadImages=false')\n      ? false\n      : Builder.isBrowser && location.href.includes('builder.lazyLoadImages=true')\n      ? true\n      : this.props.lazy;\n  }\n\n  // TODO: setting to always fade in the images (?)\n  state = {\n    imageLoaded: !this.useLazyLoading,\n    load: !this.useLazyLoading,\n  };\n\n  pictureRef: HTMLPictureElement | null = null;\n\n  scrollListener: null | ((e: Event) => void) = null;\n  intersectionObserver: IntersectionObserver | null = null;\n\n  componentWillUnmount() {\n    if (Builder.isBrowser) {\n      if (this.scrollListener) {\n        window.removeEventListener('scroll', this.scrollListener);\n        this.scrollListener = null;\n      }\n\n      if (this.intersectionObserver && this.pictureRef) {\n        this.intersectionObserver.unobserve(this.pictureRef);\n      }\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.lazy && Builder.isBrowser) {\n      if (this.pictureRef && isElementInViewport(this.pictureRef)) {\n        this.setState({\n          load: true,\n        });\n      } else if (typeof IntersectionObserver === 'function' && this.pictureRef) {\n        const observer = (this.intersectionObserver = new IntersectionObserver(\n          (entries, observer) => {\n            entries.forEach(entry => {\n              // In view\n              if (entry.intersectionRatio > 0) {\n                this.setState({\n                  load: true,\n                });\n                if (this.pictureRef) {\n                  observer.unobserve(this.pictureRef);\n                }\n              }\n            });\n          }\n        ));\n\n        observer.observe(this.pictureRef);\n      } else {\n        // throttled scroll capture listener\n        const listener = throttle(\n          (event: Event) => {\n            if (this.pictureRef) {\n              const rect = this.pictureRef.getBoundingClientRect();\n              const buffer = window.innerHeight / 2;\n              if (rect.top < window.innerHeight + buffer) {\n                this.setState({\n                  ...this.state,\n                  load: true,\n                });\n                window.removeEventListener('scroll', listener);\n                this.scrollListener = null;\n              }\n            }\n          },\n          400,\n          {\n            leading: false,\n            trailing: true,\n          }\n        );\n        this.scrollListener = listener;\n\n        window.addEventListener('scroll', listener, {\n          capture: true,\n          passive: true,\n        });\n        listener();\n      }\n    }\n  }\n\n  // Allow our legacy `image` prop, as well as allow a `src` prop for more intuitive\n  // DX of manual usage (<Image src=\"...\" />)\n  get image() {\n    return this.props.image || this.props.src;\n  }\n\n  getSrcSet(): string | undefined {\n    const url = this.image;\n    if (!url) {\n      return;\n    }\n\n    // We can auto add srcset for cdn.builder.io and shopify\n    // images, otherwise you can supply this prop manually\n    if (!(url.match(/builder\\.io/) || url.match(/cdn\\.shopify\\.com/))) {\n      return;\n    }\n\n    return getSrcSet(url);\n  }\n\n  render() {\n    const { aspectRatio, lazy } = this.props;\n    const children = this.props.builderBlock && this.props.builderBlock.children;\n\n    let srcset = this.props.srcset;\n    const sizes = getSizes(this.props.sizes, this.props.builderBlock);\n    const image = this.image;\n\n    if (srcset && image && image.includes('builder.io/api/v1/image')) {\n      if (!srcset.includes(image.split('?')[0])) {\n        console.debug('Removed given srcset');\n        srcset = this.getSrcSet();\n      }\n    } else if (image && !srcset) {\n      srcset = this.getSrcSet();\n    }\n\n    const isPixel = this.props.builderBlock?.id.startsWith('builder-pixel-');\n    const { fitContent } = this.props;\n\n    return (\n      <BuilderMetaContext.Consumer>\n        {value => {\n          const amp = value.ampMode;\n          const Tag: 'img' = amp ? ('amp-img' as any) : 'img';\n\n          const imageContents = (!lazy || this.state.load || amp) && (\n            <Tag\n              {...(amp\n                ? ({\n                    layout: 'responsive',\n                    height:\n                      this.props.height ||\n                      (aspectRatio ? Math.round(aspectRatio * 1000) : undefined),\n                    width:\n                      this.props.width ||\n                      (aspectRatio ? Math.round(1000 / aspectRatio) : undefined),\n                  } as any)\n                : null)}\n              alt={this.props.altText}\n              key={\n                Builder.isEditing\n                  ? (typeof this.image === 'string' && this.image.split('?')[0]) || undefined\n                  : undefined\n              }\n              role={!this.props.altText ? 'presentation' : undefined}\n              css={{\n                opacity: amp ? 1 : this.useLazyLoading && !this.state.imageLoaded ? 0 : 1,\n                transition: 'opacity 0.2s ease-in-out',\n                objectFit: this.props.backgroundSize || 'cover',\n                objectPosition: this.props.backgroundPosition || 'center',\n                ...(aspectRatio &&\n                  !amp && {\n                    position: 'absolute',\n                    height: '100%',\n                    width: '100%',\n                    left: 0,\n                    top: 0,\n                  }),\n                ...(amp && {\n                  ['& img']: {\n                    objectFit: this.props.backgroundSize,\n                    objectPosition: this.props.backgroundPosition,\n                  },\n                }),\n              }}\n              loading={isPixel ? 'eager' : 'lazy'}\n              className={'builder-image' + (this.props.className ? ' ' + this.props.className : '')}\n              src={this.image}\n              {...(!amp && {\n                // TODO: queue these so react renders all loads at once\n                onLoad: () => this.setState({ imageLoaded: true }),\n              })}\n              // TODO: memoize on image on client\n              srcSet={srcset}\n              sizes={!amp && sizes ? sizes : undefined}\n            />\n          );\n\n          return (\n            <React.Fragment>\n              {amp ? (\n                imageContents\n              ) : (\n                <picture ref={ref => (this.pictureRef = ref)}>\n                  {srcset && srcset.match(/builder\\.io/) && !this.props.noWebp && (\n                    <source srcSet={srcset.replace(/\\?/g, '?format=webp&')} type=\"image/webp\" />\n                  )}\n                  {imageContents}\n                </picture>\n              )}\n              {aspectRatio && !amp && !(fitContent && children && children.length) ? (\n                <div\n                  className=\"builder-image-sizer\"\n                  css={{\n                    width: '100%',\n                    paddingTop: aspectRatio * 100 + '%',\n                    pointerEvents: 'none',\n                    fontSize: 0,\n                  }}\n                >\n                  {' '}\n                </div>\n              ) : null}\n              {children && children.length ? (\n                fitContent ? (\n                  children.map((block: BuilderElement, index: number) => (\n                    <BuilderBlockComponent key={block.id} block={block} />\n                  ))\n                ) : (\n                  // TODO: if no aspect ratio and has children, don't make this absolute but instead\n                  // make the image absolute and fit the children (or with a special option)\n                  <div\n                    css={{\n                      display: 'flex',\n                      flexDirection: 'column',\n                      alignItems: 'stretch',\n                      position: 'absolute',\n                      top: 0,\n                      left: 0,\n                      width: '100%',\n                      height: '100%',\n                    }}\n                  >\n                    {children.map((block: BuilderElement, index: number) => (\n                      <BuilderBlockComponent key={block.id} block={block} />\n                    ))}\n                  </div>\n                )\n              ) : null}\n            </React.Fragment>\n          );\n        }}\n      </BuilderMetaContext.Consumer>\n    );\n  }\n}\n\nexport const Image = withBuilder(ImageComponent, {\n  name: 'Image',\n  static: true,\n  image:\n    'https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4',\n  defaultStyles: {\n    position: 'relative',\n    minHeight: '20px',\n    minWidth: '20px',\n    overflow: 'hidden',\n  },\n  canHaveChildren: true,\n  inputs: [\n    {\n      // TODO: new editor type 'responsiveImage' that can do different crops per breakpoint\n      // and sets an object and that is read here\n      name: 'image',\n      type: 'file',\n      bubble: true,\n      allowedFileTypes: ['jpeg', 'jpg', 'png', 'svg'],\n      required: true,\n      defaultValue:\n        'https://cdn.builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d',\n      onChange: (options: Map<string, any>) => {\n        const DEFAULT_ASPECT_RATIO = 0.7041;\n        options.delete('srcset');\n        options.delete('noWebp');\n        function loadImage(url: string, timeout = 60000): Promise<HTMLImageElement> {\n          return new Promise((resolve, reject) => {\n            const img = document.createElement('img');\n            let loaded = false;\n            img.onload = () => {\n              loaded = true;\n              resolve(img);\n            };\n\n            img.addEventListener('error', event => {\n              console.warn('Image load failed', event.error);\n              reject(event.error);\n            });\n\n            img.src = url;\n            setTimeout(() => {\n              if (!loaded) {\n                reject(new Error('Image load timed out'));\n              }\n            }, timeout);\n          });\n        }\n\n        function round(num: number) {\n          return Math.round(num * 1000) / 1000;\n        }\n\n        const value = options.get('image');\n        const aspectRatio = options.get('aspectRatio');\n\n        // For SVG images - don't render as webp, keep them as SVG\n        fetch(value)\n          .then(res => res.blob())\n          .then(blob => {\n            if (blob.type.includes('svg')) {\n              options.set('noWebp', true);\n            }\n          });\n\n        if (value && (!aspectRatio || aspectRatio === DEFAULT_ASPECT_RATIO)) {\n          return loadImage(value).then(img => {\n            const possiblyUpdatedAspectRatio = options.get('aspectRatio');\n            if (\n              options.get('image') === value &&\n              (!possiblyUpdatedAspectRatio || possiblyUpdatedAspectRatio === DEFAULT_ASPECT_RATIO)\n            ) {\n              if (img.width && img.height) {\n                options.set('aspectRatio', round(img.height / img.width));\n                options.set('height', img.height);\n                options.set('width', img.width);\n              }\n            }\n          });\n        }\n      },\n    },\n    {\n      name: 'backgroundSize',\n      type: 'text',\n      defaultValue: 'cover',\n      enum: [\n        {\n          label: 'contain',\n          value: 'contain',\n          helperText: 'The image should never get cropped',\n        },\n        {\n          label: 'cover',\n          value: 'cover',\n          helperText: `The image should fill its box, cropping when needed`,\n        },\n        // TODO: add these options back\n        // { label: 'auto', value: 'auto', helperText: '' },\n        // { label: 'fill', value: 'fill', helperText: 'The image should fill the box, being stretched or squished if necessary' },\n      ] as any,\n    },\n    {\n      name: 'backgroundPosition',\n      type: 'text',\n      defaultValue: 'center',\n      enum: [\n        'center',\n        'top',\n        'left',\n        'right',\n        'bottom',\n        'top left',\n        'top right',\n        'bottom left',\n        'bottom right',\n      ],\n    },\n    {\n      name: 'altText',\n      type: 'string',\n      helperText: 'Text to display when the user has images off',\n    },\n    {\n      name: 'height',\n      type: 'number',\n      hideFromUI: true,\n    },\n    {\n      name: 'width',\n      type: 'number',\n      hideFromUI: true,\n    },\n    {\n      name: 'sizes',\n      type: 'string',\n      hideFromUI: true,\n    },\n    {\n      name: 'srcset',\n      type: 'string',\n      hideFromUI: true,\n    },\n    // TODO: force lazy load option (maybe via binding for now hm component.options.lazy: true)\n    {\n      name: 'lazy',\n      type: 'boolean',\n      defaultValue: true,\n      hideFromUI: true,\n    },\n    {\n      name: 'fitContent',\n      type: 'boolean',\n      helperText:\n        \"When child blocks are provided, fit to them instead of using the image's aspect ratio\",\n      defaultValue: true,\n    },\n    {\n      name: 'aspectRatio',\n      type: 'number',\n      helperText:\n        \"This is the ratio of height/width, e.g. set to 1.5 for a 300px wide and 200px tall photo. Set to 0 to not force the image to maintain it's aspect ratio\",\n      advanced: true,\n      defaultValue: DEFAULT_ASPECT_RATIO,\n    },\n    // {\n    //   name: 'backgroundRepeat',\n    //   type: 'text',\n    //   defaultValue: 'no-repeat',\n    //   enum: ['no-repeat', 'repeat', 'repeat-x', 'repeat-y'],\n    // },\n  ],\n});\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport React from 'react';\n\nimport { throttle } from '../functions/throttle';\nimport { withChildren } from '../functions/with-children';\nimport { Builder } from '@builder.io/sdk';\n\nconst DEFAULT_ASPECT_RATIO = 0.7004048582995948;\n\nclass VideoComponent extends React.Component<{\n  video: string;\n  autoPlay?: boolean;\n  controls?: boolean;\n  muted?: boolean;\n  loop?: boolean;\n  playsInline?: boolean;\n  aspectRatio?: number;\n  width?: number;\n  height?: number;\n  fit?: 'contain' | 'cover' | 'fill';\n  position?: string;\n  posterImage?: string;\n  lazyLoad?: boolean;\n  fitContent?: boolean;\n}> {\n  video: HTMLVideoElement | null = null;\n  containerRef: HTMLElement | null = null;\n\n  scrollListener: null | ((e: Event) => void) = null;\n\n  get lazyLoad() {\n    // Default is true, must be explicitly turned off to not have this behavior\n    // as it's highly recommended for performance and bandwidth optimization\n    return this.props.lazyLoad !== false;\n  }\n\n  state = {\n    load: !this.lazyLoad,\n  };\n\n  updateVideo() {\n    const video = this.video;\n    if (video) {\n      // There are some issues with boolean attributes and media elements\n      // see: https://github.com/facebook/react/issues/10389\n      const boolProps: Array<'muted' | 'playsInline' | 'autoPlay'> = [\n        'muted',\n        'playsInline',\n        'autoPlay',\n      ];\n      boolProps.forEach(prop => {\n        const attr = prop.toLowerCase();\n        if (this.props[prop]) {\n          video.setAttribute(attr, attr);\n        } else {\n          video.removeAttribute(attr);\n        }\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    this.updateVideo();\n  }\n\n  componentDidMount() {\n    this.updateVideo();\n\n    if (this.lazyLoad && Builder.isBrowser) {\n      // TODO: have a way to consolidate all listeners into one timer\n      // to avoid excessive reflows\n      const listener = throttle(\n        (event: Event) => {\n          if (this.containerRef) {\n            const rect = this.containerRef.getBoundingClientRect();\n            const buffer = window.innerHeight / 2;\n            if (rect.top < window.innerHeight + buffer) {\n              this.setState(state => ({\n                ...state,\n                load: true,\n              }));\n              window.removeEventListener('scroll', listener);\n              this.scrollListener = null;\n            }\n          }\n        },\n        400,\n        {\n          leading: false,\n          trailing: true,\n        }\n      );\n      this.scrollListener = listener;\n\n      window.addEventListener('scroll', listener, {\n        capture: true,\n        passive: true,\n      });\n      listener();\n    }\n  }\n\n  componentWillUnmount() {\n    if (Builder.isBrowser && this.scrollListener) {\n      window.removeEventListener('scroll', this.scrollListener);\n      this.scrollListener = null;\n    }\n  }\n\n  render() {\n    const { aspectRatio, children } = this.props;\n    return (\n      <div ref={ref => (this.containerRef = ref)} css={{ position: 'relative' }}>\n        {/* TODO: option to load the whole thing (inc. poster image) or just video */}\n        <video\n          key={this.props.video || 'no-src'}\n          poster={this.props.posterImage}\n          ref={ref => (this.video = ref)}\n          autoPlay={this.props.autoPlay}\n          muted={this.props.muted}\n          controls={this.props.controls}\n          loop={this.props.loop}\n          className=\"builder-video\"\n          css={{\n            width: '100%',\n            height: '100%',\n            objectFit: this.props.fit,\n            objectPosition: this.props.position,\n            zIndex: 2,\n            // Hack to get object fit to work as expected and not have the video\n            // overflow\n            borderRadius: 1,\n            ...(aspectRatio\n              ? {\n                  position: 'absolute',\n                }\n              : null),\n          }}\n        >\n          {(!this.lazyLoad || this.state.load) && (\n            <source type=\"video/mp4\" src={this.props.video} />\n          )}\n        </video>\n        {aspectRatio && !(this.props.fitContent && children) ? (\n          <div\n            css={{\n              width: '100%',\n              paddingTop: aspectRatio * 100 + '%',\n              pointerEvents: 'none',\n              fontSize: 0,\n            }}\n          />\n        ) : null}\n        {children && this.props.fitContent ? (\n          <div css={{ display: 'flex', flexDirection: 'column', alignItems: 'stretch' }}>\n            {children}\n          </div>\n        ) : children ? (\n          <div\n            css={{\n              pointerEvents: 'none',\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'stretch',\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n            }}\n          >\n            {children}\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport const Video = Builder.registerComponent(withChildren(VideoComponent), {\n  name: 'Video',\n  canHaveChildren: true,\n  defaultStyles: {\n    minHeight: '20px',\n    minWidth: '20px',\n  },\n  image:\n    'https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-videocam-24px%20(1).svg?alt=media&token=49a84e4a-b20e-4977-a650-047f986874bb',\n  inputs: [\n    {\n      name: 'video',\n      type: 'file',\n      allowedFileTypes: ['mp4'],\n      bubble: true,\n      defaultValue:\n        'https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/assets%2FKQlEmWDxA0coC3PK6UvkrjwkIGI2%2F28cb070609f546cdbe5efa20e931aa4b?alt=media&token=912e9551-7a7c-4dfb-86b6-3da1537d1a7f',\n      required: true,\n    },\n    {\n      name: 'posterImage',\n      type: 'file',\n      allowedFileTypes: ['jpeg', 'png'],\n      helperText: 'Image to show before the video plays',\n    },\n    {\n      name: 'autoPlay',\n      type: 'boolean',\n      defaultValue: true,\n    },\n    {\n      name: 'controls',\n      type: 'boolean',\n      defaultValue: false,\n    },\n    {\n      name: 'muted',\n      type: 'boolean',\n      defaultValue: true,\n    },\n    {\n      name: 'loop',\n      type: 'boolean',\n      defaultValue: true,\n    },\n    {\n      name: 'playsInline',\n      type: 'boolean',\n      defaultValue: true,\n    },\n    {\n      name: 'fit',\n      type: 'text',\n      defaultValue: 'cover',\n      enum: ['contain', 'cover', 'fill', 'auto'],\n    },\n    {\n      name: 'fitContent',\n      type: 'boolean',\n      helperText: 'When child blocks are provided, fit to them instead of using the aspect ratio',\n      defaultValue: true,\n      advanced: true,\n    },\n    {\n      name: 'position',\n      type: 'text',\n      defaultValue: 'center',\n      enum: [\n        'center',\n        'top',\n        'left',\n        'right',\n        'bottom',\n        'top left',\n        'top right',\n        'bottom left',\n        'bottom right',\n      ],\n    },\n    {\n      name: 'height',\n      type: 'number',\n      advanced: true,\n    },\n    {\n      name: 'width',\n      type: 'number',\n      advanced: true,\n    },\n    {\n      name: 'aspectRatio',\n      type: 'number',\n      advanced: true,\n      defaultValue: DEFAULT_ASPECT_RATIO,\n    },\n    {\n      name: 'lazyLoad',\n      type: 'boolean',\n      helperText:\n        'Load this video \"lazily\" - as in only when a user scrolls near the video. Recommended for optmized performance and bandwidth consumption',\n      defaultValue: true,\n      advanced: true,\n    },\n  ],\n});\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport React from 'react';\nimport { BuilderComponent } from '../components/builder-component.component';\nimport { Builder, BuilderElement } from '@builder.io/sdk';\nimport hash from 'hash-sum';\nimport { NoWrap } from '../components/no-wrap';\nimport { BuilderStoreContext } from '../store/builder-store';\nimport { withBuilder } from '../functions/with-builder';\n\nconst size = (thing: object) => Object.keys(thing).length;\n\nconst isShopify = Builder.isBrowser && 'Shopify' in window;\n\nconst refs: Record<string, Element> = {};\n\nif (Builder.isBrowser) {\n  try {\n    Array.from(document.querySelectorAll('[builder-static-symbol]')).forEach(el => {\n      const id = (el as HTMLDivElement).getAttribute('builder-static-symbol');\n      if (id) {\n        refs[id] = el;\n      }\n    });\n  } catch (err) {\n    console.error('Builder replace nodes error:', err);\n  }\n}\n\nexport interface SymbolInfo {\n  model?: string;\n  entry?: string;\n  data?: any;\n  content?: any;\n  inline?: boolean;\n  dynamic?: boolean;\n}\n\nexport interface SymbolProps {\n  symbol?: SymbolInfo;\n  dataOnly?: boolean;\n  dynamic?: boolean;\n  builderBlock?: BuilderElement;\n  attributes?: any;\n  inheritState?: boolean;\n}\n\nclass SymbolComponent extends React.Component<SymbolProps> {\n  ref: BuilderComponent | null = null;\n  staticRef: HTMLDivElement | null = null;\n\n  get placeholder() {\n    return (\n      <div css={{ padding: 10 }}>\n        Symbols let you reuse dynamic elements across your content. Please choose a model and entry\n        for this symbol.\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    if (this.useStatic && this.staticRef && refs[this.props.builderBlock?.id!]) {\n      this.staticRef.parentNode?.replaceChild(refs[this.props.builderBlock?.id!], this.staticRef);\n    }\n  }\n\n  get useStatic() {\n    return Boolean(\n      Builder.isBrowser &&\n        refs[this.props.builderBlock?.id!] &&\n        !(Builder.isEditing || Builder.isPreviewing)\n    );\n  }\n\n  render() {\n    if (this.useStatic) {\n      return <div ref={el => (this.staticRef = el)} />;\n    }\n\n    const symbol = this.props.symbol;\n\n    let showPlaceholder = false;\n\n    if (!symbol) {\n      showPlaceholder = true;\n    }\n\n    const TagName = this.props.dataOnly\n      ? NoWrap\n      : (this.props.builderBlock && this.props.builderBlock.tagName) || 'div';\n\n    const { model, entry, data, content, inline } = symbol || {};\n    const dynamic = symbol?.dynamic || this.props.dynamic;\n    if (!(model && (entry || dynamic)) && !content?.data?.blocksJs && !inline) {\n      showPlaceholder = true;\n    }\n\n    let key = dynamic ? undefined : [model, entry].join(':');\n    const dataString = Builder.isEditing ? null : data && size(data) && hash(data);\n\n    if (key && dataString && dataString.length < 300) {\n      key += ':' + dataString;\n    }\n\n    const attributes = this.props.attributes || {};\n    return (\n      <BuilderStoreContext.Consumer key={(model || 'no model') + ':' + (entry || 'no entry')}>\n        {state => {\n          return (\n            <TagName\n              data-model={model}\n              {...attributes}\n              className={\n                (attributes.class || attributes.className || '') +\n                ' builder-symbol' +\n                (symbol?.inline ? ' builder-inline-symbol' : '') +\n                (symbol?.dynamic || this.props.dynamic ? ' builder-dynamic-symbol' : '')\n              }\n            >\n              {showPlaceholder ? (\n                this.placeholder\n              ) : (\n                <BuilderComponent\n                  isChild\n                  ref={(ref: any) => (this.ref = ref)}\n                  context={{ ...state.context, symbolId: this.props.builderBlock?.id }}\n                  modelName={model}\n                  entry={entry}\n                  data={{\n                    ...data,\n                    ...(!!this.props.inheritState && state.state),\n                    ...this.props.builderBlock?.component?.options?.symbol?.content?.data?.state,\n                  }}\n                  renderLink={state.renderLink}\n                  inlineContent={symbol?.inline}\n                  {...(content && { content })}\n                  options={{ key, noEditorUpdates: true }}\n                  codegen={!!content?.data?.blocksJs}\n                  hydrate={state.state?._hydrate}\n                  builderBlock={this.props.builderBlock}\n                  dataOnly={this.props.dataOnly}\n                >\n                  {/* TODO: builder blocks option for loading stuff */}\n                  {this.props.children}\n                </BuilderComponent>\n              )}\n            </TagName>\n          );\n        }}\n      </BuilderStoreContext.Consumer>\n    );\n  }\n}\n\nexport const Symbol = withBuilder(SymbolComponent, {\n  // Builder:Symbol\n  name: 'Symbol',\n  noWrap: true,\n  static: true,\n  // TODO: allow getter for icon so different icon if data symbol hm,\n  // Maybe \"this\" context is the block element in editor, and it's the\n  // builderBlock json otherwise. In BuilderBlock decorator find any getters\n  // and convert to strings when passing and convert back to getters after\n  // with `this` bound\n  inputs: [\n    {\n      name: 'symbol',\n      type: 'uiSymbol',\n    },\n    {\n      name: 'dataOnly',\n      helperText: `Make this a data symbol that doesn't display any UI`,\n      type: 'boolean',\n      defaultValue: false,\n      advanced: true,\n      hideFromUI: true,\n    },\n    {\n      name: 'inheritState',\n      helperText: `Inherit the parent component state and data`,\n      type: 'boolean',\n      defaultValue: isShopify,\n      advanced: true,\n    },\n    {\n      name: 'renderToLiquid',\n      helperText:\n        'Render this symbols contents to liquid. Turn off to fetch with javascript and use custom targeting',\n      type: 'boolean',\n      defaultValue: isShopify,\n      advanced: true,\n      hideFromUI: true,\n    },\n    {\n      name: 'useChildren',\n      hideFromUI: true,\n      type: 'boolean',\n    },\n  ],\n});\n","import React from 'react';\nimport { withBuilder } from '../functions/with-builder';\nimport { Link } from '../components/Link';\n\nexport interface ButtonProps {\n  attributes?: any;\n  text?: string;\n  link?: string;\n  openLinkInNewTab?: boolean;\n}\n\nclass ButtonComponent extends React.Component<ButtonProps> {\n  render() {\n    const Tag = this.props.link ? Link : 'span';\n    return (\n      <Tag\n        role=\"button\"\n        href={this.props.link}\n        target={this.props.openLinkInNewTab ? '_blank' : undefined}\n        {...this.props.attributes}\n      >\n        {this.props.text}\n      </Tag>\n    );\n  }\n}\n\nexport const Button = withBuilder(ButtonComponent, {\n  name: 'Core:Button',\n  image:\n    'https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F81a15681c3e74df09677dfc57a615b13',\n  defaultStyles: {\n    // TODO: make min width more intuitive and set one\n    appearance: 'none',\n    paddingTop: '15px',\n    paddingBottom: '15px',\n    paddingLeft: '25px',\n    paddingRight: '25px',\n    backgroundColor: '#000000',\n    color: 'white',\n    borderRadius: '4px',\n    textAlign: 'center',\n    cursor: 'pointer',\n  },\n  inputs: [\n    {\n      name: 'text',\n      type: 'text',\n      defaultValue: 'Click me!',\n      bubble: true,\n    },\n    {\n      name: 'link',\n      type: 'url',\n      bubble: true,\n    },\n    {\n      name: 'openLinkInNewTab',\n      type: 'boolean',\n      defaultValue: false,\n      friendlyName: 'Open link in new tab',\n    },\n  ],\n  static: true,\n  noWrap: true,\n});\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport React from 'react';\nimport { BuilderElement } from '@builder.io/sdk';\nimport { BuilderBlock as BuilderBlockComponent } from '../components/builder-block.component';\nimport { withBuilder } from '../functions/with-builder';\n\ninterface SectionProps {\n  builderBlock?: BuilderElement;\n  verticalAlignContent?: string;\n  maxWidth?: number;\n  lazyLoad?: boolean;\n  // Styles to load before lazy loaded in, like a min height\n  lazyStyles?: any;\n}\n\nclass SectionComponent extends React.Component<SectionProps, { inView?: boolean }> {\n  ref: HTMLElement | null = null;\n\n  unmountCallbacks: Function[] = [];\n\n  state = {\n    inView: false,\n  };\n\n  get renderContents() {\n    if (this.props.lazyLoad !== true) {\n      return true;\n    }\n\n    return this.state.inView;\n  }\n\n  componentWillUnmount() {\n    this.unmountCallbacks.forEach(cb => cb());\n  }\n\n  componentDidMount() {\n    if (this.props.lazyLoad) {\n      if (typeof IntersectionObserver === 'undefined' || !this.ref) {\n        this.setState({ inView: true });\n      } else {\n        const observer = new IntersectionObserver((entries, observer) => {\n          entries.forEach(entry => {\n            if (entry.intersectionRatio > 0) {\n              this.setState({\n                inView: true,\n              });\n              if (this.ref) {\n                observer.unobserve(this.ref);\n              }\n            }\n          });\n        });\n\n        observer.observe(this.ref);\n\n        this.unmountCallbacks.push(() => {\n          if (this.ref) {\n            observer.unobserve(this.ref);\n          }\n        });\n      }\n    }\n  }\n\n  render() {\n    return (\n      <section\n        ref={ref => (this.ref = ref)}\n        css={{\n          width: '100%',\n          // height: '100%' was is here so the inner contents can align center, but that is causing\n          // issues in Safari. Need another workaround.\n          alignSelf: 'stretch',\n          flexGrow: 1,\n          boxSizing: 'border-box',\n          maxWidth: this.props.maxWidth,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'stretch',\n          marginLeft: 'auto',\n          marginRight: 'auto',\n          ...(this.renderContents ? null : this.props.lazyStyles),\n        }}\n      >\n        {this.renderContents ? (\n          <React.Fragment>\n            {this.props.children}\n            {this.props.builderBlock &&\n              this.props.builderBlock.children &&\n              this.props.builderBlock.children.map((block, index) => (\n                <BuilderBlockComponent key={block.id} block={block} />\n              ))}\n          </React.Fragment>\n        ) : null}\n      </section>\n    );\n  }\n}\n\nexport const Section = withBuilder(SectionComponent, {\n  name: 'Core:Section',\n  static: true,\n  image:\n    'https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F682efef23ace49afac61748dd305c70a',\n  inputs: [\n    {\n      name: 'maxWidth',\n      type: 'number',\n      defaultValue: 1200,\n    },\n    {\n      name: 'lazyLoad',\n      type: 'boolean',\n      defaultValue: false,\n      advanced: true,\n      description: 'Only render this section when in view',\n    },\n  ],\n  defaultStyles: {\n    paddingLeft: '20px',\n    paddingRight: '20px',\n    paddingTop: '50px',\n    paddingBottom: '50px',\n    marginTop: '0px',\n    width: '100vw',\n    marginLeft: 'calc(50% - 50vw)',\n  },\n  canHaveChildren: true,\n\n  defaultChildren: [\n    {\n      '@type': '@builder.io/sdk:Element',\n      responsiveStyles: {\n        large: {\n          textAlign: 'center',\n        },\n      },\n      component: {\n        name: 'Text',\n        options: {\n          text: \"<p><b>I am a section! My content keeps from getting too wide, so that it's easy to read even on big screens.</b></p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur</p>\",\n        },\n      },\n    },\n  ],\n});\n","import React from 'react';\nimport { BuilderElement } from '@builder.io/sdk';\nimport { BuilderBlock as BuilderBlockComponent } from '../components/builder-block.component';\nimport { BuilderStoreContext } from '../store/builder-store';\nimport { withBuilder } from '../functions/with-builder';\n\ninterface StateProviderProps {\n  builderBlock?: BuilderElement;\n  state: any;\n  context?: any;\n}\n\nclass StateProviderComponent extends React.Component<StateProviderProps> {\n  render() {\n    return (\n      <BuilderStoreContext.Consumer>\n        {state => (\n          <BuilderStoreContext.Provider\n            value={{\n              ...state,\n              state: {\n                ...state.state,\n                ...this.props.state,\n              },\n              context: {\n                ...state.context,\n                ...this.props.context,\n              },\n            }}\n          >\n            {this.props.builderBlock &&\n              this.props.builderBlock.children &&\n              this.props.builderBlock.children.map((block, index) => (\n                <BuilderBlockComponent block={block} key={block.id} index={index} child={true} />\n              ))}\n            {this.props.children}\n          </BuilderStoreContext.Provider>\n        )}\n      </BuilderStoreContext.Consumer>\n    );\n  }\n}\n\nexport const StateProvider = withBuilder(StateProviderComponent, {\n  name: 'Builder:StateProvider',\n  // TODO: default children\n  canHaveChildren: true,\n  static: true,\n  noWrap: true,\n  hideFromInsertMenu: true,\n});\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport React from 'react';\nimport { BuilderElement, builder, Builder } from '@builder.io/sdk';\nimport { BuilderStoreContext } from '../store/builder-store';\nimport { BuilderComponent } from '../components/builder-component.component';\nimport { withBuilder } from '../functions/with-builder';\n\nexport interface RouterProps {\n  model?: string;\n  data?: string;\n  content?: any;\n  handleRouting?: boolean;\n  builderBlock?: BuilderElement;\n  preloadOnHover?: boolean;\n  onRoute?: (routeEvent: RouteEvent) => void;\n}\n\nconst prefetched = new Set();\n\nfunction searchToObject(location: Location) {\n  const pairs = (location.search || '').substring(1).split('&');\n  const obj: { [key: string]: string } = {};\n\n  for (const i in pairs) {\n    if (!(pairs[i] && typeof pairs[i] === 'string')) {\n      continue;\n    }\n    const pair = pairs[i].split('=');\n    obj[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n\n  return obj;\n}\n\nexport interface RouteEvent {\n  /**\n   * Url being routed to\n   */\n  url: string;\n  /**\n   * Html anchor element the href is on that\n   * caused the route\n   */\n  anchorNode: HTMLAnchorElement;\n  /**\n   * Has preventDefault() been called preventing\n   * builder from routing to the clicked URL\n   */\n  defaultPrevented: boolean;\n  /**\n   * Prevents builder from handling routing for you to handle\n   * yourself\n   */\n  preventDefault(): void;\n}\n\nclass RouterComponent extends React.Component<RouterProps> {\n  builder = builder;\n\n  routed = false;\n\n  private preloadQueue = 0;\n\n  // TODO: handle route to same url as current (do nothing)\n  // TODO: replaceState option\n  public route(url: string) {\n    this.routed = true;\n\n    // TODO: check if relative?\n    if (typeof window.history?.pushState === 'function') {\n      history.pushState(null, '', url);\n      this.updateLocationState();\n      return true;\n    } else {\n      location.href = url;\n      return false;\n    }\n  }\n\n  private updateLocationState() {\n    if (this.privateState) {\n      // Reload path info\n      this.privateState.update(obj => {\n        // TODO: force always override the location path info... hmm\n        obj.location = {\n          ...obj.location,\n          pathname: location.pathname,\n          search: location.search,\n          path: location.pathname.split('/').slice(1),\n          query: searchToObject(location),\n        };\n      });\n    }\n  }\n\n  private get model() {\n    return this.props.model || 'page';\n  }\n\n  componentDidMount() {\n    if (typeof document !== 'undefined') {\n      document.addEventListener('click', this.onClick);\n      window.addEventListener('popstate', this.onPopState);\n      document.addEventListener('mouseover', this.onMouseOverOrTouchStart);\n      document.addEventListener('touchstart', this.onMouseOverOrTouchStart);\n    }\n  }\n\n  componentWillUnmount() {\n    if (typeof document !== 'undefined') {\n      document.removeEventListener('click', this.onClick);\n      document.removeEventListener('mouseover', this.onMouseOverOrTouchStart);\n      window.removeEventListener('popstate', this.onPopState);\n      document.removeEventListener('touchstart', this.onMouseOverOrTouchStart);\n    }\n  }\n\n  private onPopState = (event: Event) => {\n    this.updateLocationState();\n  };\n\n  private onMouseOverOrTouchStart = (event: MouseEvent | TouchEvent) => {\n    if (this.preloadQueue > 4) {\n      return;\n    }\n\n    if (this.props.preloadOnHover === false) {\n      return;\n    }\n\n    const hrefTarget = this.findHrefTarget(event);\n    if (!hrefTarget) {\n      return;\n    }\n\n    let href = hrefTarget.getAttribute('href');\n    if (!href) {\n      return;\n    }\n\n    // TODO: onPreload hook and preload dom event\n    // Also allow that to be defaultPrevented to cancel this behavior\n    if (!this.isRelative(href)) {\n      const converted = this.convertToRelative(href);\n      if (converted) {\n        href = converted;\n      } else {\n        return;\n      }\n    }\n\n    if (href.startsWith('#')) {\n      return;\n    }\n\n    if (prefetched.has(href)) {\n      return;\n    }\n    prefetched.add(href);\n\n    const parsedUrl = this.parseUrl(href);\n\n    // TODO: override location!\n    this.preloadQueue++;\n\n    // TODO: use builder from context\n    const attributes = builder.getUserAttributes();\n    attributes.urlPath = parsedUrl.pathname;\n    attributes.queryString = parsedUrl.search;\n\n    // Should be queue?\n    const subscription = builder\n      .get(this.model, {\n        userAttributes: attributes,\n        key: this.model + ':' + parsedUrl.pathname + parsedUrl.search,\n      })\n      .subscribe(() => {\n        this.preloadQueue--;\n        subscription.unsubscribe();\n      });\n  };\n\n  private onClick = async (event: MouseEvent) => {\n    if (this.props.handleRouting === false) {\n      return;\n    }\n\n    if (event.button !== 0 || event.ctrlKey || event.defaultPrevented || event.metaKey) {\n      // If this is a non-left click, or the user is holding ctr/cmd, or the url is absolute,\n      // or if the link has a target attribute, don't route on the client and let the default\n      // href property handle the navigation\n      return;\n    }\n\n    const hrefTarget = this.findHrefTarget(event);\n    if (!hrefTarget) {\n      return;\n    }\n\n    // target=\"_blank\" or target=\"_self\" etc\n    if (hrefTarget.target && hrefTarget.target !== '_client') {\n      return;\n    }\n\n    let href = hrefTarget.getAttribute('href');\n    if (!href) {\n      return;\n    }\n\n    if (this.props.onRoute) {\n      const routeEvent: RouteEvent = {\n        url: href,\n        anchorNode: hrefTarget,\n        preventDefault() {\n          this.defaultPrevented = true;\n        },\n        defaultPrevented: false,\n      };\n\n      this.props.onRoute(routeEvent);\n\n      if (routeEvent.defaultPrevented) {\n        // Wait should this be here? they may want browser to handle this by deault preventing ours...\n        // event.preventDefault()\n        return;\n      }\n    }\n\n    if (!this.isRelative(href)) {\n      const converted = this.convertToRelative(href);\n      if (converted) {\n        href = converted;\n      } else {\n        return;\n      }\n    }\n\n    if (href.startsWith('#')) {\n      return;\n    }\n\n    // Otherwise if this url is relative, navigate on the client\n    event.preventDefault();\n\n    this.route(href);\n  };\n\n  render() {\n    const { model } = this;\n    return (\n      <BuilderStoreContext.Consumer>\n        {state => {\n          this.privateState = state;\n          // TODO: useEffect based on this that fetches new data and\n          // populates as content={} param for fast updates\n          const url =\n            state.state &&\n            state.state.location &&\n            state.state.location.pathname + state.state.location.search;\n\n          return (\n            <div className=\"builder-router\" data-model={model}>\n              {/* TODO: move to emotion */}\n              <style>{`\n                @keyframes builderLoadingSpinner {\n                  0% {\n                    transform: rotate(0deg);\n                  }\n                  100% {\n                    transform: rotate(360deg);\n                  }\n                }\n                /* TODO: overridable tag */\n                .builder-page-loading {\n                  -webkit-animation: builderLoadingSpinner 1s infinite linear;\n                  animation: builderLoadingSpinner 1s infinite linear;\n                  -webkit-transform: translateZ(0);\n                  transform: translateZ(0);\n                  border-radius: 50%;\n                  width: 36px;\n                  height: 36px;\n                  margin: 6px auto;\n                  position: relative;\n                  border: 1px solid transparent;\n                  border-left: 1px solid #808284;\n                }\n              `}</style>\n              <BuilderComponent\n                // TODO: this key strategy is inidial bc it gives loading for full page when fetching content\n                // Also sometimes content flashes to loading even when it's already precached in memory and should immediately display\n                // - why\n                key={url}\n                data={this.props.data}\n                content={this.routed ? undefined : this.props.content}\n                modelName={model}\n                options={{\n                  key: Builder.isEditing ? undefined : this.model + ':' + url, // TODO: other custom targets specify if should refetch components on change\n                }}\n              >\n                {/* TODO: builder blocks option for loading stuff */}\n                {/* TODO: input for builder blocks for this */}\n                {this.props.children || (\n                  <div css={{ display: 'flex' }}>\n                    <div css={{ margin: '40vh auto' }} className=\"builder-page-loading\" />\n                  </div>\n                )}\n              </BuilderComponent>\n            </div>\n          );\n        }}\n      </BuilderStoreContext.Consumer>\n    );\n  }\n\n  private findHrefTarget(event: MouseEvent | TouchEvent): HTMLAnchorElement | null {\n    // TODO: move to core\n    let element = event.target as HTMLElement | null;\n\n    while (element) {\n      if (element instanceof HTMLAnchorElement && element.getAttribute('href')) {\n        return element;\n      }\n\n      if (element === event.currentTarget) {\n        break;\n      }\n\n      element = element.parentElement;\n    }\n\n    return null;\n  }\n\n  private isRelative(href: string) {\n    return !href.match(/^(\\/\\/|https?:\\/\\/)/i);\n  }\n\n  private privateState: {\n    state: any;\n    update: (mutator: (state: any) => any) => void;\n  } | null = null;\n\n  // This method can only be called client side only. It is only invoked on click events\n  private parseUrl(url: string) {\n    const a = document.createElement('a');\n    a.href = url;\n    return a;\n  }\n\n  private convertToRelative(href: string): string | null {\n    const currentUrl = this.parseUrl(location.href);\n    const hrefUrl = this.parseUrl(href);\n\n    if (currentUrl.host === hrefUrl.host) {\n      const relativeUrl = hrefUrl.pathname + (hrefUrl.search ? hrefUrl.search : '');\n\n      if (relativeUrl.startsWith('#')) {\n        return null;\n      }\n      return relativeUrl || '/';\n    }\n\n    return null;\n  }\n}\n\nexport const Router = withBuilder(RouterComponent, {\n  name: 'Core:Router',\n  hideFromInsertMenu: true,\n  // TODO: advanced: true\n  inputs: [\n    {\n      // TODO: search picker\n      name: 'model',\n      type: 'string',\n      defaultValue: 'page',\n      advanced: true,\n    },\n    {\n      name: 'handleRouting',\n      type: 'boolean',\n      defaultValue: true,\n      advanced: true,\n    },\n    {\n      name: 'preloadOnHover',\n      type: 'boolean',\n      defaultValue: true,\n      advanced: true,\n    },\n    {\n      name: 'onRoute',\n      type: 'function',\n      advanced: true,\n      // Subfields are function arguments - object with properties\n    },\n  ],\n});\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport React from 'react';\nimport { Builder, BuilderElement } from '@builder.io/sdk';\nimport { BuilderBlocks } from '../components/builder-blocks.component';\n\nBuilder.registerComponent(Mutation, {\n  name: 'Builder:Mutation',\n  canHaveChildren: true,\n  noWrap: true,\n  hideFromInsertMenu: true,\n  inputs: [\n    {\n      name: 'type',\n      type: 'string',\n      defaultValue: 'replace',\n      enum: [\n        {\n          label: 'Replace',\n          value: 'replace',\n          helperText: 'Replace the contents of this site region with content from Builder',\n        },\n        {\n          label: 'Append',\n          value: 'afterEnd',\n          helperText: 'Append Builder content after the chosen site region',\n        },\n      ],\n    },\n    {\n      name: 'selector',\n      // TODO: special UI for this\n      type: 'builder:domSelector',\n    },\n  ],\n});\n\ntype MutationProps = {\n  selector: string;\n  builderBlock?: BuilderElement;\n  type?: 'replace' | 'afterEnd';\n};\n\nexport function Mutation(props: MutationProps) {\n  const ref = React.useRef<HTMLDivElement | null>(null);\n\n  useWaitForSelector(props.selector, node => {\n    // TODO: static generate this logic\n    if (props.type !== 'afterEnd') {\n      node.innerHTML = '';\n    }\n    node.appendChild(ref.current!.firstElementChild!);\n  });\n\n  const children = props.builderBlock?.children;\n\n  return (\n    <span style={{ display: 'none' }} ref={ref}>\n      <BuilderBlocks\n        style={{\n          display: 'inline',\n        }}\n        child\n        parentElementId={props.builderBlock?.id}\n        dataPath=\"this.children\"\n        blocks={children}\n      />\n    </span>\n  );\n}\n\nfunction useWaitForSelector(selector: string, cb: (node: Element) => void) {\n  React.useLayoutEffect(() => {\n    try {\n      const existingElement = document.querySelector(selector);\n      if (existingElement) {\n        cb(existingElement);\n        return;\n      }\n    } catch (err) {\n      console.warn(err);\n    }\n\n    const observer = new MutationObserver(() => {\n      try {\n        const foundElement = document.querySelector(selector);\n        if (foundElement) {\n          observer.disconnect();\n          cb(foundElement);\n        }\n      } catch (err) {\n        console.warn(err);\n      }\n    });\n\n    observer.observe(document.body, {\n      attributes: true,\n      subtree: true,\n      characterData: true,\n    });\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [selector]);\n}\n","export const get = (obj: any, path: string, defaultValue?: any) => {\n  const result = String.prototype.split\n    .call(path, /[,[\\].]+?/)\n    .filter(Boolean)\n    .reduce((res, key) => (res !== null && res !== undefined ? res[key] : res), obj);\n  return result === undefined || result === obj ? defaultValue : result;\n};\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport React from 'react';\nimport { BuilderBlock as BuilderBlockComponent } from '../../components/builder-block.component';\nimport { BuilderElement, Builder, builder } from '@builder.io/sdk';\nimport { BuilderBlocks } from '../../components/builder-blocks.component';\nimport { BuilderStoreContext } from '../../store/builder-store';\nimport { set } from '../../functions/set';\nimport { get } from '../../functions/get';\nimport { withBuilder } from '../../functions/with-builder';\n\nexport interface FormProps {\n  attributes?: any;\n  name?: string;\n  action?: string;\n  validate?: boolean;\n  method?: string;\n  builderBlock?: BuilderElement;\n  sendSubmissionsTo?: string;\n  sendSubmissionsToEmail?: string;\n  sendWithJs?: boolean;\n  contentType?: string;\n  customHeaders?: { [key: string]: string };\n  successUrl?: string;\n  previewState?: string;\n  successMessage?: BuilderElement[];\n  errorMessage?: BuilderElement[];\n  sendingMessage?: BuilderElement[];\n  resetFormOnSubmit?: boolean;\n  errorMessagePath?: string;\n}\n\nconst MULTIPART_CONTENT_TYPE = 'multipart/form-data';\nconst JSON_CONTENT_TYPE = 'application/json';\nconst ENCODED_CONTENT_TYPE = 'application/x-www-form-urlencoded';\n\nclass FormComponent extends React.Component<FormProps> {\n  ref: HTMLFormElement | null = null;\n\n  // TODO: link this state to global state and allow togglign the modes in\n  // the style and or data editor. TODO: for now some kind of input for preview state\n  // that only impacts in the editor?\n  state = {\n    state: 'unsubmitted' as 'unsubmitted' | 'sending' | 'success' | 'error',\n    // TODO: separate response and error?\n    responseData: null as any,\n    formErrorMessage: '',\n  };\n\n  get submissionState() {\n    return (Builder.isEditing && this.props.previewState) || this.state.state;\n  }\n\n  render() {\n    return (\n      // TODO: JS data bindings\n      <BuilderStoreContext.Consumer>\n        {state => (\n          <BuilderStoreContext.Provider\n            value={{\n              ...state,\n              state: {\n                ...state.state,\n                formErrorMessage: this.state.formErrorMessage,\n              },\n            }}\n          >\n            <form\n              validate={this.props.validate}\n              ref={ref => (this.ref = ref)}\n              action={!this.props.sendWithJs && this.props.action}\n              method={this.props.method}\n              name={this.props.name}\n              onSubmit={event => {\n                const sendWithJs =\n                  this.props.sendWithJs || this.props.sendSubmissionsTo === 'email';\n                // TODO: custom validate event that can preventDefault and use ref or event to set\n                // invalid message\n                if (this.props.sendSubmissionsTo === 'zapier') {\n                  event.preventDefault();\n                  // TODO: send submission to zapier\n                } else if (sendWithJs) {\n                  if (!(this.props.action || this.props.sendSubmissionsTo === 'email')) {\n                    event.preventDefault();\n                    return;\n                  }\n                  event.preventDefault();\n\n                  // TODO: error and success state\n                  const el = event.currentTarget;\n                  const headers = this.props.customHeaders || {};\n\n                  let body: any;\n\n                  const formData = new FormData(el);\n\n                  // TODO: maybe support null\n                  const formPairs: {\n                    key: string;\n                    value: File | boolean | number | string | FileList;\n                  }[] = Array.from(event.currentTarget.querySelectorAll('input,select,textarea'))\n                    .filter(el => !!(el as HTMLInputElement).name)\n                    .map(el => {\n                      let value: any;\n                      const key = (el as HTMLImageElement).name;\n                      if (el instanceof HTMLInputElement) {\n                        if (el.type === 'radio') {\n                          if (el.checked) {\n                            value = el.name;\n                            return { key, value };\n                          }\n                        } else if (el.type === 'checkbox') {\n                          value = el.checked;\n                        } else if (el.type === 'number' || el.type === 'range') {\n                          const num = el.valueAsNumber;\n                          if (!isNaN(num)) {\n                            value = num;\n                          }\n                        } else if (el.type === 'file') {\n                          // TODO: one vs multiple files\n                          value = el.files;\n                        } else {\n                          value = el.value;\n                        }\n                      } else {\n                        value = (el as HTMLInputElement).value;\n                      }\n\n                      return { key, value };\n                    });\n\n                  let contentType = this.props.contentType;\n\n                  if (this.props.sendSubmissionsTo === 'email') {\n                    contentType = MULTIPART_CONTENT_TYPE;\n                  }\n\n                  Array.from(formPairs).forEach(({ value }) => {\n                    if (\n                      value instanceof File ||\n                      (Array.isArray(value) && value[0] instanceof File) ||\n                      value instanceof FileList\n                    ) {\n                      contentType = MULTIPART_CONTENT_TYPE;\n                    }\n                  });\n\n                  if (contentType === MULTIPART_CONTENT_TYPE) {\n                    body = formData;\n                  } else if (contentType === JSON_CONTENT_TYPE) {\n                    const json = {};\n\n                    Array.from(formPairs).forEach(({ value, key }) => {\n                      set(json, key, value);\n                    });\n\n                    body = JSON.stringify(json);\n                  } else if (contentType === ENCODED_CONTENT_TYPE) {\n                    body = Array.from(formPairs)\n                      .map(({ value, key }) => {\n                        return (\n                          encodeURIComponent(key) +\n                          '=' +\n                          encodeURIComponent(value as boolean | number | string)\n                        );\n                      })\n                      .join('&');\n                  } else {\n                    // Unsupported content type\n                    console.error('Unsupported content type: ', contentType);\n                    return;\n                  }\n\n                  if (contentType && contentType !== MULTIPART_CONTENT_TYPE) {\n                    if (\n                      // Zapier doesn't allow content-type header to be sent from browsers\n                      !(sendWithJs && this.props.action?.includes('zapier.com'))\n                    ) {\n                      headers['content-type'] = contentType;\n                    }\n                  }\n\n                  const presubmitEvent = new CustomEvent('presubmit', {\n                    detail: {\n                      body,\n                    },\n                  });\n                  if (this.ref) {\n                    this.ref.dispatchEvent(presubmitEvent);\n                    if (presubmitEvent.defaultPrevented) {\n                      return;\n                    }\n                  }\n\n                  this.setState({\n                    ...this.state,\n                    state: 'sending',\n                  });\n\n                  const formUrl = `${\n                    builder.env === 'dev' ? 'http://localhost:5000' : 'https://builder.io'\n                  }/api/v1/form-submit?apiKey=${builder.apiKey}&to=${btoa(\n                    this.props.sendSubmissionsToEmail || ''\n                  )}&name=${encodeURIComponent(this.props.name || '')}`;\n\n                  fetch(\n                    this.props.sendSubmissionsTo === 'email' ? formUrl : this.props.action!, // TODO: throw error if no action URL\n                    {\n                      body,\n                      headers,\n                      method: this.props.method || 'post',\n                    }\n                  ).then(\n                    async res => {\n                      let body;\n                      const contentType = res.headers.get('content-type');\n                      if (contentType && contentType.indexOf(JSON_CONTENT_TYPE) !== -1) {\n                        body = await res.json();\n                      } else {\n                        body = await res.text();\n                      }\n\n                      if (!res.ok && this.props.errorMessagePath) {\n                        // TODO: allow supplying an error formatter function\n                        let message = get(body, this.props.errorMessagePath);\n\n                        if (message) {\n                          if (typeof message !== 'string') {\n                            // TODO: ideally convert json to yaml so it woul dbe like\n                            // error: - email has been taken\n                            message = JSON.stringify(message);\n                          }\n                          this.setState({\n                            ...this.state,\n                            formErrorMessage: message,\n                          });\n                        }\n                      }\n\n                      this.setState({\n                        ...this.state,\n                        responseData: body,\n                        state: res.ok ? 'success' : 'error',\n                      });\n\n                      if (res.ok) {\n                        // TODO: send submit success event\n\n                        const submitSuccessEvent = new CustomEvent('submit:success', {\n                          detail: {\n                            res,\n                            body,\n                          },\n                        });\n                        if (this.ref) {\n                          this.ref.dispatchEvent(submitSuccessEvent);\n                          if (submitSuccessEvent.defaultPrevented) {\n                            return;\n                          }\n                          // TODO: option to turn this on/off?\n                          if (this.props.resetFormOnSubmit !== false) {\n                            this.ref.reset();\n                          }\n                        }\n\n                        // TODO: client side route event first that can be preventDefaulted\n                        if (this.props.successUrl) {\n                          if (this.ref) {\n                            const event = new CustomEvent('route', {\n                              detail: {\n                                url: this.props.successUrl,\n                              },\n                            });\n                            this.ref.dispatchEvent(event);\n                            if (!event.defaultPrevented) {\n                              location.href = this.props.successUrl;\n                            }\n                          } else {\n                            location.href = this.props.successUrl;\n                          }\n                        }\n                      }\n                    },\n                    err => {\n                      const submitErrorEvent = new CustomEvent('submit:error', {\n                        detail: {\n                          error: err,\n                        },\n                      });\n                      if (this.ref) {\n                        this.ref.dispatchEvent(submitErrorEvent);\n                        if (submitErrorEvent.defaultPrevented) {\n                          return;\n                        }\n                      }\n\n                      // TODO: send submit error event\n                      this.setState({\n                        ...this.state,\n                        responseData: err,\n                        state: 'error',\n                      });\n                    }\n                  );\n                }\n              }}\n              {...this.props.attributes}\n            >\n              {/* TODO: maybe BuilderBlocks */}\n              {this.props.builderBlock &&\n                this.props.builderBlock.children &&\n                this.props.builderBlock.children.map((block, index) => (\n                  <BuilderBlockComponent key={block.id} block={block} />\n                ))}\n\n              {this.submissionState === 'error' && (\n                <BuilderBlocks dataPath=\"errorMessage\" blocks={this.props.errorMessage!} />\n              )}\n\n              {this.submissionState === 'sending' && (\n                <BuilderBlocks dataPath=\"sendingMessage\" blocks={this.props.sendingMessage!} />\n              )}\n\n              {/* TODO: option to turn this off */}\n              {this.submissionState === 'error' && this.state.responseData && (\n                // TODO: tag to edit\n                <pre\n                  className=\"builder-form-error-text\"\n                  css={{ padding: 10, color: 'red', textAlign: 'center' }}\n                >\n                  {JSON.stringify(this.state.responseData, null, 2)}\n                </pre>\n              )}\n\n              {this.submissionState === 'success' && (\n                <BuilderBlocks dataPath=\"successMessage\" blocks={this.props.successMessage!} />\n              )}\n            </form>\n          </BuilderStoreContext.Provider>\n        )}\n      </BuilderStoreContext.Consumer>\n    );\n  }\n}\n\nexport const Form = withBuilder(FormComponent, {\n  name: 'Form:Form',\n  // editableTags: ['builder-form-error']\n  defaults: {\n    responsiveStyles: {\n      large: {\n        marginTop: '15px',\n        paddingBottom: '15px',\n      },\n    },\n  },\n  image:\n    'https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fef36d2a846134910b64b88e6d18c5ca5',\n  inputs: [\n    {\n      name: 'sendSubmissionsTo',\n      type: 'string',\n      // TODO: save to builder data and user can download as csv\n      // TODO: easy for mode too or computed add/remove fields form mode\n      // so you can edit details and high level mode at same time...\n      // Later - more integrations like mailchimp\n      // /api/v1/form-submit?to=mailchimp\n      enum: [\n        {\n          label: 'Send to email',\n          value: 'email',\n          helperText: 'Send form submissions to the email address of your choosing',\n        },\n        {\n          label: 'Custom',\n          value: 'custom',\n          helperText:\n            'Handle where the form requests go manually with a little code, e.g. to your own custom backend',\n        },\n      ],\n      defaultValue: 'email',\n    },\n    {\n      name: 'sendSubmissionsToEmail',\n      type: 'string',\n      required: true, // TODO: required: () => options.get(\"sendSubmissionsTo\") === \"email\"\n      defaultValue: 'your@email.com',\n      showIf: 'options.get(\"sendSubmissionsTo\") === \"email\"',\n    },\n    {\n      name: 'sendWithJs',\n      type: 'boolean',\n      helperText: 'Set to false to use basic html form action',\n      defaultValue: true,\n      showIf: 'options.get(\"sendSubmissionsTo\") === \"custom\"',\n    },\n    {\n      name: 'name',\n      type: 'string',\n      defaultValue: 'My form',\n      // advanced: true\n    },\n    {\n      name: 'action',\n      type: 'string',\n      helperText: 'URL to send the form data to',\n      showIf: 'options.get(\"sendSubmissionsTo\") === \"custom\"',\n    },\n    {\n      name: 'contentType',\n      type: 'string',\n      defaultValue: JSON_CONTENT_TYPE,\n      advanced: true,\n      // TODO: do automatically if file input\n      enum: [JSON_CONTENT_TYPE, MULTIPART_CONTENT_TYPE, ENCODED_CONTENT_TYPE],\n      showIf: 'options.get(\"sendSubmissionsTo\") === \"custom\" && options.get(\"sendWithJs\") === true',\n    },\n    {\n      name: 'method',\n      type: 'string',\n      showIf: 'options.get(\"sendSubmissionsTo\") === \"custom\"',\n      defaultValue: 'POST',\n      advanced: true,\n    },\n    {\n      name: 'previewState',\n      type: 'string',\n      // TODO: persist: false flag\n      enum: ['unsubmitted', 'sending', 'success', 'error'],\n      defaultValue: 'unsubmitted',\n      helperText:\n        'Choose a state to edit, e.g. choose \"success\" to show what users see on success and edit the message',\n      showIf: 'options.get(\"sendSubmissionsTo\") !== \"zapier\" && options.get(\"sendWithJs\") === true',\n    },\n    {\n      name: 'successUrl',\n      type: 'url',\n      helperText: 'Optional URL to redirect the user to on form submission success',\n      showIf: 'options.get(\"sendSubmissionsTo\") !== \"zapier\" && options.get(\"sendWithJs\") === true',\n    },\n    {\n      name: 'resetFormOnSubmit',\n      type: 'boolean',\n      showIf: options =>\n        options.get('sendSubmissionsTo') === 'custom' && options.get('sendWithJs') === true,\n      advanced: true,\n    },\n    {\n      name: 'successMessage',\n      type: 'uiBlocks',\n      hideFromUI: true,\n      defaultValue: [\n        {\n          '@type': '@builder.io/sdk:Element',\n          responsiveStyles: {\n            large: {\n              marginTop: '10px',\n            },\n          },\n          component: {\n            name: 'Text',\n            options: {\n              text: '<span>Thanks!</span>',\n            },\n          },\n        },\n      ],\n    },\n    {\n      name: 'validate',\n      type: 'boolean',\n      defaultValue: true,\n      advanced: true,\n    },\n    {\n      name: 'errorMessagePath',\n      type: 'text',\n      advanced: true,\n      helperText:\n        'Path to where to get the error message from in a JSON response to display to the user, e.g. \"error.message\" for a response like { \"error\": { \"message\": \"this username is taken\" }}',\n    },\n    {\n      name: 'errorMessage',\n      type: 'uiBlocks',\n      hideFromUI: true,\n      defaultValue: [\n        {\n          '@type': '@builder.io/sdk:Element',\n          responsiveStyles: {\n            large: {\n              marginTop: '10px',\n            },\n          },\n          bindings: {\n            'component.options.text': 'state.formErrorMessage || block.component.options.text',\n          },\n          component: {\n            name: 'Text',\n            options: {\n              // TODO: how pull in API message\n              text: '<span>Form submission error :( Please check your answers and try again</span>',\n            },\n          },\n        },\n      ],\n    },\n    {\n      name: 'sendingMessage',\n      type: 'uiBlocks',\n      hideFromUI: true,\n      defaultValue: [\n        {\n          '@type': '@builder.io/sdk:Element',\n          responsiveStyles: {\n            large: {\n              marginTop: '10px',\n            },\n          },\n          component: {\n            name: 'Text',\n            options: {\n              // TODO: how pull in API message\n              text: '<span>Sending...</span>',\n            },\n          },\n        },\n      ],\n    },\n    {\n      name: 'customHeaders',\n      type: 'map',\n      // TODO: add typings for this property\n      ...({\n        valueType: {\n          type: 'string',\n        },\n      } as any),\n      advanced: true,\n      showIf: 'options.get(\"sendSubmissionsTo\") === \"custom\" && options.get(\"sendWithJs\") === true',\n    },\n    // TODO: custom headers or any fetch options\n    // TODO: json vs serialized (i.e. send on client or not)\n    // TODO: success/fail stuff\n  ],\n  noWrap: true,\n  // TODO: defaultChildren with two inputs and submit button\n  canHaveChildren: true,\n  defaultChildren: [\n    {\n      '@type': '@builder.io/sdk:Element',\n      responsiveStyles: {\n        large: {\n          marginTop: '10px',\n        },\n      },\n      component: {\n        name: 'Text',\n        options: {\n          text: '<span>Enter your name</span>',\n        },\n      },\n    },\n    {\n      '@type': '@builder.io/sdk:Element',\n      responsiveStyles: {\n        large: {\n          marginTop: '10px',\n        },\n      },\n      component: {\n        name: 'Form:Input',\n        options: {\n          name: 'name',\n          placeholder: 'Jane Doe',\n        },\n      },\n    },\n    {\n      '@type': '@builder.io/sdk:Element',\n      responsiveStyles: {\n        large: {\n          marginTop: '10px',\n        },\n      },\n      component: {\n        name: 'Text',\n        options: {\n          text: '<span>Enter your email</span>',\n        },\n      },\n    },\n    {\n      '@type': '@builder.io/sdk:Element',\n      responsiveStyles: {\n        large: {\n          marginTop: '10px',\n        },\n      },\n      component: {\n        name: 'Form:Input',\n        options: {\n          name: 'email',\n          placeholder: 'jane@doe.com',\n        },\n      },\n    },\n    {\n      '@type': '@builder.io/sdk:Element',\n      responsiveStyles: {\n        large: {\n          marginTop: '10px',\n        },\n      },\n      component: {\n        name: 'Form:SubmitButton',\n        options: {\n          text: 'Submit',\n        },\n      },\n    },\n  ],\n});\n","import React from 'react';\nimport { Builder } from '@builder.io/sdk';\nimport { withBuilder } from '../../functions/with-builder';\n\n// TODO: how do onchange...\n// TODO: actions all custom events and custom js gets\n// passed an element reference and listens for events....\n// Needs to unsubscribe, so must manage\nexport interface FormInputProps {\n  type?: string;\n  attributes?: any;\n  name?: string;\n  value?: string;\n  placeholder?: string;\n  defaultValue?: string;\n  required?: boolean;\n}\n\nclass FormInputComponent extends React.Component<FormInputProps> {\n  render() {\n    return (\n      <input\n        key={Builder.isEditing && this.props.defaultValue ? this.props.defaultValue : 'default-key'}\n        placeholder={this.props.placeholder}\n        type={this.props.type}\n        name={this.props.name}\n        value={this.props.value}\n        defaultValue={this.props.defaultValue}\n        required={this.props.required}\n        {...this.props.attributes}\n      />\n    );\n  }\n}\n\nexport const FormInput = withBuilder(FormInputComponent, {\n  name: 'Form:Input',\n  image:\n    'https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fad6f37889d9e40bbbbc72cdb5875d6ca',\n  inputs: [\n    {\n      name: 'type',\n      type: 'text',\n      enum: [\n        'text',\n        'number',\n        'email',\n        'url',\n        'checkbox',\n        'radio',\n        'range',\n        'date',\n        'datetime-local',\n        'search',\n        'tel',\n        'time',\n        'file',\n        'month',\n        'week',\n        'password',\n        'color',\n        'hidden',\n      ],\n      defaultValue: 'text',\n    },\n    {\n      name: 'name',\n      type: 'string',\n      required: true,\n      helperText:\n        'Every input in a form needs a unique name describing what it takes, e.g. \"email\"',\n    },\n    {\n      name: 'placeholder',\n      type: 'string',\n      defaultValue: 'Hello there',\n      helperText: 'Text to display when there is no value',\n    },\n    // TODO: handle value vs default value automatically like ng-model\n    {\n      name: 'defaultValue',\n      type: 'string',\n    },\n    {\n      name: 'value',\n      type: 'string',\n      advanced: true,\n    },\n\n    {\n      name: 'required',\n      type: 'boolean',\n      helperText: 'Is this input required to be filled out to submit a form',\n      defaultValue: false,\n    },\n  ],\n  // TODO\n  // TODO: call editorHooks?\n  // ...({\n  //   hooks: {\n  //     'ElementLayout:shiftBottomSide': (element: Element, amount: number, snap: boolean) => {\n  //       // TODO: either update line height or split the padding padding on bottom sides hmm\n  //     }\n  //   } as any,\n  // }),\n  noWrap: true,\n  static: true,\n  defaultStyles: {\n    paddingTop: '10px',\n    paddingBottom: '10px',\n    paddingLeft: '10px',\n    paddingRight: '10px',\n    borderRadius: '3px',\n    borderWidth: '1px',\n    borderStyle: 'solid',\n    borderColor: '#ccc',\n  },\n});\n","import React from 'react';\nimport { withBuilder } from '../../functions/with-builder';\n\nexport interface ButtonProps {\n  attributes?: any;\n  text?: string;\n}\n\nclass FormSubmitButtonComponent extends React.Component<ButtonProps> {\n  render() {\n    return (\n      <button type=\"submit\" {...this.props.attributes}>\n        {this.props.text}\n      </button>\n    );\n  }\n}\n\nexport const FormSubmitButton = withBuilder(FormSubmitButtonComponent, {\n  name: 'Form:SubmitButton',\n  image:\n    'https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fdf2820ffed1f4349a94c40b3221f5b98',\n  defaultStyles: {\n    appearance: 'none',\n    paddingTop: '15px',\n    paddingBottom: '15px',\n    paddingLeft: '25px',\n    paddingRight: '25px',\n    backgroundColor: '#3898EC',\n    color: 'white',\n    borderRadius: '4px',\n    cursor: 'pointer',\n  },\n  inputs: [\n    {\n      name: 'text',\n      type: 'text',\n      defaultValue: 'Click me',\n    },\n  ],\n  static: true,\n  noWrap: true,\n  // TODO: optional children? maybe as optional form input\n  // that only shows if advanced setting is flipped\n  // TODO: defaultChildren\n  // canHaveChildren: true,\n});\n","import React from 'react';\nimport { BuilderElement } from '@builder.io/sdk';\nimport { BuilderBlockComponent } from '../../builder-react';\nimport { withBuilder } from '../../functions/with-builder';\n\nexport interface LabelProps {\n  attributes?: any;\n  text?: string;\n  for?: string;\n  builderBlock?: BuilderElement;\n}\n\nclass LabelComponent extends React.Component<LabelProps> {\n  render() {\n    return (\n      <label htmlFor={this.props.for} {...this.props.attributes}>\n        {this.props.text && (\n          <span\n            className=\"builder-label-text\"\n            dangerouslySetInnerHTML={{\n              __html: this.props.text,\n            }}\n          />\n        )}\n        {this.props.builderBlock &&\n          this.props.builderBlock.children &&\n          this.props.builderBlock.children.map(item => (\n            <BuilderBlockComponent key={item.id} block={item} />\n          ))}\n      </label>\n    );\n  }\n}\n\n// TODO: strict ADA mode that enforces with custom error messages that all inputs need\n// labels and names\nexport const Label = withBuilder(LabelComponent, {\n  name: 'Form:Label',\n  image:\n    'https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F9322342f04b545fb9a8091cd801dfb5b',\n  inputs: [\n    {\n      name: 'text',\n      type: 'html',\n      richText: true,\n      defaultValue: 'Label',\n    },\n    {\n      name: 'for',\n      type: 'text',\n      helperText: 'The name of the input this label is for',\n      advanced: true,\n    },\n  ],\n  noWrap: true,\n  static: true,\n  canHaveChildren: true,\n  // TODO: take inner html or blocsk\n  // TODO: optional children? maybe as optional form input\n  // that only shows if advanced setting is flipped\n  // TODO: defaultChildren\n  // canHaveChildren: true,\n});\n","import React from 'react';\nimport { Builder } from '@builder.io/sdk';\nimport { withBuilder } from '../../functions/with-builder';\n\nexport interface FormSelectProps {\n  options?: { name?: string; value: string }[];\n  attributes?: any;\n  name?: string;\n  value?: string;\n  defaultValue?: string;\n}\n\nclass FormSelectComponent extends React.Component<FormSelectProps> {\n  render() {\n    const { options } = this.props;\n    return (\n      <select\n        value={this.props.value}\n        key={Builder.isEditing && this.props.defaultValue ? this.props.defaultValue : 'default-key'}\n        defaultValue={this.props.defaultValue}\n        name={this.props.name}\n        {...this.props.attributes}\n      >\n        {options &&\n          options.map(option => (\n            <option value={option.value}>{option.name || option.value}</option>\n          ))}\n      </select>\n    );\n  }\n}\n\nexport const FormSelect = withBuilder(FormSelectComponent, {\n  name: 'Form:Select',\n  image:\n    'https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F83acca093fb24aaf94dee136e9a4b045',\n  defaultStyles: {\n    alignSelf: 'flex-start',\n  },\n  inputs: [\n    {\n      name: 'options',\n      type: 'list',\n      required: true,\n      subFields: [\n        {\n          name: 'value',\n          type: 'text',\n          required: true,\n        },\n        {\n          name: 'name',\n          type: 'text',\n        },\n      ],\n      defaultValue: [\n        {\n          value: 'option 1',\n        },\n        {\n          value: 'option 2',\n        },\n      ],\n    },\n    {\n      name: 'name',\n      type: 'string',\n      required: true,\n      helperText:\n        'Every select in a form needs a unique name describing what it gets, e.g. \"email\"',\n    },\n    {\n      name: 'defaultValue',\n      type: 'string',\n    },\n    {\n      name: 'value',\n      type: 'string',\n      advanced: true,\n    },\n\n    {\n      name: 'required',\n      type: 'boolean',\n      defaultValue: false,\n    },\n  ],\n  static: true,\n  noWrap: true,\n});\n","import React from 'react';\nimport { withBuilder } from '../../functions/with-builder';\n\nexport interface FormTextAreaProps {\n  attributes?: any;\n  name?: string;\n  value?: string;\n  defaultValue?: string;\n  placeholder?: string;\n}\n\nclass TextAreaComponent extends React.Component<FormTextAreaProps> {\n  render() {\n    return (\n      <textarea\n        placeholder={this.props.placeholder}\n        name={this.props.name}\n        value={this.props.value}\n        defaultValue={this.props.defaultValue}\n        {...this.props.attributes}\n      />\n    );\n  }\n}\n\nexport const TextArea = withBuilder(TextAreaComponent, {\n  name: 'Form:TextArea',\n  image:\n    'https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Ff74a2f3de58c4c3e939204e5b6b8f6c3',\n  inputs: [\n    {\n      advanced: true,\n      name: 'value',\n      type: 'string',\n    },\n    {\n      name: 'name',\n      type: 'string',\n      required: true,\n      helperText: 'Every input in a form needs a unique name describing what it gets, e.g. \"email\"',\n    },\n    {\n      name: 'defaultValue',\n      type: 'string',\n    },\n    {\n      name: 'placeholder',\n      type: 'string',\n      defaultValue: 'Hello there',\n    },\n    {\n      name: 'required',\n      type: 'boolean',\n      defaultValue: false,\n    },\n  ],\n  defaultStyles: {\n    paddingTop: '10px',\n    paddingBottom: '10px',\n    paddingLeft: '10px',\n    paddingRight: '10px',\n    borderRadius: '3px',\n    borderWidth: '1px',\n    borderStyle: 'solid',\n    borderColor: '#ccc',\n  },\n  static: true,\n  noWrap: true,\n});\n","import React from 'react';\nimport { BuilderElement } from '@builder.io/sdk';\nimport { withBuilder } from '../../functions/with-builder';\n\nexport interface ImgProps {\n  attributes?: any;\n  image?: string;\n  builderBlock?: BuilderElement;\n}\n\n// TODO: srcset, alt text input, object size/position input, etc\n\nclass ImgComponent extends React.Component<ImgProps> {\n  render() {\n    const attributes = this.props.attributes || {};\n    return (\n      <img\n        {...this.props.attributes}\n        src={this.props.image || attributes.src}\n        // TODO: generate this\n        // srcSet={this.props.image || attributes.srcSet || attributes.srcset}\n      />\n    );\n  }\n}\n\nexport const Img = withBuilder(ImgComponent, {\n  // friendlyName?\n  name: 'Raw:Img',\n  hideFromInsertMenu: true,\n  image:\n    'https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4',\n  inputs: [\n    {\n      name: 'image',\n      bubble: true,\n      type: 'file',\n      allowedFileTypes: ['jpeg', 'jpg', 'png', 'svg'],\n      required: true,\n    },\n  ],\n  noWrap: true,\n  static: true,\n});\n","import * as React from 'react';\nimport { BuilderElement, Builder } from '@builder.io/sdk';\n\nexport interface RawTextProps {\n  attributes?: any;\n  text?: string;\n  builderBlock?: BuilderElement;\n}\n\nexport const RawText = (props: RawTextProps) => {\n  const attributes = props.attributes || {};\n  return (\n    <span\n      className={attributes?.class || attributes?.className}\n      dangerouslySetInnerHTML={{ __html: props.text || '' }}\n    />\n  );\n};\n\nBuilder.registerComponent(RawText, {\n  name: 'Builder:RawText',\n  hideFromInsertMenu: true,\n  inputs: [\n    {\n      name: 'text',\n      bubble: true,\n      type: 'longText',\n      required: true,\n    },\n  ],\n});\n","import './scripts/init-editing';\n\nimport { builder, Builder } from '@builder.io/sdk';\nexport { BuilderElement } from '@builder.io/sdk';\n\nBuilder.isReact = true;\n\nexport { BuilderBlocks } from './components/builder-blocks.component';\nexport { BuilderBlock as BuilderBlockComponent } from './components/builder-block.component';\nexport { BuilderContent } from './components/builder-content.component';\nimport { BuilderComponent, onChange } from './components/builder-component.component';\nexport { BuilderStoreContext, BuilderStore } from './store/builder-store';\nexport { BuilderMetaContext } from './store/builder-meta';\nexport { BuilderAsyncRequestsContext } from './store/builder-async-requests';\nexport { BuilderBlock } from './decorators/builder-block.decorator';\n\nexport * from './functions/update-metadata';\n\nexport { withBuilder } from './functions/with-builder';\nexport { withChildren } from './functions/with-children';\nexport { noWrap } from './functions/no-wrap';\n\nexport { BuilderComponent as BuilderPage, onChange };\nexport { BuilderComponent };\nexport { BuilderComponent as RenderContent };\n\nexport { Text } from './blocks/Text';\nexport { Slot as Dropzone } from './blocks/Slot';\nexport { Fragment } from './blocks/Fragment';\nexport { Columns } from './blocks/Columns';\nexport { Embed } from './blocks/Embed';\nexport { CustomCode } from './blocks/CustomCode';\nexport { Image, getSrcSet } from './blocks/Image';\nexport { Video } from './blocks/Video';\nexport { Symbol } from './blocks/Symbol';\nexport { Button } from './blocks/Button';\nexport { Section } from './blocks/Section';\nexport { StateProvider } from './blocks/StateProvider';\nexport { Router } from './blocks/Router';\nexport { Mutation } from './blocks/Mutation';\n\nexport { Form } from './blocks/forms/Form';\nexport { FormInput } from './blocks/forms/Input';\nexport { FormSubmitButton } from './blocks/forms/Button';\nexport { Label } from './blocks/forms/Label'; // advanced?\nexport { FormSelect } from './blocks/forms/Select'; // advanced?\nexport { TextArea } from './blocks/forms/TextArea';\nexport { Img } from './blocks/raw/Img';\nexport { RawText } from './blocks/raw/RawText';\n\nexport { stringToFunction } from './functions/string-to-function';\n\nexport { builder, Builder };\nexport default builder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}